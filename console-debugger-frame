# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  77c2fc4287fb7d9c53b71910149c7e455124259e
1240881- [e10s] console hangs when debugging and reloading a few times

diff --git a/devtools/client/webconsole/test/browser_eval_in_debugger_stackframe2.js b/devtools/client/webconsole/test/browser_eval_in_debugger_stackframe2.js
--- a/devtools/client/webconsole/test/browser_eval_in_debugger_stackframe2.js
+++ b/devtools/client/webconsole/test/browser_eval_in_debugger_stackframe2.js
@@ -14,16 +14,17 @@ const TEST_URI = "http://example.com/bro
                  "test/test-eval-in-stackframe.html";
 add_task(function*() {
   yield loadTab(TEST_URI);
 
   info("open the web console");
   let hud = yield openConsole();
   let {jsterm} = hud;
 
+
   info("open the debugger");
   let {panelWin} = yield openDebugger();
   let {DebuggerController} = panelWin;
   let {activeThread} = DebuggerController;
 
   let firstCall = promise.defer();
   let frameAdded = promise.defer();
   executeSoon(() => {
@@ -32,16 +33,17 @@ add_task(function*() {
       executeSoon(frameAdded.resolve);
     });
     jsterm.execute("firstCall()").then(firstCall.resolve);
   });
 
   info("Waiting for a frame to be added");
   yield frameAdded.promise;
 
+yield new Promise(r=>r);
   info("Executing basic command while paused");
   yield executeAndConfirm(jsterm, "1 + 2", "3");
 
   info("Executing command using scoped variables while paused");
   yield executeAndConfirm(jsterm, "foo + foo2",
                           '"globalFooBug783499foo2SecondCall"');
 
   info("Resuming the thread");
