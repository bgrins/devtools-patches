# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  1116c0c69136a266da5b805e3aa1d4d5137ff698

diff --git a/browser/components/places/content/places-menupopup.js b/browser/components/places/content/places-menupopup.js
--- a/browser/components/places/content/places-menupopup.js
+++ b/browser/components/places/content/places-menupopup.js
@@ -32,43 +32,63 @@
       }
 
       this.attachShadow({ mode: "open" });
     }
 
     get markup() {
       return `
       <html:link rel="stylesheet" href="chrome://global/skin/global.css" />
+      <html:style type="text/css">${this.styles}</html:style>
       <hbox flex="1" part="innerbox">
         <vbox part="drop-indicator-bar" hidden="true">
           <image part="drop-indicator" mousethrough="always"></image>
         </vbox>
         <arrowscrollbox class="popup-internal-box" flex="1" orient="vertical"
                         smoothscroll="false" part="popupbox">
           <html:slot></html:slot>
         </arrowscrollbox>
       </hbox>
     `;
     }
 
+    get styles() {
+      return `
+        /* Remove padding on xul:arrowscrollbox to avoid extra padding on footer */
+        :host([compactarrowscrollbox=true]) .arrowscrollbox.popup-internal-box {
+          padding-bottom: 0px;
+        }
+        :host([compactarrowscrollbox=true]) .panel-arrowcontainer > .panel-arrowcontent > .popup-internal-box > .scrollbutton-up,
+        :host([compactarrowscrollbox=true]) .panel-arrowcontainer > .panel-arrowcontent > .popup-internal-box > .scrollbutton-down {
+          -moz-appearance: none;
+          margin-top: 0;
+          margin-bottom: 0;
+        }
+     `;
+    }
+
     connectedCallback() {
       if (this.delayConnectedCallback()) {
         return;
       }
 
       this.shadowRoot.textContent = "";
       this.shadowRoot.appendChild(
         MozXULElement.parseXULToFragment(this.markup)
       );
 
       this._indicatorBar = this.shadowRoot.querySelector(
         "[part=drop-indicator-bar]"
       );
       this._scrollBox = this.shadowRoot.querySelector(".popup-internal-box");
 
+      // if (this.closest("#BMB_bookmarksPopup")) {
+        this.setAttribute("compactarrowscrollbox", "true");
+      // }
+
       /**
        * Sub-menus should be opened when the mouse drags over them, and closed
        * when the mouse drags off.  The overFolder object manages opening and
        * closing of folders when the mouse hovers.
        */
       this._overFolder = {
         _self: this,
         _folder: {
@@ -594,16 +614,17 @@
         ".panel-arrow": "side",
         ".panel-arrowcontent": "side,align,dir,orient,pack",
       };
     }
 
     get markup() {
       return `
       <html:link rel="stylesheet" href="chrome://global/skin/global.css" />
+      <html:style type="text/css">${this.styles}</html:style>
       <vbox class="panel-arrowcontainer" flex="1">
         <box class="panel-arrowbox">
           <image class="panel-arrow"></image>
         </box>
         <box class="panel-arrowcontent" part="arrowcontent" flex="1">
           <vbox part="drop-indicator-bar" hidden="true">
             <image part="drop-indicator" mousethrough="always"></image>
           </vbox>
