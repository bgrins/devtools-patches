# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  933f9cd9b3b9030399a11c19cb4e5117b29e2772
Bug 1416368 - Remove unused statusbarpanel-* bindings;r=dao

diff --git a/accessible/tests/mochitest/role/test_general.xul b/accessible/tests/mochitest/role/test_general.xul
--- a/accessible/tests/mochitest/role/test_general.xul
+++ b/accessible/tests/mochitest/role/test_general.xul
@@ -20,18 +20,16 @@
     {
       ok(!isAccessible("image"),
                       "image without tooltiptext shouldn't be accessible.");
       testRole("image-tooltiptext", ROLE_GRAPHIC);
       testRole("image-onclick", ROLE_PUSHBUTTON);
 
       ok(!isAccessible("statusbarpanel"),
                       "statusbarpanel shouldn't be accessible.");
-      testRole("statusbarpanel-iconic", ROLE_PUSHBUTTON);
-      testRole("statusbarpanel-iconic-text", ROLE_PUSHBUTTON);
       testRole("statusbar", ROLE_STATUSBAR);
 
       SimpleTest.finish();
     }
 
     SimpleTest.waitForExplicitFinish();
     addA11yLoadEvent(doTest);
   ]]>
@@ -52,15 +50,13 @@
     </pre>
   </body>
 
   <image id="image" src="../moz.png"/>
   <image id="image-tooltiptext" src="../moz.png" tooltiptext="hello"/>
   <image id="image-onclick" src="../moz.png" onclick=""/>
 
   <statusbarpanel id="statusbarpanel"></statusbarpanel>
-  <statusbarpanel id="statusbarpanel-iconic" class="statusbarpanel-iconic"></statusbarpanel>
-  <statusbarpanel id="statusbarpanel-iconic-text" class="statusbarpanel-iconic-text"></statusbarpanel>
   <statusbar id="statusbar"></statusbar>
 
   </hbox>
 </window>
 
diff --git a/toolkit/content/widgets/general.xml b/toolkit/content/widgets/general.xml
--- a/toolkit/content/widgets/general.xml
+++ b/toolkit/content/widgets/general.xml
@@ -117,48 +117,25 @@
                 onget="return this.getAttribute('image');"
                 onset="this.setAttribute('image',val); return val;"/>
       <property name="src"
                 onget="return this.getAttribute('src');"
                 onset="this.setAttribute('src',val); return val;"/>
     </implementation>
   </binding>
 
-  <binding id="statusbarpanel-menu-iconic" display="xul:menu"
-           extends="chrome://global/content/bindings/general.xml#statusbarpanel">
-    <content>
-      <xul:image class="statusbarpanel-icon" xbl:inherits="src,src=image"/>
-      <children/>
-    </content>
-  </binding>
-
   <binding id="statusbar" role="xul:statusbar">
     <content>
       <children/>
       <xul:statusbarpanel class="statusbar-resizerpanel">
         <xul:resizer dir="bottomend"/>
       </xul:statusbarpanel>
     </content>
   </binding>
 
-  <binding id="statusbarpanel-iconic" display="xul:button" role="xul:button"
-           extends="chrome://global/content/bindings/general.xml#statusbarpanel">
-    <content>
-      <xul:image class="statusbarpanel-icon" xbl:inherits="src,src=image"/>
-    </content>
-  </binding>
-
-  <binding id="statusbarpanel-iconic-text" display="xul:button" role="xul:button"
-           extends="chrome://global/content/bindings/general.xml#statusbarpanel">
-    <content>
-      <xul:image class="statusbarpanel-icon" xbl:inherits="src,src=image"/>
-      <xul:label class="statusbarpanel-text" xbl:inherits="value=label,crop"/>
-    </content>
-  </binding>
-
   <binding id="deck">
     <implementation>
       <property name="selectedIndex"
                 onget="return this.getAttribute('selectedIndex') || '0'">
         <setter>
         <![CDATA[
           if (this.selectedIndex == val)
             return val;
diff --git a/toolkit/content/xul.css b/toolkit/content/xul.css
--- a/toolkit/content/xul.css
+++ b/toolkit/content/xul.css
@@ -1022,28 +1022,16 @@ statusbar {
   padding-right: 14px;
 %endif
 }
 
 statusbarpanel {
   -moz-binding: url("chrome://global/content/bindings/general.xml#statusbarpanel");
 }
 
-.statusbarpanel-iconic {
-  -moz-binding: url("chrome://global/content/bindings/general.xml#statusbarpanel-iconic");
-}
-
-.statusbarpanel-iconic-text {
-  -moz-binding: url("chrome://global/content/bindings/general.xml#statusbarpanel-iconic-text");
-}
-
-.statusbarpanel-menu-iconic {
-  -moz-binding: url("chrome://global/content/bindings/general.xml#statusbarpanel-menu-iconic");
-}
-
 /********** spinbuttons ***********/
 
 spinbuttons {
   -moz-binding: url("chrome://global/content/bindings/spinbuttons.xml#spinbuttons");
 }
 
 .spinbuttons-button {
   -moz-user-focus: ignore;
diff --git a/toolkit/themes/linux/global/global.css b/toolkit/themes/linux/global/global.css
--- a/toolkit/themes/linux/global/global.css
+++ b/toolkit/themes/linux/global/global.css
@@ -109,22 +109,16 @@ statusbarpanel {
 
 .statusbar-resizerpanel {
   -moz-box-align: end;
   -moz-box-pack: end;
   -moz-appearance: resizerpanel;
   padding: 0;
 }
 
-.statusbarpanel-iconic,
-.statusbarpanel-iconic-text,
-.statusbarpanel-menu-iconic {
-  padding: 0 1px;
-}
-
 /* XXXBlake yeah, shoot me -- these don't belong here.  I'll move them later. */
 
 sidebarheader {
   min-height: 25px;
   text-shadow: none;
 }
 
 sidebarheader > label {
diff --git a/toolkit/themes/osx/global/global.css b/toolkit/themes/osx/global/global.css
--- a/toolkit/themes/osx/global/global.css
+++ b/toolkit/themes/osx/global/global.css
@@ -105,20 +105,16 @@ statusbar {
 }
 
 statusbarpanel {
   -moz-box-align: center;
   -moz-box-pack: center;
   padding: 0 4px;
 }
 
-.statusbarpanel-iconic {
-  padding: 0px;
-}
-
 /* ::::: miscellaneous formatting ::::: */
 
 sidebarheader {
   background-color: -moz-Dialog;
   color: -moz-dialogText;
   text-shadow: none;
 }
 
diff --git a/toolkit/themes/windows/global/global.css b/toolkit/themes/windows/global/global.css
--- a/toolkit/themes/windows/global/global.css
+++ b/toolkit/themes/windows/global/global.css
@@ -116,22 +116,16 @@ statusbarpanel:not(.statusbar-resizerpan
 .statusbar-resizerpanel {
   -moz-box-align: end;
   -moz-box-pack: end;
   -moz-appearance: resizerpanel;
   padding: 0;
   border: none;
 }
 
-.statusbarpanel-iconic,
-.statusbarpanel-iconic-text,
-.statusbarpanel-menu-iconic {
-  padding: 0 1px;
-}
-
 /* XXXBlake yeah, shoot me -- these don't belong here.  I'll move them later. */
 
 sidebarheader {
   min-height: 25px;
   text-shadow: none;
 }
 
 sidebarheader > label {
