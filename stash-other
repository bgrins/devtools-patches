# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  3a703698f67cbfb320d93f7b91b170b0865a38ce

diff --git a/browser/themes/shared/tabs.inc.css b/browser/themes/shared/tabs.inc.css
--- a/browser/themes/shared/tabs.inc.css
+++ b/browser/themes/shared/tabs.inc.css
@@ -434,18 +434,18 @@
 
 .tab-icon-sound[soundplaying-scheduledremoval]:not([muted]):not(:hover),
 .tab-icon-overlay[soundplaying-scheduledremoval]:not([muted]):not(:hover) {
   transition: opacity .3s linear var(--soundplaying-removal-delay);
   opacity: 0;
 }
 
 /* Tab Overflow */
-.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-start-indicator:not([collapsed]),
-.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-end-indicator:not([collapsed]) {
+.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-start-indicator[scrolledtostart],
+.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-end-indicator[scrolledtoend] {
   width: 18px;
   background-image: url(chrome://browser/skin/tabbrowser/tab-overflow-indicator.png);
   background-size: 17px 100%;
   background-repeat: no-repeat;
   border-left: 1px solid;
   border-image: linear-gradient(rgba(255,255,255,.2),
                                 rgba(255,255,255,.2) calc(100% - 1px - var(--tabs-navbar-shadow-size)),
                                 transparent calc(100% - 1px - var(--tabs-navbar-shadow-size)));
@@ -455,33 +455,34 @@
   z-index: 3; /* the selected tab's z-index + 1 */
 }
 
 .tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-start-indicator:-moz-locale-dir(rtl),
 .tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-end-indicator:-moz-locale-dir(ltr) {
   transform: scaleX(-1);
 }
 
-.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-start-indicator:not([collapsed]) {
+.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-start-indicator[scrolledtostart] {
   margin-inline-start: -1px;
   margin-inline-end: -17px;
 }
 
-.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-end-indicator:not([collapsed]) {
+.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-end-indicator[scrolledtoend] {
   margin-inline-start: -17px;
   margin-inline-end: -1px;
 }
 
-.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-start-indicator[collapsed],
-.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-end-indicator[collapsed] {
+.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-start-indicator:not([scrolledtostart]),
+.tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-end-indicator:not([scrolledtoend]) {
   opacity: 0;
 }
 
 .tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-start-indicator,
 .tabbrowser-arrowscrollbox > .arrowscrollbox-overflow-end-indicator {
+  visibility: collapse;
   transition: opacity 150ms ease;
 }
 
 .tabbrowser-tab:not([visuallyselected=true]):not([multiselected]),
 .tabbrowser-tab:-moz-lwtheme {
   color: inherit;
 }
 
diff --git a/toolkit/content/widgets/scrollbox.xml b/toolkit/content/widgets/scrollbox.xml
--- a/toolkit/content/widgets/scrollbox.xml
+++ b/toolkit/content/widgets/scrollbox.xml
@@ -15,25 +15,25 @@
                          anonid="scrollbutton-up"
                          xbl:inherits="orient,collapsed=notoverflowing,disabled=scrolledtostart"
                          onclick="_onButtonClick(event);"
                          onmousedown="_onButtonMouseDown(event, -1);"
                          onmouseup="_onButtonMouseUp(event);"
                          onmouseover="_onButtonMouseOver(-1);"
                          onmouseout="_onButtonMouseOut();"/>
       <xul:spacer class="arrowscrollbox-overflow-start-indicator"
-                  xbl:inherits="collapsed=scrolledtostart"/>
+                  xbl:inherits="scrolledtostart"/>
       <xul:scrollbox class="arrowscrollbox-scrollbox"
                      anonid="scrollbox"
                      flex="1"
                      xbl:inherits="orient,align,pack,dir,smoothscroll">
         <children/>
       </xul:scrollbox>
       <xul:spacer class="arrowscrollbox-overflow-end-indicator"
-                  xbl:inherits="collapsed=scrolledtoend"/>
+                  xbl:inherits="scrolledtoend"/>
       <xul:toolbarbutton class="scrollbutton-down"
                          anonid="scrollbutton-down"
                          xbl:inherits="orient,collapsed=notoverflowing,disabled=scrolledtoend"
                          onclick="_onButtonClick(event);"
                          onmousedown="_onButtonMouseDown(event, 1);"
                          onmouseup="_onButtonMouseUp(event);"
                          onmouseover="_onButtonMouseOver(1);"
                          onmouseout="_onButtonMouseOut();"/>
