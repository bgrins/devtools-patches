# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  b911a4c97fde5d8bdeebfd5d0266ee9f7b9e59b2
Bug 1389939 - Stop syncing devtools theme and compact themes;r=Gijs

diff --git a/devtools/client/framework/devtools-browser.js b/devtools/client/framework/devtools-browser.js
--- a/devtools/client/framework/devtools-browser.js
+++ b/devtools/client/framework/devtools-browser.js
@@ -32,19 +32,16 @@ loader.lazyImporter(this, "ScratchpadMan
 loader.lazyImporter(this, "CustomizableUI", "resource:///modules/CustomizableUI.jsm");
 loader.lazyImporter(this, "CustomizableWidgets", "resource:///modules/CustomizableWidgets.jsm");
 loader.lazyImporter(this, "AppConstants", "resource://gre/modules/AppConstants.jsm");
 loader.lazyImporter(this, "LightweightThemeManager", "resource://gre/modules/LightweightThemeManager.jsm");
 
 const {LocalizationHelper} = require("devtools/shared/l10n");
 const L10N = new LocalizationHelper("devtools/client/locales/toolbox.properties");
 
-const COMPACT_LIGHT_ID = "firefox-compact-light@mozilla.org";
-const COMPACT_DARK_ID = "firefox-compact-dark@mozilla.org";
-
 const BROWSER_STYLESHEET_URL = "chrome://devtools/skin/devtools-browser.css";
 
 /**
  * gDevToolsBrowser exposes functions to connect the gDevTools instance with a
  * Firefox instance.
  */
 var gDevToolsBrowser = exports.gDevToolsBrowser = {
   /**
@@ -158,34 +155,16 @@ var gDevToolsBrowser = exports.gDevTools
 
     // Style gcli and the splitter between the toolbox and page content.  This used to
     // set the attribute on the browser's root node but that regressed tpaint:
     // bug 1331449.
     win.document.getElementById("browser-bottombox")
        .setAttribute("devtoolstheme", devtoolsTheme);
     win.document.getElementById("content")
        .setAttribute("devtoolstheme", devtoolsTheme);
-
-    // If the toolbox color changes and we have the opposite compact theme applied,
-    // change it to match.  For example:
-    // 1) toolbox changes to dark, and the light compact theme was applied.
-    //    Switch to the dark compact theme.
-    // 2) toolbox changes to light or firebug, and the dark compact theme was applied.
-    //    Switch to the light compact theme.
-    // 3) No compact theme was applied. Do nothing.
-    let currentTheme = LightweightThemeManager.currentTheme;
-    let currentThemeID = currentTheme && currentTheme.id;
-    if (currentThemeID == COMPACT_LIGHT_ID && devtoolsTheme == "dark") {
-      LightweightThemeManager.currentTheme =
-        LightweightThemeManager.getUsedTheme(COMPACT_DARK_ID);
-    }
-    if (currentThemeID == COMPACT_DARK_ID && devtoolsTheme == "light") {
-      LightweightThemeManager.currentTheme =
-        LightweightThemeManager.getUsedTheme(COMPACT_LIGHT_ID);
-    }
   },
 
   observe(subject, topic, prefName) {
     switch (topic) {
       case "browser-delayed-startup-finished":
         this._registerBrowserWindow(subject);
         break;
       case "nsPref:changed":
