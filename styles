# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  b682caab3806d65b4a011f1450a1e1c857a454ac

diff --git a/toolkit/themes/osx/global/global.css b/toolkit/themes/osx/global/global.css
--- a/toolkit/themes/osx/global/global.css
+++ b/toolkit/themes/osx/global/global.css
@@ -214,47 +214,50 @@ notification > hbox > button > .button-b
 popupnotificationcontent {
   margin-top: .5em;
 }
 
 %include ../../shared/notification-popup.inc.css
 
 /* autorepeatbuttons in menus */
 
-.popup-internal-box > .scrollbutton-up,
-.popup-internal-box > .scrollbutton-down {
+.popup-internal-box::part(scrollbutton-up),
+.popup-internal-box::part(scrollbutton-down) {
   height: 15px;
   position: relative;
   list-style-image: none;
   /* Here we're using a little magic.
    * The arrow button is supposed to overlay the scrollbox, blocking
    * everything under it from reaching the screen. However, the menu background
    * is slightly transparent, so how can we block something completely without
    * messing up the transparency? It's easy: The native theming of the
    * "menuitem" appearance uses CGContextClearRect before drawing, which
    * clears everything under it.
    * Without help from native theming this effect wouldn't be achievable.
    */
   -moz-appearance: menuitem;
 }
 
-.popup-internal-box > .scrollbutton-up {
+.popup-internal-box::part(scrollbutton-up) {
   padding-top: 1px; /* 4px padding-top from the .popup-internal-box. */
   margin-bottom: -15px;
 }
 
-.popup-internal-box > .scrollbutton-up > .toolbarbutton-icon {
+/* XXX */
+.popup-internal-box::part(scrollbutton-up) > .toolbarbutton-icon {
   -moz-appearance: button-arrow-up;
 }
 
-.popup-internal-box > .scrollbutton-down {
+.popup-internal-box::part(scrollbutton-down) {
   padding-top: 5px;
   margin-top: -15px;
 }
 
-.popup-internal-box > .scrollbutton-down > .toolbarbutton-icon {
+/* XXX */
+.popup-internal-box::part(scrollbutton-down) > .toolbarbutton-icon {
   -moz-appearance: button-arrow-down;
 }
 
-.popup-internal-box > .scrollbutton-up[disabled="true"],
-.popup-internal-box > .scrollbutton-down[disabled="true"] {
+/* XXX */
+.popup-internal-box[scrolledtostart=true]::part(scrollbutton-up),
+.popup-internal-box[scrolledtoend=true]::part(scrollbutton-down) {
   visibility: collapse;
 }
