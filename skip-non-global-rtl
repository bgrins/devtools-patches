# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  bad937fae3c6957ee75bc1dbc708af722651a35a

diff --git a/dom/xul/XULDocument.cpp b/dom/xul/XULDocument.cpp
--- a/dom/xul/XULDocument.cpp
+++ b/dom/xul/XULDocument.cpp
@@ -1429,21 +1429,23 @@ bool XULDocument::IsDocumentRightToLeft(
     // use the 'global' package for about and resource uris.
     // otherwise, just default to left-to-right.
     bool isAbout, isResource;
     if (NS_SUCCEEDED(mDocumentURI->SchemeIs("about", &isAbout)) && isAbout) {
       package.AssignLiteral("global");
     } else if (NS_SUCCEEDED(mDocumentURI->SchemeIs("resource", &isResource)) &&
                isResource) {
       package.AssignLiteral("global");
-    } else {
-      return false;
     }
   }
 
+  if (!package.EqualsLiteral("global")) {
+    return false;
+  }
+
   bool isRTL = false;
   reg->IsLocaleRTL(package, &isRTL);
   return isRTL;
 }
 
 void XULDocument::ResetDocumentDirection() {
   DocumentStatesChanged(NS_DOCUMENT_STATE_RTL_LOCALE);
 }
