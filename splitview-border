# HG changeset patch
# Parent 90a13e41b081b46bbf3d1e649968cc5079c71614
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 966201 - There's a 1px top border between selected and non-selected items in the style editor stylesheets list;r=vporof

diff --git a/browser/themes/linux/jar.mn b/browser/themes/linux/jar.mn
--- a/browser/themes/linux/jar.mn
+++ b/browser/themes/linux/jar.mn
@@ -179,17 +179,17 @@ browser.jar:
   skin/classic/browser/devtools/commandline.css              (devtools/commandline.css)
   skin/classic/browser/devtools/markup-view.css       (../shared/devtools/markup-view.css)
   skin/classic/browser/devtools/editor-error.png       (devtools/editor-error.png)
   skin/classic/browser/devtools/editor-breakpoint.png  (devtools/editor-breakpoint.png)
   skin/classic/browser/devtools/editor-debug-location.png (devtools/editor-debug-location.png)
   skin/classic/browser/devtools/breadcrumbs-divider@2x.png      (../shared/devtools/images/breadcrumbs-divider@2x.png)
   skin/classic/browser/devtools/breadcrumbs-scrollbutton.png    (../shared/devtools/images/breadcrumbs-scrollbutton.png)
   skin/classic/browser/devtools/breadcrumbs-scrollbutton@2x.png (../shared/devtools/images/breadcrumbs-scrollbutton@2x.png)
-  skin/classic/browser/devtools/splitview.css         (../shared/devtools/splitview.css)
+* skin/classic/browser/devtools/splitview.css         (../shared/devtools/splitview.css)
   skin/classic/browser/devtools/styleeditor.css       (../shared/devtools/styleeditor.css)
 * skin/classic/browser/devtools/shadereditor.css      (devtools/shadereditor.css)
 * skin/classic/browser/devtools/debugger.css          (devtools/debugger.css)
 * skin/classic/browser/devtools/profiler.css          (devtools/profiler.css)
 * skin/classic/browser/devtools/netmonitor.css        (devtools/netmonitor.css)
 * skin/classic/browser/devtools/scratchpad.css        (devtools/scratchpad.css)
   skin/classic/browser/devtools/magnifying-glass.png  (devtools/magnifying-glass.png)
   skin/classic/browser/devtools/option-icon.png       (../shared/devtools/images/option-icon.png)
diff --git a/browser/themes/osx/jar.mn b/browser/themes/osx/jar.mn
--- a/browser/themes/osx/jar.mn
+++ b/browser/themes/osx/jar.mn
@@ -288,17 +288,17 @@ browser.jar:
   skin/classic/browser/devtools/editor-breakpoint.png        (devtools/editor-breakpoint.png)
   skin/classic/browser/devtools/editor-debug-location.png    (devtools/editor-debug-location.png)
 * skin/classic/browser/devtools/webconsole.css                  (devtools/webconsole.css)
   skin/classic/browser/devtools/webconsole_networkpanel.css     (devtools/webconsole_networkpanel.css)
   skin/classic/browser/devtools/webconsole.png                  (devtools/webconsole.png)
   skin/classic/browser/devtools/breadcrumbs-divider@2x.png      (../shared/devtools/images/breadcrumbs-divider@2x.png)
   skin/classic/browser/devtools/breadcrumbs-scrollbutton.png    (../shared/devtools/images/breadcrumbs-scrollbutton.png)
   skin/classic/browser/devtools/breadcrumbs-scrollbutton@2x.png (../shared/devtools/images/breadcrumbs-scrollbutton@2x.png)
-  skin/classic/browser/devtools/splitview.css               (../shared/devtools/splitview.css)
+* skin/classic/browser/devtools/splitview.css               (../shared/devtools/splitview.css)
   skin/classic/browser/devtools/styleeditor.css             (../shared/devtools/styleeditor.css)
 * skin/classic/browser/devtools/shadereditor.css            (devtools/shadereditor.css)
 * skin/classic/browser/devtools/debugger.css                (devtools/debugger.css)
 * skin/classic/browser/devtools/profiler.css                (devtools/profiler.css)
 * skin/classic/browser/devtools/netmonitor.css              (devtools/netmonitor.css)
 * skin/classic/browser/devtools/scratchpad.css              (devtools/scratchpad.css)
   skin/classic/browser/devtools/magnifying-glass.png        (devtools/magnifying-glass.png)
   skin/classic/browser/devtools/option-icon.png             (../shared/devtools/images/option-icon.png)
diff --git a/browser/themes/shared/devtools/splitview.css b/browser/themes/shared/devtools/splitview.css
--- a/browser/themes/shared/devtools/splitview.css
+++ b/browser/themes/shared/devtools/splitview.css
@@ -1,104 +1,139 @@
 /* vim:set ts=2 sw=2 sts=2 et: */
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
+%filter substitution
+%define smw_selectionTextColor #f5f7fa
+%define smw_marginDark #000
+%define smw_marginLight #aaa
+%define smw_itemDarkTopBorder rgba(0,0,0,0.2)
+%define smw_itemDarkBottomBorder rgba(128,128,128,0.15)
+%define smw_itemLightTopBorder rgba(128,128,128,0.15)
+%define smw_itemLightBottomBorder transparent
+
 .loading .splitview-nav-container {
   background-image: url(chrome://global/skin/icons/loading_16.png);
   background-repeat: no-repeat;
   background-position: center center;
 }
 
 .theme-dark .splitview-nav-container {
   background: url(background-noise-toolbar.png), #343c45;
 }
 
 .splitview-nav {
   -moz-appearance: none;
-  margin: 0;
-}
-
-.theme-dark .splitview-nav {
-  box-shadow: inset -1px 0 0 black; /* Match the splitter. */
-}
-
-.theme-light .splitview-nav {
-  box-shadow: inset -1px 0 0 #aaa; /* Match the splitter color. */
-}
-
-.splitview-nav > li {
-  background-clip: padding-box;
-  border-bottom: 1px solid hsla(210,16%,76%,.1);
-  box-shadow: inset 0 -1px 0 hsla(210,8%,5%,.25);
-  -moz-padding-end: 8px;
-  -moz-box-align: center;
-}
-
-.splitview-nav {
   list-style-image: none;
   list-style: none;
   padding: 0;
   margin: 0;
 }
 
+.theme-dark .splitview-nav {
+  box-shadow: inset -1px 0 0 @smw_marginDark@;
+}
+
+.theme-dark .splitview-nav:-moz-locale-dir(rtl) {
+  box-shadow: inset 1px 0 0 @smw_marginDark@;
+}
+
+.theme-light .splitview-nav {
+  box-shadow: inset -1px 0 0 @smw_marginLight@;
+}
+
+.theme-light .splitview-nav:-moz-locale-dir(rtl) {
+  box-shadow: inset 1px 0 0 @smw_marginLight@;
+}
+
 .splitview-nav > li {
+  /* To compensate for the top and bottom borders */
+  margin-top: -1px;
+  margin-bottom: -1px;
+  -moz-padding-end: 8px;
+  -moz-box-align: center;
   outline: 0;
   vertical-align: bottom;
 }
 
+.theme-dark .splitview-nav > li {
+  border-top: 1px solid @smw_itemDarkTopBorder@;
+  border-bottom: 1px solid @smw_itemDarkBottomBorder@;
+}
+
+.theme-dark .splitview-nav > li:last-of-type {
+  box-shadow: inset 0 -1px 0 @smw_itemDarkTopBorder@;
+}
+
+.theme-light  .splitview-nav > li {
+  border-top: 1px solid @smw_itemLightTopBorder@;
+  border-bottom: 1px solid @smw_itemLightBottomBorder@;
+}
+
+.theme-light .splitview-nav > li:last-of-type {
+  box-shadow: inset 0 -1px 0 @smw_itemLightTopBorder@;
+}
+
 .placeholder {
   -moz-box-flex: 1;
   text-align: center;
 }
 
 .splitview-nav > li.splitview-active {
-  background-image: url(itemArrow-dark-ltr.png),
-                    linear-gradient(#1d4f73, #1d4f73);
-  background-repeat: no-repeat, repeat-x;
-  background-position: center right, top left;
-  background-size: auto, auto;
-  border-bottom: 1px solid hsla(210,8%,5%,.25);
-  box-shadow: inset 0 1px 0 hsla(210,40%,83%,.15),
-              inset 0 -1px 0 hsla(210,40%,83%,.05);
+  background-repeat: no-repeat, no-repeat, repeat-x;
+  background-position: center right, center right, top left;
+  background-size: auto, 1px, auto;
 }
 
 .splitview-nav > li.splitview-active:-moz-locale-dir(rtl) {
+  background-repeat: no-repeat, no-repeat, repeat-x;
+  background-position: center left, center left, top right;
+}
+
+.theme-dark .splitview-nav > li.splitview-active {
+  background-image: url(itemArrow-dark-ltr.png),
+                    linear-gradient(@smw_marginDark@, @smw_marginDark@),
+                    linear-gradient(#1d4f73, #1d4f73);
+}
+
+.theme-dark .splitview-nav > li.splitview-active:-moz-locale-dir(rtl) {
   background-image: url(itemArrow-dark-rtl.png),
+                    linear-gradient(@smw_marginDark@, @smw_marginDark@),
                     linear-gradient(#1d4f73, #1d4f73);
-  background-repeat: no-repeat, repeat-x;
-  background-position: center left, top right;
 }
 
 .theme-light .splitview-nav > li.splitview-active {
   background-image: url(itemArrow-ltr.svg),
+                    linear-gradient(@smw_marginLight@, @smw_marginLight@),
                     linear-gradient(#4c9ed9, #4c9ed9);
 }
 
 .theme-light .splitview-nav > li.splitview-active:-moz-locale-dir(rtl) {
-  background-image: url(itemArrow-rtl.png),
+  background-image: url(itemArrow-rtl.svg),
+                    linear-gradient(@smw_marginLight@, @smw_marginLight@),
                     linear-gradient(#4c9ed9, #4c9ed9);
 }
 
 /* Toolbars */
 
 .splitview-main > .devtools-toolbar {
   background-origin: border-box;
   background-clip: border-box;
 }
 
 .theme-dark .splitview-main > toolbar,
 .theme-dark .loading .splitview-nav-container {
-  -moz-border-end: 1px solid black; /* Match the splitter. */
+  -moz-border-end: 1px solid @smw_marginDark@;
 }
 
 .theme-light .splitview-main > toolbar,
 .theme-light .loading .splitview-nav-container {
-  -moz-border-end: 1px solid #aaa; /* Match the splitter. */
+  -moz-border-end: 1px solid @smw_marginLight@;
 }
 
 .splitview-main > .devtools-toolbarbutton {
   font-size: 11px;
   padding: 0 8px;
   width: auto;
   min-width: 48px;
   min-height: 0;
diff --git a/browser/themes/windows/jar.mn b/browser/themes/windows/jar.mn
--- a/browser/themes/windows/jar.mn
+++ b/browser/themes/windows/jar.mn
@@ -208,17 +208,17 @@ browser.jar:
         skin/classic/browser/devtools/editor-breakpoint.png         (devtools/editor-breakpoint.png)
         skin/classic/browser/devtools/editor-debug-location.png     (devtools/editor-debug-location.png)
 *       skin/classic/browser/devtools/webconsole.css                (devtools/webconsole.css)
         skin/classic/browser/devtools/webconsole_networkpanel.css   (devtools/webconsole_networkpanel.css)
         skin/classic/browser/devtools/webconsole.png                (devtools/webconsole.png)
         skin/classic/browser/devtools/breadcrumbs-divider@2x.png    (../shared/devtools/images/breadcrumbs-divider@2x.png)
         skin/classic/browser/devtools/breadcrumbs-scrollbutton.png  (../shared/devtools/images/breadcrumbs-scrollbutton.png)
         skin/classic/browser/devtools/breadcrumbs-scrollbutton@2x.png (../shared/devtools/images/breadcrumbs-scrollbutton@2x.png)
-        skin/classic/browser/devtools/splitview.css                 (../shared/devtools/splitview.css)
+*       skin/classic/browser/devtools/splitview.css                 (../shared/devtools/splitview.css)
         skin/classic/browser/devtools/styleeditor.css               (../shared/devtools/styleeditor.css)
 *       skin/classic/browser/devtools/shadereditor.css              (devtools/shadereditor.css)
 *       skin/classic/browser/devtools/debugger.css                  (devtools/debugger.css)
 *       skin/classic/browser/devtools/profiler.css                  (devtools/profiler.css)
 *       skin/classic/browser/devtools/netmonitor.css                (devtools/netmonitor.css)
 *       skin/classic/browser/devtools/scratchpad.css                (devtools/scratchpad.css)
         skin/classic/browser/devtools/magnifying-glass.png          (devtools/magnifying-glass.png)
         skin/classic/browser/devtools/option-icon.png               (../shared/devtools/images/option-icon.png)
@@ -517,17 +517,17 @@ browser.jar:
         skin/classic/aero/browser/devtools/editor-breakpoint.png      (devtools/editor-breakpoint.png)
         skin/classic/aero/browser/devtools/editor-debug-location.png  (devtools/editor-debug-location.png)
 *       skin/classic/aero/browser/devtools/webconsole.css                  (devtools/webconsole.css)
         skin/classic/aero/browser/devtools/webconsole_networkpanel.css     (devtools/webconsole_networkpanel.css)
         skin/classic/aero/browser/devtools/webconsole.png                  (devtools/webconsole.png)
         skin/classic/aero/browser/devtools/breadcrumbs-divider@2x.png      (../shared/devtools/images/breadcrumbs-divider@2x.png)
         skin/classic/aero/browser/devtools/breadcrumbs-scrollbutton.png    (../shared/devtools/images/breadcrumbs-scrollbutton.png)
         skin/classic/aero/browser/devtools/breadcrumbs-scrollbutton@2x.png (../shared/devtools/images/breadcrumbs-scrollbutton@2x.png)
-        skin/classic/aero/browser/devtools/splitview.css             (../shared/devtools/splitview.css)
+*       skin/classic/aero/browser/devtools/splitview.css             (../shared/devtools/splitview.css)
         skin/classic/aero/browser/devtools/styleeditor.css           (../shared/devtools/styleeditor.css)
 *       skin/classic/aero/browser/devtools/shadereditor.css          (devtools/shadereditor.css)
 *       skin/classic/aero/browser/devtools/debugger.css              (devtools/debugger.css)
 *       skin/classic/aero/browser/devtools/profiler.css              (devtools/profiler.css)
 *       skin/classic/aero/browser/devtools/netmonitor.css            (devtools/netmonitor.css)
 *       skin/classic/aero/browser/devtools/scratchpad.css            (devtools/scratchpad.css)
         skin/classic/aero/browser/devtools/magnifying-glass.png      (devtools/magnifying-glass.png)
         skin/classic/aero/browser/devtools/option-icon.png           (../shared/devtools/images/option-icon.png)
