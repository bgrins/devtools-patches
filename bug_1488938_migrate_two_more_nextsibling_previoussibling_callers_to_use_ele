# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1536256974 25200
#      Thu Sep 06 11:02:54 2018 -0700
# Node ID 4fc02da0a2a08876f630f27f7b14aa2dd5c79f27
# Parent  81f9b9657c5d1ab47870ee9273f29178d5cc2394
Bug 1488938 - Migrate two more nextSibling/previousSibling callers to use element variation;r=Gijs

Differential Revision: https://phabricator.services.mozilla.com/D5184

diff --git a/browser/components/customizableui/DragPositionManager.jsm b/browser/components/customizableui/DragPositionManager.jsm
--- a/browser/components/customizableui/DragPositionManager.jsm
+++ b/browser/components/customizableui/DragPositionManager.jsm
@@ -278,17 +278,17 @@ AreaPositionManager.prototype = {
       rv = prev;
     }
     return rv;
   },
 
   _getVisibleSiblingForDirection(aNode, aDirection) {
     let rv = aNode;
     do {
-      rv = rv[aDirection + "Sibling"];
+      rv = rv[aDirection + "ElementSibling"];
     } while (rv && rv.getAttribute("hidden") == "true");
     return rv;
   },
 };
 
 var DragPositionManager = {
   start(aWindow) {
     let areas = [aWindow.document.getElementById(kPaletteId)];
diff --git a/toolkit/content/widgets/tabbox.xml b/toolkit/content/widgets/tabbox.xml
--- a/toolkit/content/widgets/tabbox.xml
+++ b/toolkit/content/widgets/tabbox.xml
@@ -273,17 +273,17 @@
       </method>
 
       <method name="advanceSelectedTab">
         <parameter name="aDir"/>
         <parameter name="aWrap"/>
         <body>
         <![CDATA[
           var startTab = this.selectedItem;
-          var next = startTab[aDir == -1 ? "previousSibling" : "nextSibling"];
+          var next = startTab[(aDir == -1 ? "previous" : "next") + "ElementSibling"];
           if (!next && aWrap) {
             next = aDir == -1 ? this.children[this.children.length - 1] :
                                 this.children[0];
           }
           if (next && next != startTab) {
             this._selectNewTab(next, aDir, aWrap);
           }
         ]]>
