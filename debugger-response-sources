# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  591b13e4d022ef91dde3bc8c0bf7e4b9ec0bf4db
Fix Handler function DebuggerClient.requester request callback threw an exception: TypeError: aResponse.sources is undefined

diff --git a/browser/devtools/debugger/debugger-controller.js b/browser/devtools/debugger/debugger-controller.js
--- a/browser/devtools/debugger/debugger-controller.js
+++ b/browser/devtools/debugger/debugger-controller.js
@@ -1224,17 +1224,17 @@ SourceScripts.prototype = {
   _onSourcesAdded: function(aResponse) {
     if (aResponse.error) {
       let msg = "Error getting sources: " + aResponse.message;
       Cu.reportError(msg);
       dumpn(msg);
       return;
     }
 
-    if (aResponse.sources.length === 0) {
+    if (!aResponse.sources || aResponse.sources.length === 0) {
       DebuggerView.Sources.emptyText = L10N.getStr("noSourcesText");
       window.emit(EVENTS.SOURCES_ADDED);
       return;
     }
 
     // Add all the sources in the debugger view sources container.
     for (let source of aResponse.sources) {
       // Ignore bogus scripts, e.g. generated from 'clientEvaluate' packets.
