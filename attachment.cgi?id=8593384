# HG changeset patch
# User Jan Keromnes <janx@linux.com>

Bug 1150697 - Add IP address to the Network Monitor domain tooltip. r=bgrins

diff --git a/browser/devtools/netmonitor/netmonitor-view.js b/browser/devtools/netmonitor/netmonitor-view.js
index 996782c..9c209ce 100644
--- a/browser/devtools/netmonitor/netmonitor-view.js
+++ b/browser/devtools/netmonitor/netmonitor-view.js
@@ -1210,16 +1210,17 @@ RequestsMenuView.prototype = Heritage.extend(WidgetMethods, {
           case "responseCookies":
             requestItem.attachment.responseCookies = value;
             break;
           case "httpVersion":
             requestItem.attachment.httpVersion = value;
             break;
           case "remoteAddress":
             requestItem.attachment.remoteAddress = value;
+            this.updateMenuView(requestItem, key, value);
             break;
           case "remotePort":
             requestItem.attachment.remotePort = value;
             break;
           case "status":
             requestItem.attachment.status = value;
             this.updateMenuView(requestItem, key, value);
             break;
@@ -1362,16 +1363,21 @@ RequestsMenuView.prototype = Heritage.extend(WidgetMethods, {
         file.setAttribute("value", nameWithQuery);
         file.setAttribute("tooltiptext", nameWithQuery);
 
         let domain = $(".requests-menu-domain", target);
         domain.setAttribute("value", hostPort);
         domain.setAttribute("tooltiptext", hostPort);
         break;
       }
+      case "remoteAddress":
+        let domain = $(".requests-menu-domain", target);
+        let tooltip = domain.getAttribute("value") + " (" + aValue + ")";
+        domain.setAttribute("tooltiptext", tooltip);
+        break;
       case "securityState": {
         let tooltip = L10N.getStr("netmonitor.security.state." + aValue);
         let icon = $(".requests-security-state-icon", target);
         icon.classList.add("security-state-" + aValue);
         icon.setAttribute("tooltiptext", tooltip);
 
         this.attachSecurityIconClickListener(aItem);
         break;
