# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  a42ef45dc7217345fbc67d43d74399c8c679e9b2
Bug XXX: Editor line numbers

diff --git a/devtools/client/debugger/debugger-view.js b/devtools/client/debugger/debugger-view.js
--- a/devtools/client/debugger/debugger-view.js
+++ b/devtools/client/debugger/debugger-view.js
@@ -468,22 +468,24 @@ var DebuggerView = {
     else {
       this.showEditor();
     }
 
     if (textInfo.loading) {
       // TODO: bug 1228866, we need to update `_editorSource` here but
       // still make the editor be updated when the full text comes
       // through somehow.
+      this.editor.setOption("lineNumbers", false);
       this._setEditorText(L10N.getStr("loadingText"));
       return;
     }
     else if (textInfo.error) {
       let url = textInfo.error;
       let msg = L10N.getFormatStr("errorLoadingText2", url);
+      this.editor.setOption("lineNumbers", false);
       this._setEditorText(msg);
       Cu.reportError(msg);
       dumpn(msg);
 
       this.showEditor();
       window.emit(EVENTS.SOURCE_ERROR_SHOWN, source);
       return;
     }
@@ -506,16 +508,17 @@ var DebuggerView = {
       return;
     }
 
     this._editorSource.actor = source.actor;
     this._editorSource.prettyPrinted = source.isPrettyPrinted;
     this._editorSource.blackboxed = source.isBlackBoxed;
 
     let { text, contentType } = textInfo;
+    this.editor.setOption("lineNumbers", true);
     this._setEditorText(text);
     this._setEditorMode(source.url, contentType, text);
     this.updateEditorBreakpoints(source);
     setTimeout(() => {
       window.emit(EVENTS.SOURCE_SHOWN, source);
     }, 0);
 
     this.updateEditorPosition(opts);
