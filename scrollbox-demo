# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  224715760a637bc37c14794839468a954f1f2695

diff --git a/toolkit/content/customElements.js b/toolkit/content/customElements.js
--- a/toolkit/content/customElements.js
+++ b/toolkit/content/customElements.js
@@ -257,10 +257,52 @@ if (!isDummyDocument) {
     ["stringbundle", "chrome://global/content/elements/stringbundle.js"],
     ["printpreview-toolbar", "chrome://global/content/printPreviewToolbar.js"],
     ["editor", "chrome://global/content/elements/editor.js"],
   ]) {
     customElements.setElementCreationCallback(tag, () => {
       Services.scriptloader.loadSubScript(script, window);
     });
   }
+
+
+  customElements.define("scrollbox", class extends XULScrollElement {
+    static get observedAttributes() {
+      return ["orient", "align", "pack", "dir"];
+    }
+
+    onAttributeChanged() {
+      console.log(arguments);
+      this.copyAttributes();
+    }
+
+    connectedCallback() {
+      this.copyAttributes();
+    }
+
+    copyAttribute(child, name) {
+      if (this.hasAttribute(name)) {
+        child.setAttribute(name, this.getAttribute(name));
+      } else {
+        child.removeAttribute(name);
+      }
+    }
+
+    copyAttributes() {
+      this.copyAttribute(this.box, "orient");
+      this.copyAttribute(this.box, "align");
+      this.copyAttribute(this.box, "pack");
+      this.copyAttribute(this.box, "dir");
+    }
+
+    constructor() {
+      super();
+
+      this.root = this.attachShadow({ mode: "open" });
+      this.box = document.createElement("box");
+      this.box.className = "box-inherit scrollbox-innerbox";
+      this.box.setAttribute("flex", "1");
+      this.box.appendChild(document.createElement("slot"));
+      this.root.appendChild(this.box);
+    }
+  });
 }
 }
diff --git a/toolkit/content/xul.css b/toolkit/content/xul.css
--- a/toolkit/content/xul.css
+++ b/toolkit/content/xul.css
@@ -717,17 +717,17 @@ slider {
   /* This is a hint to layerization that the scrollbar thumb can never leave
      the scrollbar track. */
   overflow: hidden;
 }
 
 /******** scrollbox ********/
 
 scrollbox {
-  -moz-binding: url("chrome://global/content/bindings/scrollbox.xml#scrollbox");
+  /* -moz-binding: url("chrome://global/content/bindings/scrollbox.xml#scrollbox"); */
   /* This makes it scrollable! */
   overflow: hidden;
 }
 
 scrollbox[smoothscroll=true] {
   scroll-behavior: smooth;
 }
 
