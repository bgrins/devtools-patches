# HG changeset patch
# User Michael Kohler <mkohler@picobudget.com>

Bug 1256163 - Fix all other code styles in webconsole.js


diff --git a/.eslintignore b/.eslintignore
index 621d3a1..5359664 100644
--- a/.eslintignore
+++ b/.eslintignore
@@ -102,7 +102,6 @@ devtools/client/shadereditor/**
 devtools/client/shared/**
 devtools/client/sourceeditor/**
 devtools/client/webaudioeditor/**
-devtools/client/webconsole/**
 devtools/client/webide/**
 devtools/server/**
 devtools/shared/**
diff --git a/devtools/client/webconsole/webconsole.js b/devtools/client/webconsole/webconsole.js
index 7deeaf2..f519ef7 100644
--- a/devtools/client/webconsole/webconsole.js
+++ b/devtools/client/webconsole/webconsole.js
@@ -15,7 +15,6 @@ const BrowserLoaderModule = {};
 Cu.import("resource://devtools/client/shared/browser-loader.js", BrowserLoaderModule);
 
 const promise = require("promise");
-const Debugger = require("Debugger");
 const Services = require("Services");
 
 loader.lazyServiceGetter(this, "clipboardHelper",
@@ -1898,7 +1897,7 @@ WebConsoleFrame.prototype = {
     let toolbox = gDevTools.getToolbox(this.owner.target);
     // The browser console doesn't have a toolbox.
     if (!toolbox) {
-      return;
+      return null;
     }
     return toolbox.selectTool("netmonitor").then(panel => {
       return panel.panelWin.NetMonitorController.inspectRequest(requestId);
@@ -2532,13 +2531,21 @@ WebConsoleFrame.prototype = {
     // Make the location clickable.
     let onClick = () => {
       let category = locationNode.parentNode.category;
-      let target = category === CATEGORY_CSS ? "styleeditor" :
-                   category === CATEGORY_JS ? "jsdebugger" :
-                   category === CATEGORY_WEBDEV ? "jsdebugger" :
-                   /^Scratchpad\/\d+$/.test(url) ? "scratchpad" :
-                   // If it ends in .js, let's attempt to open in debugger
-                   // anyway, as this falls back to normal view-source.
-                   /\.js$/.test(fullURL) ? "jsdebugger" : null;
+      let target = "";
+
+      if (category === CATEGORY_CSS) {
+        target == "styleeditor";
+      } else if (category === CATEGORY_JS || category === CATEGORY_WEBDEV) {
+        target = "jsdebugger";
+      } else if (/^Scratchpad\/\d+$/.test(url)) {
+        target = "scratchpad";
+      } else if (/\.js$/.test(fullURL)) {
+        // If it ends in .js, let's attempt to open in debugger
+        // anyway, as this falls back to normal view-source.
+        target = "jsdebugger";
+      } else {
+        target = null;
+      }
 
       switch (target) {
         case "scratchpad":

