# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  78fe0a9ea65b6c8e571e86a3e2e962ab921e9c4c
Bug 1129155 - Add new console method

diff --git a/python/mozbuild/mozbuild/testing.py b/python/mozbuild/mozbuild/testing.py
--- a/python/mozbuild/mozbuild/testing.py
+++ b/python/mozbuild/mozbuild/testing.py
@@ -94,16 +94,17 @@ class TestMetadata(object):
         """
         def fltr(tests):
             for test in tests:
                 if flavor:
                    if (flavor == 'devtools' and test.get('flavor') != 'browser-chrome') or \
                       (flavor != 'devtools' and test.get('flavor') != flavor):
                     continue
 
+                print "Hi "  +  subsuite + " " + test.get('subsuite')
                 if subsuite and test.get('subsuite') != subsuite:
                     continue
 
                 if under_path \
                     and not test['file_relpath'].startswith(under_path):
                     continue
 
                 # Make a copy so modifications don't change the source.
diff --git a/toolkit/devtools/server/actors/webconsole.js b/toolkit/devtools/server/actors/webconsole.js
--- a/toolkit/devtools/server/actors/webconsole.js
+++ b/toolkit/devtools/server/actors/webconsole.js
@@ -1060,16 +1060,21 @@ WebConsoleActor.prototype =
    */
   evalWithDebugger: function WCA_evalWithDebugger(aString, aOptions = {})
   {
     // The help function needs to be easy to guess, so we make the () optional.
     if (aString.trim() == "help" || aString.trim() == "?") {
       aString = "help()";
     }
 
+    // Add easter egg for console.mihai
+    if (aString.trim() == "console.mihai()" || aString.trim() == "console.mihai();") {
+      aString = "\"TODO\"";
+    }
+
     // Find the Debugger.Frame of the given FrameActor.
     let frame = null, frameActor = null;
     if (aOptions.frameActor) {
       frameActor = this.conn.getActor(aOptions.frameActor);
       if (frameActor) {
         frame = frameActor.frame;
       }
       else {
