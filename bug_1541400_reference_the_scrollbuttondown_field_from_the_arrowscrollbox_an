# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1554387101 25200
#      Thu Apr 04 07:11:41 2019 -0700
# Node ID fca2ee3882424a0205f343e640416b6b0cf26b92
# Parent  6188f34970576cf032692bc8679eca89607dfe34
Bug 1541400 - Reference the scrollButtonDown field from the arrowscrollbox and not tabbrowser-tabs;r=dao

When this handler got changed to an arrow function the reference didn't get
moved onto the scrollbox.

Differential Revision: https://phabricator.services.mozilla.com/D26142

diff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml
--- a/browser/base/content/tabbrowser.xml
+++ b/browser/base/content/tabbrowser.xml
@@ -148,17 +148,17 @@
                 event.detail == 0 ||
                 !this.hasAttribute("overflow")) {
               return;
             }
 
             this.removeAttribute("overflow");
 
             if (this._lastTabClosedByMouse) {
-              this._expandSpacerBy(this._scrollButtonDown.clientWidth);
+              this._expandSpacerBy(this.arrowScrollbox._scrollButtonDown.clientWidth);
             }
 
             for (let tab of Array.from(gBrowser._removingTabs)) {
               gBrowser.removeTab(tab);
             }
 
             this._positionPinnedTabs();
           }, true);
