# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  160de646696fd2b273ed42a1b8aa1b49517b502e

diff --git a/toolkit/content/widgets/radio.js b/toolkit/content/widgets/radio.js
--- a/toolkit/content/widgets/radio.js
+++ b/toolkit/content/widgets/radio.js
@@ -7,16 +7,18 @@
 // This is loaded into all XUL windows. Wrap in a block to prevent
 // leaking to window scope.
 {
 
 class MozRadiogroup extends MozBaseControl {
   constructor() {
     super();
 
+    this.initialize = this.initialize.bind(this);
+
     this.addEventListener("mousedown", (event) => {
       if (this.disabled)
         event.preventDefault();
     });
 
     /**
      * keyboard navigation  Here's how keyboard navigation works in radio groups on Windows:
      * The group takes 'focus'
@@ -107,16 +109,28 @@ class MozRadiogroup extends MozBaseContr
         return;
       }
       this.removeAttribute("focused");
       this.focusedItem = null;
     });
   }
 
   connectedCallback() {
+    if (document.readyState == "uninitialized") {
+      document.addEventListener("DOMContentLoaded", this.initialize, { once: true });
+    } else {
+      this.initialize();
+    }
+  }
+
+  initialize() {
+    if (!this.isConnected) {
+      return;
+    }
+
     this._radioChildren = null;
 
     if (this.getAttribute("disabled") == "true")
       this.disabled = true;
 
     var children = this._getRadioChildren();
     var length = children.length;
     for (var i = 0; i < length; i++) {
