# HG changeset patch
# Parent b4c0eec4eb86789fc8fe150970eb39278e24881f
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 972064 - Spectrum.js warning in browser console `test for equality (==) mistyped as assignment (=)?`;r=jwalker

diff --git a/browser/devtools/shared/widgets/Spectrum.js b/browser/devtools/shared/widgets/Spectrum.js
--- a/browser/devtools/shared/widgets/Spectrum.js
+++ b/browser/devtools/shared/widgets/Spectrum.js
@@ -128,20 +128,22 @@ Spectrum.rgbToHsv = function(r, g, b, a)
     h /= 6;
   }
   return [h, s, v, a];
 };
 
 Spectrum.getOffset = function(el) {
   let curleft = 0, curtop = 0;
   if (el.offsetParent) {
-    do {
+    while (el) {
       curleft += el.offsetLeft;
       curtop += el.offsetTop;
-    } while (el = el.offsetParent);
+      el = el.offsetParent;
+      console.log("Looping... ", curleft, curtop);
+    }
   }
   return {
     left: curleft,
     top: curtop
   };
 };
 
 Spectrum.draggable = function(element, onmove, onstart, onstop) {
