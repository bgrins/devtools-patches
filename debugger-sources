# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  36539179cfa89514d3732ec351b7c1899d3d135b
Bug 1380827 - Use .client instead of ._client in the debugger panel to fix worker loading;r=jlast

diff --git a/devtools/client/debugger/new/panel.js b/devtools/client/debugger/new/panel.js
--- a/devtools/client/debugger/new/panel.js
+++ b/devtools/client/debugger/new/panel.js
@@ -24,17 +24,17 @@ DebuggerPanel.prototype = {
     const {
       actions,
       store,
       selectors,
       client
     } = await this.panelWin.Debugger.bootstrap({
       threadClient: this.toolbox.threadClient,
       tabTarget: this.toolbox.target,
-      debuggerClient: this.toolbox.target._client,
+      debuggerClient: this.toolbox.target.client,
       sourceMaps: this.toolbox.sourceMapService
     });
 
     this._actions = actions;
     this._store = store;
     this._selectors = selectors;
     this._client = client;
     this.isReady = true;
diff --git a/devtools/server/worker.js b/devtools/server/worker.js
--- a/devtools/server/worker.js
+++ b/devtools/server/worker.js
@@ -71,16 +71,17 @@ this.addEventListener("message", functio
           },
 
           shouldAddNewGlobalAsDebuggee: () => {
             return true;
           },
         }),
 
         get sources() {
+          dump("Calling sources getter\n")
           if (sources === null) {
             sources = new TabSources(threadActor);
           }
           return sources;
         },
 
         window: global
       };
