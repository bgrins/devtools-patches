# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  f27105b62753c71ecadad2f8d632ec7e5ac96bbd
Log constructor time for tabbrowser

diff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml
--- a/browser/base/content/tabbrowser.xml
+++ b/browser/base/content/tabbrowser.xml
@@ -5874,16 +5874,17 @@
           let root = document.documentElement;
           root.style.setProperty("--tab-min-width", val + "px");
           return val;
         ]]></setter>
       </property>
 
       <constructor>
         <![CDATA[
+          var start = performance.now();
           this.mCurrentBrowser = document.getAnonymousElementByAttribute(this, "anonid", "initialBrowser");
           this.mCurrentBrowser.permanentKey = {};
 
           CustomizableUI.addListener(this);
           this._updateNewTabVisibility();
 
           Services.obs.addObserver(this, "contextual-identity-updated");
 
@@ -5972,16 +5973,18 @@
                                                 "browser.tabs.remote.warmup.unloadDelayMs", 2000);
           XPCOMUtils.defineLazyPreferenceGetter(this, "tabMinWidthPref",
                                                 "browser.tabs.tabMinWidth", this._tabMinWidthLimit,
             (pref, prevValue, newValue) => this.tabMinWidth = newValue,
             newValue => Math.max(newValue, this._tabMinWidthLimit),
           );
 
           this.tabMinWidth = this.tabMinWidthPref;
+
+          dump("Constructor end: " + (performance.now() - start) + "\n");
         ]]>
       </constructor>
 
       <method name="_generateUniquePanelID">
         <body><![CDATA[
           if (!this._uniquePanelIDCounter) {
             this._uniquePanelIDCounter = 0;
           }
