# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1572461449 25200
#      Wed Oct 30 11:50:49 2019 -0700
# Node ID 3ece29d1a200e666d144606f7e4448bdd6a230fe
# Parent  25bf8e097e604cca2842af6754c2c1698db5618a
Bug 1592369 - Rewrite [align="left"] to [align="start"] and [align="right"] to [align="end"] in XUL elements

Differential Revision: https://phabricator.services.mozilla.com/D51164

diff --git a/browser/components/migration/content/migration.xul b/browser/components/migration/content/migration.xul
--- a/browser/components/migration/content/migration.xul
+++ b/browser/components/migration/content/migration.xul
@@ -57,34 +57,34 @@
     <spacer flex="1"/>
     <description class="header" id="closeSourceBrowser" style="visibility:hidden">&closeSourceBrowser.label;</description>
   </wizardpage>
 
   <wizardpage id="selectProfile" pageid="selectProfile" label="&selectProfile.title;"
               next="importItems">
     <description control="profiles">&selectProfile.label;</description>
 
-    <radiogroup id="profiles" align="left"/>
+    <radiogroup id="profiles" align="start"/>
   </wizardpage>
 
   <wizardpage id="importItems" pageid="importItems" label="&importItems.title;"
               next="migrating"
               oncommand="MigrationWizard.onImportItemCommand();">
     <description control="dataSources">&importItems.label;</description>
 
-    <vbox id="dataSources" style="overflow: auto; -moz-appearance: listbox" align="left" flex="1" role="group"/>
+    <vbox id="dataSources" style="overflow: auto; -moz-appearance: listbox" align="start" flex="1" role="group"/>
   </wizardpage>
 
   <wizardpage id="migrating" pageid="migrating" label="&migrating.title;"
               next="done">
     <description control="migratingItems">&migrating.label;</description>
 
-    <vbox id="migratingItems" style="overflow: auto;" align="left" role="group"/>
+    <vbox id="migratingItems" style="overflow: auto;" align="start" role="group"/>
   </wizardpage>
 
   <wizardpage id="done" pageid="done" label="&done.title;">
     <description control="doneItems">&done.label;</description>
 
-    <vbox id="doneItems" style="overflow: auto;" align="left" role="group"/>
+    <vbox id="doneItems" style="overflow: auto;" align="start" role="group"/>
   </wizardpage>
 
 </wizard>
 </window>
diff --git a/browser/components/preferences/blocklists.xul b/browser/components/preferences/blocklists.xul
--- a/browser/components/preferences/blocklists.xul
+++ b/browser/components/preferences/blocklists.xul
@@ -42,15 +42,15 @@
                  type="checkbox"/>
         <treecol id="listCol" data-l10n-id="blocklist-treehead-list" flex="80"
                  sortable="false"/>
       </treecols>
       <treechildren/>
     </tree>
   </vbox>
 
-  <hbox class="actionButtons" align="right" flex="1">
+  <hbox class="actionButtons" align="end" flex="1">
     <button oncommand="window.close();" icon="close"
             data-l10n-id="blocklist-button-cancel"/>
     <button id="btnApplyChanges" oncommand="gBlocklistManager.onApplyChanges();" icon="save"
             data-l10n-id="blocklist-button-ok"/>
   </hbox>
 </window>
diff --git a/browser/components/preferences/clearSiteData.xul b/browser/components/preferences/clearSiteData.xul
--- a/browser/components/preferences/clearSiteData.xul
+++ b/browser/components/preferences/clearSiteData.xul
@@ -36,15 +36,15 @@
       </vbox>
       <vbox class="option">
         <checkbox data-l10n-id="clear-site-data-cache-empty" id="clearCache" checked="true"/>
         <description class="option-description indent" data-l10n-id="clear-site-data-cache-info"/>
       </vbox>
     </vbox>
   </vbox>
 
-  <hbox class="actionButtons" align="right" flex="1">
+  <hbox class="actionButtons" align="end" flex="1">
     <button id="cancelButton" icon="close"
             data-l10n-id="clear-site-data-cancel"/>
     <button id="clearButton" icon="save"
             data-l10n-id="clear-site-data-clear"/>
   </hbox>
 </window>
diff --git a/browser/components/preferences/containers.xul b/browser/components/preferences/containers.xul
--- a/browser/components/preferences/containers.xul
+++ b/browser/components/preferences/containers.xul
@@ -40,13 +40,13 @@
     </hbox>
     <hbox align="center" id="iconWrapper">
       <label id="iconLabel" control="icon"
              data-l10n-id="containers-icon-label"
              data-l10n-attrs="style"/>
     </hbox>
   </vbox>
 
-  <hbox class="actionButtons" align="right" flex="1">
+  <hbox class="actionButtons" align="end" flex="1">
     <button id="btnApplyChanges" disabled="true" oncommand="gContainersManager.onApplyChanges();" icon="save"
             data-l10n-id="containers-button-done"/>
   </hbox>
 </window>
diff --git a/browser/components/preferences/in-content/containers.js b/browser/components/preferences/in-content/containers.js
--- a/browser/components/preferences/in-content/containers.js
+++ b/browser/components/preferences/in-content/containers.js
@@ -60,17 +60,17 @@ let gContainersPane = {
       label.textContent = ContextualIdentityService.getUserContextLabel(
         container.userContextId
       );
       outer.appendChild(label);
 
       let containerButtons = document.createXULElement("hbox");
       containerButtons.className = "container-buttons";
       containerButtons.setAttribute("flex", 1);
-      containerButtons.setAttribute("align", "right");
+      containerButtons.setAttribute("align", "end");
       item.appendChild(containerButtons);
 
       let prefsButton = document.createXULElement("button");
       prefsButton.addEventListener("command", function(event) {
         gContainersPane.onPreferenceCommand(event.originalTarget);
       });
       prefsButton.setAttribute("value", container.userContextId);
       document.l10n.setAttributes(prefsButton, "containers-preferences-button");
diff --git a/browser/components/preferences/permissions.xul b/browser/components/preferences/permissions.xul
--- a/browser/components/preferences/permissions.xul
+++ b/browser/components/preferences/permissions.xul
@@ -54,26 +54,26 @@
                data-isCurrentSortCol="true"
                onclick="gPermissionManager.buildPermissionsList(event.target);"/>
     </listheader>
     <richlistbox id="permissionsBox" flex="1" selected="false"
                  onkeypress="gPermissionManager.onPermissionKeyPress(event);"
                  onselect="gPermissionManager.onPermissionSelect();"/>
   </vbox>
 
-  <hbox class="actionButtons" align="left" flex="1">
+  <hbox class="actionButtons" align="start" flex="1">
     <button id="removePermission" disabled="true"
             data-l10n-id="permissions-remove"
             icon="remove"
             oncommand="gPermissionManager.onPermissionDelete();"/>
     <button id="removeAllPermissions"
             data-l10n-id="permissions-remove-all"
             icon="clear"
             oncommand="gPermissionManager.onAllPermissionsDelete();"/>
   </hbox>
   <spacer flex="1"/>
-  <hbox class="actionButtons" align="right" flex="1">
+  <hbox class="actionButtons" align="end" flex="1">
     <button oncommand="window.close();" icon="close"
             data-l10n-id="permissions-button-cancel" />
     <button id="btnApplyChanges" oncommand="gPermissionManager.onApplyChanges();" icon="save"
             data-l10n-id="permissions-button-ok" />
   </hbox>
 </window>
diff --git a/browser/components/preferences/sitePermissions.xul b/browser/components/preferences/sitePermissions.xul
--- a/browser/components/preferences/sitePermissions.xul
+++ b/browser/components/preferences/sitePermissions.xul
@@ -52,17 +52,17 @@
                data-isCurrentSortCol="true"
                onclick="gSitePermissionsManager.buildPermissionsList(event.target);"/>
     </listheader>
     <richlistbox id="permissionsBox" flex="1" selected="false"
                  onkeypress="gSitePermissionsManager.onPermissionKeyPress(event);"
                  onselect="gSitePermissionsManager.onPermissionSelect();"/>
   </vbox>
 
-  <hbox class="actionButtons" align="left" flex="1">
+  <hbox class="actionButtons" align="start" flex="1">
     <button id="removePermission" disabled="true"
             data-l10n-id="permissions-remove"
             icon="remove"
             oncommand="gSitePermissionsManager.onPermissionDelete();"/>
     <button id="removeAllPermissions"
             data-l10n-id="permissions-remove-all"
             icon="clear"
             oncommand="gSitePermissionsManager.onAllPermissionsDelete();"/>
@@ -74,15 +74,15 @@
   <spacer flex="1"/>
   <hbox id="browserNotificationsPermissionExtensionContent"
         class="extension-controlled" align="center" hidden="true">
     <description control="disableNotificationsPermissionExtension" flex="1"/>
     <button id="disableNotificationsPermissionExtension"
             class="extension-controlled-button accessory-button"
             data-l10n-id="disable-extension"/>
   </hbox>
-  <hbox class="actionButtons" align="right" flex="1">
+  <hbox class="actionButtons" align="end" flex="1">
     <button oncommand="window.close();" icon="close" id="cancel"
             data-l10n-id="permissions-button-cancel" />
     <button id="btnApplyChanges" oncommand="gSitePermissionsManager.onApplyChanges();" icon="save"
             data-l10n-id="permissions-button-ok" />
   </hbox>
 </window>
diff --git a/browser/components/shell/content/setDesktopBackground.xul b/browser/components/shell/content/setDesktopBackground.xul
--- a/browser/components/shell/content/setDesktopBackground.xul
+++ b/browser/components/shell/content/setDesktopBackground.xul
@@ -71,17 +71,17 @@
         </vbox>
       </stack>
       <image id="monitor-base"/>
     </vbox>
 
 #ifdef XP_MACOSX
     <separator/>
 
-    <hbox align="right">
+    <hbox align="end">
       <button id="setDesktopBackground"
               label="&setDesktopBackground.title;"
               oncommand="gSetBackground.setDesktopBackground();"/>
       <button id="showDesktopPreferences"
               label="&openDesktopPrefs.label;"
               oncommand="gSetBackground.showDesktopPrefs();"
               hidden="true"/>
     </hbox>
diff --git a/layout/reftests/xul/menulist-shrinkwrap-1-ref.xul b/layout/reftests/xul/menulist-shrinkwrap-1-ref.xul
--- a/layout/reftests/xul/menulist-shrinkwrap-1-ref.xul
+++ b/layout/reftests/xul/menulist-shrinkwrap-1-ref.xul
@@ -1,10 +1,10 @@
 <?xml version="1.0"?>
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="left">
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="start">
   <menulist style="color: transparent">
     <menupopup>
       <menuitem value="1" label="short" />
       <menuitem value="2" label="long item" />
     </menupopup>
   </menulist>
 </window>
diff --git a/layout/reftests/xul/menulist-shrinkwrap-1.xul b/layout/reftests/xul/menulist-shrinkwrap-1.xul
--- a/layout/reftests/xul/menulist-shrinkwrap-1.xul
+++ b/layout/reftests/xul/menulist-shrinkwrap-1.xul
@@ -1,10 +1,10 @@
 <?xml version="1.0"?>
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="left">
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="start">
   <menulist style="color: transparent">
     <menupopup>
       <menuitem value="1" label="long item" />
       <menuitem value="2" label="short" />
     </menupopup>
   </menulist>
 </window>
diff --git a/layout/reftests/xul/menulist-shrinkwrap-2.xul b/layout/reftests/xul/menulist-shrinkwrap-2.xul
--- a/layout/reftests/xul/menulist-shrinkwrap-2.xul
+++ b/layout/reftests/xul/menulist-shrinkwrap-2.xul
@@ -3,17 +3,17 @@
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
   <style xmlns="http://www.w3.org/1999/xhtml">
     <![CDATA[
       menulist, menuitem, label { font: Menu }
       #measurelabel { color: transparent }
     ]]>
   </style>
   <stack>
-    <vbox align="left">
+    <vbox align="start">
       <menulist>
         <menupopup>
           <menuitem value="1" label="long item" />
           <menuitem value="2" label="short" />
         </menupopup>
       </menulist>
     </vbox>
     <hbox>
diff --git a/layout/reftests/xul/text-crop-ref.xul b/layout/reftests/xul/text-crop-ref.xul
--- a/layout/reftests/xul/text-crop-ref.xul
+++ b/layout/reftests/xul/text-crop-ref.xul
@@ -1,11 +1,11 @@
 <?xml version="1.0"?>
 <window class="reftest-wait"
-        align="left"
+        align="start"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
   <html:style type="text/css">
     @font-face {
       font-family: firasans;
       src: url(../fonts/fira/FiraSans-Regular.otf);
     }
     vbox {
diff --git a/layout/reftests/xul/text-crop.xul b/layout/reftests/xul/text-crop.xul
--- a/layout/reftests/xul/text-crop.xul
+++ b/layout/reftests/xul/text-crop.xul
@@ -1,11 +1,11 @@
 <?xml version="1.0"?>
 <window class="reftest-wait"
-        align="left"
+        align="start"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
   <html:style type="text/css">
     @font-face {
       font-family: firasans;
       src: url(../fonts/fira/FiraSans-Regular.otf);
     }
     vbox {
diff --git a/layout/reftests/xul/text-small-caps-1-ref.xul b/layout/reftests/xul/text-small-caps-1-ref.xul
--- a/layout/reftests/xul/text-small-caps-1-ref.xul
+++ b/layout/reftests/xul/text-small-caps-1-ref.xul
@@ -1,8 +1,8 @@
 <?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="left">
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="start">
 <hbox style="font: 40px monospace;" align="baseline">
   <label value="lowercase"/>
   <label value="SMALLCAPS" style="font-size: 32px;"/>
   <label value="CAPITALS"/>
 </hbox>
 </window>
diff --git a/layout/reftests/xul/text-small-caps-1.xul b/layout/reftests/xul/text-small-caps-1.xul
--- a/layout/reftests/xul/text-small-caps-1.xul
+++ b/layout/reftests/xul/text-small-caps-1.xul
@@ -1,8 +1,8 @@
 <?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="left">
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="start">
 <hbox style="font: 40px monospace;">
   <label value="lowercase" style="font-variant: normal;"/>
   <label value="smallcaps" style="font-variant: small-caps;"/>
   <label value="CAPITALS" style="font-variant: small-caps;"/>
 </hbox>
 </window>
diff --git a/layout/reftests/xul/textbox-overflow-1-ref.xul b/layout/reftests/xul/textbox-overflow-1-ref.xul
--- a/layout/reftests/xul/textbox-overflow-1-ref.xul
+++ b/layout/reftests/xul/textbox-overflow-1-ref.xul
@@ -1,10 +1,10 @@
 <?xml version="1.0"?>
 <!-- bug 749658 - The cropped label should *not* cause a scroll bar to appear.
      If it does, the scrollbars in the testcase and reference will differ
      because the total scroll-overflow extent will be different. -->
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="left">
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="start">
   <hbox width="150px" style="overflow: scroll">
     <label value="A very long label for a small item"
            width="120px" crop="right"/>
   </hbox>
 </window>
diff --git a/layout/reftests/xul/textbox-overflow-1.xul b/layout/reftests/xul/textbox-overflow-1.xul
--- a/layout/reftests/xul/textbox-overflow-1.xul
+++ b/layout/reftests/xul/textbox-overflow-1.xul
@@ -1,10 +1,10 @@
 <?xml version="1.0"?>
 <!-- bug 749658 - The cropped label should *not* cause a scroll bar to appear.
      If it does, the scrollbars in the testcase and reference will differ
      because the total scroll-overflow extent will be different. -->
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="left">
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="start">
   <hbox width="150px" style="overflow: scroll">
     <label value="A very long label for a small item that should not trigger a scroll bar"
            width="120px" crop="right"/>
   </hbox>
 </window>
