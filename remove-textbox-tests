# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  58f33e5be3e0f8404a5088014f7671a6e62b6ea2

diff --git a/accessible/tests/mochitest/actions/test_general.xul b/accessible/tests/mochitest/actions/test_general.xul
--- a/accessible/tests/mochitest/actions/test_general.xul
+++ b/accessible/tests/mochitest/actions/test_general.xul
@@ -151,17 +151,17 @@
         </menupopup>
       </button>
 
       <label id="labelWithPopup" value="file name"
              popup="fileContext"
              tabindex="0"/>
       <hbox>
         <label id="name_entry_label" value="Name" control="name_entry"/>
-        <textbox id="name_entry"/>
+        <input id="name_entry"/>
       </hbox>
       <toolbarbutton id="toolbarbutton">
         <label id="toolbarbutton_label">toolbarbutton</label>
       </toolbarbutton>
       <hbox>
         <label id="menulist_label" control="menulist">menulist</label>
         <menulist id="menulist"/>
       </hbox>
diff --git a/accessible/tests/mochitest/events/test_caretmove.xul b/accessible/tests/mochitest/events/test_caretmove.xul
--- a/accessible/tests/mochitest/events/test_caretmove.xul
+++ b/accessible/tests/mochitest/events/test_caretmove.xul
@@ -30,17 +30,17 @@
         todo(false, "Make these tests pass on OSX (bug 650294)");
         SimpleTest.finish();
         return;
       }
 
       gQueue = new eventQueue(EVENT_TEXT_CARET_MOVED);
 
       var id = "textbox";
-      var input = getNode(id).inputField;
+      var input = getNode(id);
       gQueue.push(new synthFocus(id, new caretMoveChecker(5, input)));
       gQueue.push(new synthSelectAll(id, new caretMoveChecker(5, input)));
       gQueue.push(new synthHomeKey(id, new caretMoveChecker(0, input)));
       gQueue.push(new synthRightKey(id, new caretMoveChecker(1, input)));
 
       gQueue.invoke(); // Will call SimpleTest.finish();
     }
 
@@ -57,14 +57,14 @@
       </a>
       <p id="display"></p>
       <div id="content" style="display: none"></div>
       <pre id="test">
       </pre>
     </body>
 
     <vbox flex="1">
-      <textbox id="textbox" value="hello"/>
+      <input id="textbox" value="hello"/>
 
       <vbox id="eventdump"/>
     </vbox>
   </hbox>
 </window>
diff --git a/accessible/tests/mochitest/events/test_focus_autocomplete.xul b/accessible/tests/mochitest/events/test_focus_autocomplete.xul
--- a/accessible/tests/mochitest/events/test_focus_autocomplete.xul
+++ b/accessible/tests/mochitest/events/test_focus_autocomplete.xul
@@ -283,17 +283,17 @@
         return getAccessible(aID).firstChild;
 
       // HTML form autocomplete
       if (localName == "input")
         return getAccessible(aID);
 
       // XUL searchbar
       if (localName == "searchbar")
-        return getAccessible(getNode(aID).textbox.inputField);
+        return getAccessible(getNode(aID).textbox);
 
       return null;
     }
 
     function itemObj(aID, aIdx)
     {
       this.autocompleteNode = getNode(aID);
 
@@ -401,20 +401,16 @@
 
     var gQueue = null;
     function doTests()
     {
       // Test focus events.
       gQueue = new eventQueue();
 
       ////////////////////////////////////////////////////////////////////////////
-      // tree popup autocomplete tests
-      queueAutoCompleteTests("autocomplete");
-
-      ////////////////////////////////////////////////////////////////////////////
       // richlistbox popup autocomplete tests
       queueAutoCompleteTests("richautocomplete");
 
       ////////////////////////////////////////////////////////////////////////////
       // HTML form autocomplete tests
       queueAutoCompleteTests(getIFrameDOMDoc("iframe").getElementById("input"));
 
       ////////////////////////////////////////////////////////////////////////////
@@ -484,20 +480,17 @@
       </a>
       <p id="display"></p>
       <div id="content" style="display: none"></div>
       <pre id="test">
       </pre>
     </body>
 
     <vbox flex="1">
-      <textbox id="autocomplete" type="autocomplete"
-               autocompletesearch="test-a11y-search"/>
-
-      <textbox id="richautocomplete" type="autocomplete"
+      <input id="richautocomplete" type="autocomplete"
                autocompletesearch="test-a11y-search"
                autocompletepopup="richpopup"/>
       <panel is="autocomplete-richlistbox-popup"
              id="richpopup"
              type="autocomplete-richlistbox"
              noautofocus="true"/>
 
       <iframe id="iframe"/>
diff --git a/accessible/tests/mochitest/events/test_focus_general.xul b/accessible/tests/mochitest/events/test_focus_general.xul
--- a/accessible/tests/mochitest/events/test_focus_general.xul
+++ b/accessible/tests/mochitest/events/test_focus_general.xul
@@ -23,18 +23,16 @@
     //gA11yEventDumpToConsole = true; // debug stuff
 
     var gQueue = null;
     function doTests()
     {
       // Test focus events.
       gQueue = new eventQueue();
 
-      gQueue.push(new synthFocus("textbox",
-                                 new focusChecker(getNode("textbox").inputField)));
       gQueue.push(new synthFocusOnFrame("editabledoc"));
       gQueue.push(new synthFocus("radioclothes",
                                  new focusChecker("radiosweater")));
       gQueue.push(new synthDownKey("radiosweater",
                                    new focusChecker("radiojacket")));
       gQueue.push(new synthFocus("checkbox"));
       gQueue.push(new synthFocus("button"));
       gQueue.push(new synthFocus("checkbutton"));
@@ -78,17 +76,16 @@
       </a>
       <p id="display"></p>
       <div id="content" style="display: none"></div>
       <pre id="test">
       </pre>
     </body>
 
     <vbox flex="1">
-      <textbox id="textbox" value="hello"/>
       <iframe id="editabledoc" src="focus.html"/>
       <radiogroup id="radioclothes">
         <radio id="radiosweater" label="radiosweater"/>
         <radio id="radiocap" label="radiocap" disabled="true"/>
         <radio id="radiojacket" label="radiojacket"/>
       </radiogroup>
       <checkbox id="checkbox" label="checkbox"/>
       <button id="button" label="button"/>
diff --git a/accessible/tests/mochitest/events/test_focus_tabbox.xul b/accessible/tests/mochitest/events/test_focus_tabbox.xul
--- a/accessible/tests/mochitest/events/test_focus_tabbox.xul
+++ b/accessible/tests/mochitest/events/test_focus_tabbox.xul
@@ -29,17 +29,17 @@
         todo(false, "Tests disabled because of imminent failure.");
         SimpleTest.finish();
         return;
       }
 
       // Test focus events.
       gQueue = new eventQueue();
 
-      var textbox = getNode("textbox").inputField;
+      var textbox = getNode("textbox");
       gQueue.push(new synthClick("tab1", new focusChecker("tab1")));
       gQueue.push(new synthTab("tab1", new focusChecker("checkbox1")));
       gQueue.push(new synthKey("tab1", "VK_TAB", { ctrlKey: true },
                                new focusChecker(textbox)));
       gQueue.push(new synthKey("tab2", "VK_TAB", { ctrlKey: true },
                                new focusChecker("tab3")));
       gQueue.push(new synthKey("tab3", "VK_TAB", { ctrlKey: true },
                                new focusChecker("tab1")));
@@ -82,17 +82,17 @@
               <checkbox label="Saturday" width="75"/>
               <checkbox label="Sunday" width="75"/>
             </groupbox>
 
             <spacer style="height: 10px" />
             <label value="Label After checkboxes" />
           </tabpanel>
           <tabpanel orient="vertical">
-            <textbox id="textbox" />
+            <input id="textbox" />
           </tabpanel>
           <tabpanel orient="vertical">
             <description>Tab 3 content</description>
           </tabpanel>
         </tabpanels>
       </tabbox>
 
       <vbox id="eventdump"/>
diff --git a/accessible/tests/mochitest/name/test_general.xul b/accessible/tests/mochitest/name/test_general.xul
--- a/accessible/tests/mochitest/name/test_general.xul
+++ b/accessible/tests/mochitest/name/test_general.xul
@@ -226,17 +226,17 @@
 
   <!-- aria-labelledby, multiple relations -->
   <box class="third" id="labelledby_box_anon" role="group" />
 
   <!-- trick aria-labelledby -->
   <checkbox id="rememberHistoryDays"
             label="Remember "
             aria-labelledby="rememberHistoryDays historyDays rememberAfter"/>
-  <textbox id="historyDays" value="3"
+  <input id="historyDays" value="3"
            aria-labelledby="rememberHistoryDays historyDays rememberAfter"/>
   <label id="rememberAfter">days</label>
 
   <!-- the name from subtree, mixed content -->
   <description id="labelledby_mixed">
     no<description>more text</description>
   </description>
   <button id="btn_labelledby_mixed"
diff --git a/accessible/tests/mochitest/name/test_toolbaritem.xul b/accessible/tests/mochitest/name/test_toolbaritem.xul
--- a/accessible/tests/mochitest/name/test_toolbaritem.xul
+++ b/accessible/tests/mochitest/name/test_toolbaritem.xul
@@ -60,23 +60,23 @@
   </body>
 
   <vbox flex="1">
     <toolbox>
       <toolbar>
         <toolbaritem title="Toolbaritem title">
           <toolbarbutton id="buttonwithtooltip" tooltiptext="buttonwithtooltip"/>
           <toolbarbutton id="buttonwithouttooltip"/>
-          <textbox id="textboxwithtooltip" tooltiptext="textboxwithtooltip"/>
-          <textbox id="textboxwithouttooltip"/>
+          <input id="textboxwithtooltip" tooltiptext="textboxwithtooltip"/>
+          <input id="textboxwithouttooltip"/>
           <vbox>
             <toolbarbutton id="nestedbuttonwithtooltip" tooltiptext="nestedbuttonwithtooltip"/>
             <toolbarbutton id="nestedbuttonwithouttooltip"/>
-            <textbox id="nestedtextboxwithtooltip" tooltiptext="nestedtextboxwithtooltip"/>
-            <textbox id="nestedtextboxwithouttooltip"/>
+            <input id="nestedtextboxwithtooltip" tooltiptext="nestedtextboxwithtooltip"/>
+            <input id="nestedtextboxwithouttooltip"/>
           </vbox>
         </toolbaritem>
       </toolbar>
     </toolbox>
 
 
   </vbox> <!-- close tests area -->
   </hbox> <!-- close main area -->
diff --git a/accessible/tests/mochitest/relations/test_general.xul b/accessible/tests/mochitest/relations/test_general.xul
--- a/accessible/tests/mochitest/relations/test_general.xul
+++ b/accessible/tests/mochitest/relations/test_general.xul
@@ -200,17 +200,17 @@
 
     <description id="flowto1" aria-flowto="flowfrom1 flowfrom2">flow to</description>
     <description id="flowfrom1">flow from</description>
     <description id="flowfrom2">flow from</description>
 
     <description id="flowto" aria-flowto="flowfrom">flow to</description>
     <description id="flowfrom">flow from</description>
 
-    <textbox id="textbox"/>
+    <input id="textbox"/>
     <button id="submit" default="true" label="Default"/>
 
     <groupbox id="groupbox">
       <label value="caption"/>
     </groupbox>
 
     <tabbox>
       <tabs>
diff --git a/accessible/tests/mochitest/states/test_expandable.xul b/accessible/tests/mochitest/states/test_expandable.xul
--- a/accessible/tests/mochitest/states/test_expandable.xul
+++ b/accessible/tests/mochitest/states/test_expandable.xul
@@ -94,17 +94,17 @@
       <menulist id="menulist">
         <menupopup>
           <menuitem label="item1"/>
           <menuitem label="item2"/>
           <menuitem label="item3"/>
         </menupopup>
       </menulist>
 
-      <textbox id="autocomplete" type="autocomplete"
+      <input id="autocomplete" type="autocomplete"
                autocompletesearch="test-a11y-search"/>
 
       <searchbar id="searchbar"/>
     </vbox>
   </hbox>
 
 </window>
 
diff --git a/accessible/tests/mochitest/states/test_textbox.xul b/accessible/tests/mochitest/states/test_textbox.xul
--- a/accessible/tests/mochitest/states/test_textbox.xul
+++ b/accessible/tests/mochitest/states/test_textbox.xul
@@ -14,17 +14,17 @@
           src="../role.js" />
   <script type="application/javascript"
           src="../states.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function getInput(aID)
     {
-      return getNode(aID).inputField;
+      return getNode(aID);
     }
 
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // Ordinary textbox
       testStates(getInput("textbox"),
                  STATE_FOCUSABLE,
@@ -101,20 +101,20 @@
     </a>
     <p id="display"></p>
     <div id="content" style="display: none"></div>
     <pre id="test">
     </pre>
   </body>
 
   <vbox flex="1">
-    <textbox id="textbox"/>
-    <textbox id="password" type="password"/>
+    <input id="textbox"/>
+    <input id="password" type="password"/>
 
-    <textbox id="readonly_textbox" readonly="true"/>
-    <textbox id="disabled_textbox" disabled="true"/>
+    <input id="readonly_textbox" readonly="true"/>
+    <input id="disabled_textbox" disabled="true"/>
 
     <search-textbox id="searchbox" flex="1" results="historyTree"/>
     <search-textbox id="searchfield" placeholder="Search all add-ons"
                     searchbutton="true"/>
   </vbox>
   </hbox>
 </window>
diff --git a/accessible/tests/mochitest/text/test_general.xul b/accessible/tests/mochitest/text/test_general.xul
--- a/accessible/tests/mochitest/text/test_general.xul
+++ b/accessible/tests/mochitest/text/test_general.xul
@@ -36,17 +36,17 @@
 
       testCharAfterOffset(ids, 0, "e", 1, 2);
       testCharBeforeOffset(ids, 1, "H", 0, 1);
       testCharAtOffset(ids, 1, "e", 1, 2);
 
       //////////////////////////////////////////////////////////////////////////
       // XUL textbox
 
-      testTextAtOffset([ getNode("tbox1").inputField ], BOUNDARY_LINE_START,
+      testTextAtOffset([ getNode("tbox1") ], BOUNDARY_LINE_START,
                        [ [ 0, 4, "test", 0, 4 ] ]);
 
       SimpleTest.finish();
     }
 
     SimpleTest.waitForExplicitFinish();
     addA11yLoadEvent(doTests);
   ]]>
@@ -68,11 +68,11 @@
     <div id="content" style="display: none">
     </div>
     <pre id="test">
     </pre>
   </body>
   <label id="label1" value="Hello"/>
   <label id="label2">Hello</label>
 
-  <textbox id="tbox1" value="test"/>
+  <input id="tbox1" value="test"/>
   </vbox>
 </window>
diff --git a/accessible/tests/mochitest/tree/test_combobox.xul b/accessible/tests/mochitest/tree/test_combobox.xul
--- a/accessible/tests/mochitest/tree/test_combobox.xul
+++ b/accessible/tests/mochitest/tree/test_combobox.xul
@@ -112,15 +112,15 @@
     <vbox flex="1">
       <menulist id="menulist">
         <menupopup>
           <menuitem label="item"/>
           <menuitem label="item"/>
         </menupopup>
       </menulist>
 
-      <textbox id="autocomplete" type="autocomplete"
+      <input id="autocomplete" type="autocomplete"
                autocompletesearch="unifiedcomplete"
                value="http://mochi.test:8888/redirect-a11y.html"/>
     </vbox>
   </hbox>
 
 </window>
diff --git a/accessible/tests/mochitest/tree/test_txtctrl.xul b/accessible/tests/mochitest/tree/test_txtctrl.xul
--- a/accessible/tests/mochitest/tree/test_txtctrl.xul
+++ b/accessible/tests/mochitest/tree/test_txtctrl.xul
@@ -107,21 +107,21 @@
       <p id="display"></p>
       <div id="content" style="display: none">
       </div>
       <pre id="test">
       </pre>
     </body>
 
     <vbox flex="1">
-      <textbox id="txc" value="hello"/>
+      <input id="txc" value="hello"/>
       <box role="group" id="txc_search">
         <search-textbox value="hello"/>
       </box>
       <box role="group" id="txc_search_searchbutton">
         <search-textbox searchbutton="true" value="hello"/>
       </box>
-      <textbox id="txc_number" type="number" value="44"/>
-      <textbox id="txc_password" type="password" value="hello"/>
+      <input id="txc_number" type="number" value="44"/>
+      <input id="txc_password" type="password" value="hello"/>
     </vbox>
   </hbox>
 
 </window>
