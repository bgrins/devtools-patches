# HG changeset patch
# Parent c85a177a66bbf6ffe3a48e9fc17831e88ae82c1a
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 957117 - DevTools Themes: Use light theme for top tabbar and toolbars

diff --git a/browser/themes/linux/jar.mn b/browser/themes/linux/jar.mn
--- a/browser/themes/linux/jar.mn
+++ b/browser/themes/linux/jar.mn
@@ -145,16 +145,17 @@ browser.jar:
   skin/classic/browser/tabview/edit-light.png         (tabview/edit-light.png)
   skin/classic/browser/tabview/search.png             (tabview/search.png)
   skin/classic/browser/tabview/stack-expander.png     (tabview/stack-expander.png)
   skin/classic/browser/tabview/tabview.png            (tabview/tabview.png)
   skin/classic/browser/tabview/tabview.css            (tabview/tabview.css)
 * skin/classic/browser/devtools/common.css            (../shared/devtools/common.css)
 * skin/classic/browser/devtools/dark-theme.css        (../shared/devtools/dark-theme.css)
 * skin/classic/browser/devtools/light-theme.css       (../shared/devtools/light-theme.css)
+  skin/classic/browser/devtools/filters.svg           (../shared/devtools/filters.svg)
   skin/classic/browser/devtools/controls.png          (../shared/devtools/controls.png)
 * skin/classic/browser/devtools/widgets.css           (devtools/widgets.css)
   skin/classic/browser/devtools/commandline-icon.png  (devtools/commandline-icon.png)
   skin/classic/browser/devtools/command-paintflashing@2x.png (../shared/devtools/images/command-paintflashing@2x.png)
   skin/classic/browser/devtools/command-responsivemode@2x.png (../shared/devtools/images/command-responsivemode@2x.png)
   skin/classic/browser/devtools/command-scratchpad@2x.png   (../shared/devtools/images/command-scratchpad@2x.png)
   skin/classic/browser/devtools/command-tilt@2x.png         (../shared/devtools/images/command-tilt@2x.png)
   skin/classic/browser/devtools/command-console@2x.png      (../shared/devtools/images/command-console@2x.png)
diff --git a/browser/themes/osx/devtools/styleeditor.css b/browser/themes/osx/devtools/styleeditor.css
--- a/browser/themes/osx/devtools/styleeditor.css
+++ b/browser/themes/osx/devtools/styleeditor.css
@@ -1,17 +1,13 @@
 /* vim:set ts=2 sw=2 sts=2 et: */
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
-#style-editor-chrome {
-  background-color: hsl(208,11%,27%);
-}
-
 .stylesheet-title,
 .stylesheet-name {
   text-decoration: none;
   color: hsl(207,17%,88%);
 }
 
 .stylesheet-name {
   font-size: 13px;
diff --git a/browser/themes/osx/jar.mn b/browser/themes/osx/jar.mn
--- a/browser/themes/osx/jar.mn
+++ b/browser/themes/osx/jar.mn
@@ -248,16 +248,17 @@ browser.jar:
   skin/classic/browser/tabview/edit-light.png               (tabview/edit-light.png)
   skin/classic/browser/tabview/search.png                   (tabview/search.png)
   skin/classic/browser/tabview/stack-expander.png           (tabview/stack-expander.png)
   skin/classic/browser/tabview/tabview.png                  (tabview/tabview.png)
   skin/classic/browser/tabview/tabview.css                  (tabview/tabview.css)
 * skin/classic/browser/devtools/common.css                  (../shared/devtools/common.css)
 * skin/classic/browser/devtools/dark-theme.css              (../shared/devtools/dark-theme.css)
 * skin/classic/browser/devtools/light-theme.css             (../shared/devtools/light-theme.css)
+  skin/classic/browser/devtools/filters.svg                 (../shared/devtools/filters.svg)
   skin/classic/browser/devtools/controls.png                (../shared/devtools/controls.png)
 * skin/classic/browser/devtools/widgets.css                 (devtools/widgets.css)
   skin/classic/browser/devtools/commandline-icon.png        (devtools/commandline-icon.png)
   skin/classic/browser/devtools/command-paintflashing@2x.png (../shared/devtools/images/command-paintflashing@2x.png)
   skin/classic/browser/devtools/command-responsivemode@2x.png (../shared/devtools/images/command-responsivemode@2x.png)
   skin/classic/browser/devtools/command-scratchpad@2x.png   (../shared/devtools/images/command-scratchpad@2x.png)
   skin/classic/browser/devtools/command-tilt@2x.png         (../shared/devtools/images/command-tilt@2x.png)
   skin/classic/browser/devtools/command-console@2x.png      (../shared/devtools/images/command-console@2x.png)
diff --git a/browser/themes/shared/devtools/common.css b/browser/themes/shared/devtools/common.css
--- a/browser/themes/shared/devtools/common.css
+++ b/browser/themes/shared/devtools/common.css
@@ -22,29 +22,29 @@
 }
 
 /* Splitters */
 .devtools-horizontal-splitter {
   -moz-appearance: none;
   background-image: none;
   background-color: transparent;
   border: 0;
-  border-bottom: 1px solid black;
+  border-bottom: 1px solid #aaa;
   min-height: 3px;
   height: 3px;
   margin-top: -3px;
   position: relative;
 }
 
 .devtools-side-splitter {
   -moz-appearance: none;
   background-image: none;
   background-color: transparent;
   border: 0;
-  -moz-border-end: 1px solid black;
+  -moz-border-end: 1px solid #aaa;
   min-width: 3px;
   width: 3px;
   -moz-margin-start: -3px;
   position: relative;
   cursor: e-resize;
 }
 
 .devtools-toolbox-side-iframe {
diff --git a/browser/themes/shared/devtools/dark-theme.css b/browser/themes/shared/devtools/dark-theme.css
--- a/browser/themes/shared/devtools/dark-theme.css
+++ b/browser/themes/shared/devtools/dark-theme.css
@@ -143,20 +143,21 @@
 .cm-s-mozilla .cm-quote,
 .cm-s-mozilla .cm-error,
 .variable-or-property .token-boolean,
 .variable-or-property[exception] > .title > .name { /* Red */
   color: #bf5656;
 }
 
 .theme-toolbar,
-.devtools-toolbar { /* General toolbar styling */
-  color: hsl(210,30%,85%);
+.devtools-toolbar,
+.devtools-sidebar-tabs > tabs { /* General toolbar styling */
+  color: #b6babf;
   background-color: #343c45;
-  border-color: #060a0d;
+  border-color: hsla(210,8%,5%,.6);
 }
 
 .theme-fg-contrast { /* To be used for text on theme-bg-contrast */
   color: black;
 }
 
 .ruleview-colorswatch,
 .computedview-colorswatch,
@@ -298,8 +299,14 @@ div.CodeMirror span.eval-text {
   border-bottom: 1px solid #434850;
 }
 
 .theme-tooltip-panel .devtools-tooltip-simple-text:last-child {
   border-bottom: 0;
 }
 
 %include toolbars.inc.css
+
+.devtools-textinput,
+.devtools-searchinput {
+  background-color: rgba(24, 29, 32, 1);
+  color: rgba(184, 200, 217, 1);
+}
diff --git a/browser/themes/shared/devtools/filters.svg b/browser/themes/shared/devtools/filters.svg
new file mode 100644
--- /dev/null
+++ b/browser/themes/shared/devtools/filters.svg
@@ -0,0 +1,9 @@
+<svg height="0" xmlns="http://www.w3.org/2000/svg">
+<filter id="invert" x="0%" y="0%" width="100%" height="100%" >
+  <feComponentTransfer>
+    <feFuncR type="table" tableValues=".1 0"/>
+    <feFuncG type="table" tableValues=".1 0"/>
+    <feFuncB type="table" tableValues=".1 0"/>
+  </feComponentTransfer>
+</filter>
+</svg>
\ No newline at end of file
diff --git a/browser/themes/shared/devtools/light-theme.css b/browser/themes/shared/devtools/light-theme.css
--- a/browser/themes/shared/devtools/light-theme.css
+++ b/browser/themes/shared/devtools/light-theme.css
@@ -146,20 +146,21 @@
   color: #bf5656;
 }
 
 .theme-fg-contrast { /* To be used for text on theme-bg-contrast */
   color: black;
 }
 
 .theme-toolbar,
-.devtools-toolbar { /* General toolbar styling */
-  color: hsl(210,30%,85%);
-  background-color: #343c45;
-  border-color: #060a0d;
+.devtools-toolbar,
+.devtools-sidebar-tabs > tabs { /* General toolbar styling */
+  color: #585959;
+  background-color: #f0f1f2;
+  border-color: #aaa;
 }
 
 .ruleview-colorswatch,
 .computedview-colorswatch,
 .markupview-colorswatch {
   box-shadow: 0 0 0 1px #EFEFEF;
 }
 
@@ -296,9 +297,14 @@ div.CodeMirror span.eval-text {
   color: black;
   border-bottom: 1px solid #d9e1e8;
 }
 
 .theme-tooltip-panel .devtools-tooltip-simple-text:last-child {
   border-bottom: 0;
 }
 
+/* TODO: move this once widgets.css is shared */
+.theme-light .breadcrumbs-widget-item {
+  color: #585959;
+}
+
 %include toolbars.inc.css
diff --git a/browser/themes/shared/devtools/toolbars.inc.css b/browser/themes/shared/devtools/toolbars.inc.css
--- a/browser/themes/shared/devtools/toolbars.inc.css
+++ b/browser/themes/shared/devtools/toolbars.inc.css
@@ -15,25 +15,41 @@
 }
 
 .devtools-menulist,
 .devtools-toolbarbutton {
   -moz-appearance: none;
   -moz-box-align: center;
   min-width: 78px;
   min-height: 22px;
-  text-shadow: 0 -1px 0 hsla(210,8%,5%,.45);
+  text-shadow: none;
   border: 1px solid hsla(210,8%,5%,.45);
   border-radius: 3px;
   background: linear-gradient(hsla(212,7%,57%,.35), hsla(212,7%,57%,.1)) padding-box;
   box-shadow: 0 1px 0 hsla(210,16%,76%,.15) inset, 0 0 0 1px hsla(210,16%,76%,.15) inset, 0 1px 0 hsla(210,16%,76%,.15);
   margin: 0 3px;
   color: inherit;
 }
 
+.theme-light .devtools-menulist,
+.theme-light .devtools-toolbarbutton {
+  background: #f7f7f7;
+  color: #18191a;
+}
+.theme-light .devtools-menulist[open=true],
+.theme-light .devtools-toolbarbutton[open=true],
+.theme-light .devtools-toolbarbutton[checked=true],
+.theme-light .devtools-toolbarbutton[checked=true]:hover,
+.theme-light .devtools-toolbarbutton[checked=true]:hover:active  {
+  background: #ddd !important;
+}
+.theme-light .devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-button {
+  color: #18191a !important;
+}
+
 .devtools-toolbarbutton > .toolbarbutton-menubutton-button {
   -moz-box-orient: horizontal;
 }
 
 .devtools-menulist:-moz-focusring,
 .devtools-toolbarbutton:-moz-focusring {
   outline: 1px dotted hsla(210,30%,85%,0.7);
   outline-offset: -4px;
@@ -133,19 +149,17 @@
   -moz-appearance: none;
   margin: 0 3px;
   border: 1px solid rgb(88, 94, 101);
 %ifdef XP_MACOSX
   border-radius: 20px;
 %else
   border-radius: 2px;
 %endif
-  background-color: rgba(24, 29, 32, 1);
   padding: 4px 6px;
-  color: rgba(184, 200, 217, 1);
 }
 
 .devtools-searchinput {
   padding-top: 3px;
   padding-bottom: 3px;
   -moz-padding-start: 22px;
   -moz-padding-end: 12px;
   background-image: url(magnifying-glass.png);
@@ -217,26 +231,24 @@
   padding: 0;
   border: 0;
 }
 
 .devtools-sidebar-tabs > tabs {
   -moz-appearance: none;
   position: static;
   font: inherit;
-  color: #b6babf;
   margin-bottom: 0;
   padding: 0;
-  background-color: #343c45;
   border-width: 0 0 1px 0;
-  border-color: hsla(210,8%,5%,.6);
   border-style: solid;
   overflow: hidden;
 }
 
+
 .devtools-sidebar-tabs > tabs > .tabs-right,
 .devtools-sidebar-tabs > tabs > .tabs-left {
   display: none;
 }
 
 .devtools-sidebar-tabs > tabs > tab {
   -moz-appearance: none;
   /* We want to match the height of a toolbar with a toolbarbutton
@@ -246,17 +258,16 @@
   padding: 5px 3px;
   -moz-padding-start: 6px;
   margin: 0;
   min-width: 78px;
   /* toolbar's min-height is button min-height (25px) + padding (2 * 4px): 33px.
    * -1px because the parent element (<tabs>) comes with a 1px bottom border.
    */
   min-height: 32px;
-  text-shadow: 0 -1px 0 hsla(210,8%,5%,.45);
   text-align: center;
   color: inherit;
   -moz-box-flex: 1;
   border-width: 0;
   position: static;
   -moz-margin-start: -1px;
 }
 
@@ -298,26 +309,35 @@
 .devtools-sidebar-tabs > tabs > tab[selected] + tab:hover {
   background-image: linear-gradient(hsla(206,37%,4%,.2), hsla(206,37%,4%,.2)), @solidSeparator@;
 }
 
 .devtools-sidebar-tabs > tabs > tab[selected] + tab:hover:active {
   background-image: linear-gradient(hsla(206,37%,4%,.4), hsla(206,37%,4%,.4)), @solidSeparator@;
 }
 
-.devtools-sidebar-tabs > tabs > tab[selected] {
+.theme-light .devtools-sidebar-tabs > tabs > tab[selected] {
+  color: #f5f7fa;
+  background-image: linear-gradient(#0088cc, #0088cc), @solidSeparator@;
+}
+
+.theme-dark .devtools-sidebar-tabs > tabs > tab {
+  text-shadow: 0 -1px 0 hsla(210,8%,5%,.45);
+}
+
+.theme-dark .devtools-sidebar-tabs > tabs > tab[selected] {
   color: #f5f7fa;
   background-image: linear-gradient(#1d4f73, #1d4f73), @solidSeparator@;
 }
 
-.devtools-sidebar-tabs > tabs > tab[selected]:hover {
+.theme-dark .devtools-sidebar-tabs > tabs > tab[selected]:hover {
   background-image: linear-gradient(#274f64, #274f64), @solidSeparator@;
 }
 
-.devtools-sidebar-tabs > tabs > tab[selected]:hover:active {
+.theme-dark .devtools-sidebar-tabs > tabs > tab[selected]:hover:active {
   background-image: linear-gradient(#1f3e4f, #1f3e4f), @solidSeparator@;
 }
 
 /* Toolbox - moved from toolbox.css.
  * Rules that apply to the global toolbox like command buttons,
  * devtools tabs, docking buttons, etc. */
 
 #toolbox-controls {
@@ -467,16 +487,60 @@
   max-width: 127px;
   color: #b6babf;
   margin: 0;
   padding: 0;
   -moz-border-start: 1px solid #42484f;
   -moz-box-align: center;
 }
 
+.theme-light .devtools-tabbar {
+  background: #ebeced;
+  border-bottom-color: #aaa;
+}
+
+.theme-light .devtools-tab,
+.theme-light .devtools-tab:hover {
+  color: #18191a;
+  border-color: #aaa;
+}
+.theme-light .devtools-tab:last-child {
+  -moz-border-end: 1px solid #aaa;
+}
+
+.theme-light .devtools-tab > image,
+.theme-light #toolbox-dock-buttons > toolbarbutton > image,
+.theme-light .command-button > image,
+.theme-light .devtools-closebutton > image,
+.theme-light .devtools-toolbarbutton > image,
+.theme-light .devtools-option-toolbarbutton > image  {
+  filter: url(filters.svg#invert);
+}
+
+.theme-light .command-button:hover {
+  background-color: inherit;
+}
+
+.theme-light .command-button:hover:active,
+.theme-light .command-button[checked=true]:not(:hover) {
+  background-color: inherit;
+}
+
+.theme-light .command-button[checked=true] > image,
+.theme-light .devtools-tab:active > image,
+.theme-light .devtools-tab[selected] > image,
+.theme-light .devtools-toolbarbutton[checked] > image,
+.theme-light .devtools-option-toolbarbutton[open] > image {
+  filter: none !important;
+}
+
+.theme-light #toolbox-tabs .devtools-tab[selected] {
+  background-color: #0088cc;
+}
+
 .devtools-tab:first-child {
   -moz-border-start-width: 0;
 }
 
 .devtools-tab:last-child {
   -moz-border-end: 1px solid #42484f;
 }
 
diff --git a/browser/themes/shared/devtools/webconsole.inc.css b/browser/themes/shared/devtools/webconsole.inc.css
--- a/browser/themes/shared/devtools/webconsole.inc.css
+++ b/browser/themes/shared/devtools/webconsole.inc.css
@@ -298,16 +298,20 @@ a {
   border-radius: 3px;
 }
 
 #webconsole-sidebar > tabs {
   height: 0;
   border: none;
 }
 
+.devtools-side-splitter ~ #webconsole-sidebar[hidden] {
+  display: none;
+}
+
 /* Security styles */
 
 .message[category=security] > .icon {
   -moz-border-start: solid red 6px;
 }
 
 .webconsole-filter-button[category="security"] > .toolbarbutton-menubutton-button:before {
   background-image: linear-gradient(#FF3030, #FF7D7D);
diff --git a/browser/themes/windows/jar.mn b/browser/themes/windows/jar.mn
--- a/browser/themes/windows/jar.mn
+++ b/browser/themes/windows/jar.mn
@@ -174,16 +174,17 @@ browser.jar:
         skin/classic/browser/tabview/stack-expander.png             (tabview/stack-expander.png)
         skin/classic/browser/tabview/tabview.png                    (tabview/tabview.png)
         skin/classic/browser/tabview/tabview-inverted.png           (tabview/tabview-inverted.png)
         skin/classic/browser/tabview/tabview.css                    (tabview/tabview.css)
 *       skin/classic/browser/devtools/common.css                    (../shared/devtools/common.css)
 *       skin/classic/browser/devtools/dark-theme.css                (../shared/devtools/dark-theme.css)
 *       skin/classic/browser/devtools/light-theme.css               (../shared/devtools/light-theme.css)
         skin/classic/browser/devtools/controls.png                  (../shared/devtools/controls.png)
+        skin/classic/browser/devtools/filters.svg                   (../shared/devtools/filters.svg)
 *       skin/classic/browser/devtools/widgets.css                   (devtools/widgets.css)
         skin/classic/browser/devtools/commandline-icon.png          (devtools/commandline-icon.png)
         skin/classic/browser/devtools/alerticon-warning.png         (devtools/alerticon-warning.png)
         skin/classic/browser/devtools/ruleview.css                  (devtools/ruleview.css)
         skin/classic/browser/devtools/commandline.css               (devtools/commandline.css)
         skin/classic/browser/devtools/command-paintflashing@2x.png  (../shared/devtools/images/command-paintflashing@2x.png)
         skin/classic/browser/devtools/command-responsivemode@2x.png (../shared/devtools/images/command-responsivemode@2x.png)
         skin/classic/browser/devtools/command-scratchpad@2x.png     (../shared/devtools/images/command-scratchpad@2x.png)
@@ -485,16 +486,17 @@ browser.jar:
         skin/classic/aero/browser/tabview/stack-expander.png         (tabview/stack-expander.png)
         skin/classic/aero/browser/tabview/tabview.png                (tabview/tabview.png)
         skin/classic/aero/browser/tabview/tabview-inverted.png       (tabview/tabview-inverted.png)
         skin/classic/aero/browser/tabview/tabview.css                (tabview/tabview.css)
 *       skin/classic/aero/browser/devtools/common.css                (../shared/devtools/common.css)
 *       skin/classic/aero/browser/devtools/dark-theme.css            (../shared/devtools/dark-theme.css)
 *       skin/classic/aero/browser/devtools/light-theme.css           (../shared/devtools/light-theme.css)
         skin/classic/aero/browser/devtools/controls.png              (../shared/devtools/controls.png)
+        skin/classic/aero/browser/devtools/filters.svg               (../shared/devtools/filters.svg)
 *       skin/classic/aero/browser/devtools/widgets.css               (devtools/widgets.css)
         skin/classic/aero/browser/devtools/commandline-icon.png      (devtools/commandline-icon.png)
         skin/classic/aero/browser/devtools/command-paintflashing@2x.png (../shared/devtools/images/command-paintflashing@2x.png)
         skin/classic/aero/browser/devtools/command-responsivemode@2x.png (../shared/devtools/images/command-responsivemode@2x.png)
         skin/classic/aero/browser/devtools/command-scratchpad@2x.png (../shared/devtools/images/command-scratchpad@2x.png)
         skin/classic/aero/browser/devtools/command-tilt@2x.png       (../shared/devtools/images/command-tilt@2x.png)
         skin/classic/aero/browser/devtools/command-console@2x.png    (../shared/devtools/images/command-console@2x.png)
         skin/classic/aero/browser/devtools/alerticon-warning.png     (devtools/alerticon-warning.png)
