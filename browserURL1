# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  5a8107262015714d2907a85abc24c847ad9b32d2
Bug 1476333 - Expose browser.chromeURI through BrowserUtils

diff --git a/browser/app/profile/firefox.js b/browser/app/profile/firefox.js
--- a/browser/app/profile/firefox.js
+++ b/browser/app/profile/firefox.js
@@ -16,17 +16,17 @@
 #
 
 #ifdef XP_UNIX
 #ifndef XP_MACOSX
 #define UNIX_BUT_NOT_MAC
 #endif
 #endif
 
-pref("browser.chromeURL","chrome://browser/content/");
+pref("browser.chromeURL","chrome://browser/content/browser.xul");
 pref("browser.hiddenWindowChromeURL", "chrome://browser/content/hiddenWindow.xul");
 
 // Enables some extra Extension System Logging (can reduce performance)
 pref("extensions.logging.enabled", false);
 
 // Disables strict compatibility, making addons compatible-by-default.
 pref("extensions.strictCompatibility", false);
 
diff --git a/toolkit/modules/BrowserUtils.jsm b/toolkit/modules/BrowserUtils.jsm
--- a/toolkit/modules/BrowserUtils.jsm
+++ b/toolkit/modules/BrowserUtils.jsm
@@ -703,8 +703,10 @@ var BrowserUtils = {
         }
       } else {
         fragment.appendChild(part);
       }
     }
     return fragment;
   },
 };
+
+XPCOMUtils.defineLazyPreferenceGetter(BrowserUtils, "browserURL", "browser.chromeURL");
