# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  2f0a8c420b18954e18b57993ea9c1a84190a0cb1
Bug 1278368 - Remove the error console;r=

diff --git a/b2g/installer/package-manifest.in b/b2g/installer/package-manifest.in
--- a/b2g/installer/package-manifest.in
+++ b/b2g/installer/package-manifest.in
@@ -396,18 +396,16 @@
 #ifdef MOZ_WEBRTC
 @RESPATH@/components/PeerConnection.js
 @RESPATH@/components/PeerConnection.manifest
 #endif
 @RESPATH@/components/SiteSpecificUserAgent.js
 @RESPATH@/components/SiteSpecificUserAgent.manifest
 @RESPATH@/components/storage-json.js
 @RESPATH@/components/crypto-SDR.js
-@RESPATH@/components/jsconsole-clhandler.manifest
-@RESPATH@/components/jsconsole-clhandler.js
 @RESPATH@/components/Downloads.manifest
 @RESPATH@/components/DownloadLegacy.js
 @RESPATH@/components/nsSidebar.manifest
 @RESPATH@/components/nsSidebar.js
 @RESPATH@/components/nsAsyncShutdown.manifest
 @RESPATH@/components/nsAsyncShutdown.js
 @RESPATH@/components/htmlMenuBuilder.js
 @RESPATH@/components/htmlMenuBuilder.manifest
diff --git a/browser/installer/package-manifest.in b/browser/installer/package-manifest.in
--- a/browser/installer/package-manifest.in
+++ b/browser/installer/package-manifest.in
@@ -384,18 +384,16 @@
 @RESPATH@/components/passwordmgr.manifest
 @RESPATH@/components/nsLoginInfo.js
 @RESPATH@/components/nsLoginManager.js
 @RESPATH@/components/nsLoginManagerPrompter.js
 @RESPATH@/components/storage-json.js
 @RESPATH@/components/crypto-SDR.js
 @RESPATH@/components/TooltipTextProvider.js
 @RESPATH@/components/TooltipTextProvider.manifest
-@RESPATH@/components/jsconsole-clhandler.manifest
-@RESPATH@/components/jsconsole-clhandler.js
 @RESPATH@/components/webvtt.xpt
 @RESPATH@/components/WebVTT.manifest
 @RESPATH@/components/WebVTTParserWrapper.js
 #ifdef MOZ_GTK
 @RESPATH@/components/nsFilePicker.manifest
 @RESPATH@/components/nsFilePicker.js
 #endif
 @RESPATH@/components/nsHelperAppDlg.manifest
diff --git a/devtools/client/devtools-startup.manifest b/devtools/client/devtools-startup.manifest
--- a/devtools/client/devtools-startup.manifest
+++ b/devtools/client/devtools-startup.manifest
@@ -1,8 +1,3 @@
 component {9e9a9283-0ce9-4e4a-8f1c-ba129a032c32} devtools-startup.js
 contract @mozilla.org/devtools/startup-clh;1 {9e9a9283-0ce9-4e4a-8f1c-ba129a032c32}
-# We want this to override toolkit's --jsconsole handling, so it must have a
-# a higher priority than the entry in jsconsole-clhandler.manifest.  Higher
-# priority means the "m-devtools" value below needs to be something that sorts
-# before the one in jsconsole-clhandler.manifest.  See details in
-# nsICommandLineHandler.idl.
 category command-line-handler m-devtools @mozilla.org/devtools/startup-clh;1
diff --git a/toolkit/components/console/content/console.css b/toolkit/components/console/content/console.css
deleted file mode 100644
--- a/toolkit/components/console/content/console.css
+++ /dev/null
@@ -1,75 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-
-.console-box {
-  -moz-binding: url("chrome://global/content/consoleBindings.xml#console-box");
-  overflow: auto;
-}
-
-.console-rows {
-  -moz-user-focus: normal;
-}
-
-.console-row[type="error"],
-.console-row[type="warning"],
-.console-row[type="message"][typetext] {
-  -moz-binding: url("chrome://global/content/consoleBindings.xml#error");
-}
-
-.console-row[type="message"] {
-  -moz-binding: url("chrome://global/content/consoleBindings.xml#message");
-}
-
-.console-msg-text,
-.console-error-msg {
-  white-space: pre-wrap;
-}
-
-.console-error-source {
-  -moz-binding: url("chrome://global/content/consoleBindings.xml#console-error-source");
-}
-
-.console-dots {
-  width: 1px;
-}
-
-/* :::::::::: hiding and showing of rows for each mode :::::::::: */
-
-.console-box[mode="Warnings"] > .console-box-internal > .console-rows 
-    > .console-row[type="error"],
-.console-box[mode="Messages"] > .console-box-internal > .console-rows 
-    > .console-row[type="error"]
-{
-  display: none;
-}
-
-.console-box[mode="Errors"] > .console-box-internal > .console-rows 
-    > .console-row[type="warning"],
-.console-box[mode="Messages"] > .console-box-internal > .console-rows 
-    > .console-row[type="warning"]
-{
-  display: none;
-}
-
-.console-box[mode="Errors"] > .console-box-internal > .console-rows 
-    > .console-row[type="message"],
-.console-box[mode="Warnings"] > .console-box-internal > .console-rows 
-    > .console-row[type="message"]
-{
-  display: none;
-}
-
-.filtered-by-string {
-  display: none;
-}
-
-/* If line number is 0, hide the line number section */
-.lineNumberRow[line="0"] {
-  display: none;
-}
-
-#TextboxEval {
-  direction: ltr;
-}
diff --git a/toolkit/components/console/content/console.js b/toolkit/components/console/content/console.js
deleted file mode 100644
--- a/toolkit/components/console/content/console.js
+++ /dev/null
@@ -1,111 +0,0 @@
-// -*- indent-tabs-mode: nil; js-indent-level: 2 -*-
-
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-Components.utils.import("resource://gre/modules/Services.jsm");
-
-var gConsole, gConsoleBundle, gTextBoxEval, gEvaluator, gCodeToEvaluate;
-var gFilter;
-
-/* :::::::: Console Initialization ::::::::::::::: */
-
-window.onload = function()
-{
-  gConsole = document.getElementById("ConsoleBox");
-  gConsoleBundle = document.getElementById("ConsoleBundle");
-  gTextBoxEval = document.getElementById("TextboxEval");
-  gEvaluator = document.getElementById("Evaluator");
-  gFilter = document.getElementById("Filter");
-
-  updateSortCommand(gConsole.sortOrder);
-  updateModeCommand(gConsole.mode);
-
-  gEvaluator.addEventListener("load", loadOrDisplayResult, true);
-}
-
-/* :::::::: Console UI Functions ::::::::::::::: */
-
-function changeFilter()
-{
-  gConsole.filter = gFilter.value;
-
-  document.persist("ConsoleBox", "filter");
-}
-
-function changeMode(aMode)
-{
-  switch (aMode) {
-    case "Errors":
-    case "Warnings":
-    case "Messages":
-      gConsole.mode = aMode;
-      break;
-    case "All":
-      gConsole.mode = null;
-  }
-
-  document.persist("ConsoleBox", "mode");
-}
-
-function clearConsole()
-{
-  gConsole.clear();
-}
-
-function changeSortOrder(aOrder)
-{
-  updateSortCommand(gConsole.sortOrder = aOrder);
-}
-
-function updateSortCommand(aOrder)
-{
-  var orderString = aOrder == 'reverse' ? "Descend" : "Ascend";
-  var bc = document.getElementById("Console:sort"+orderString);
-  bc.setAttribute("checked", true);
-
-  orderString = aOrder == 'reverse' ? "Ascend" : "Descend";
-  bc = document.getElementById("Console:sort"+orderString);
-  bc.setAttribute("checked", false);
-}
-
-function updateModeCommand(aMode)
-{
-  /* aMode can end up invalid if it set by an extension that replaces */
-  /* mode and then it is uninstalled or disabled */
-  var bc = document.getElementById("Console:mode" + aMode) ||
-           document.getElementById("Console:modeAll");
-  bc.setAttribute("checked", true);
-}
-
-function onEvalKeyPress(aEvent)
-{
-  if (aEvent.keyCode == 13)
-    evaluateTypein();
-}
-
-function evaluateTypein()
-{
-  gCodeToEvaluate = gTextBoxEval.value;
-  // reset the iframe first; the code will be evaluated in loadOrDisplayResult
-  // below, once about:blank has completed loading (see bug 385092)
-  gEvaluator.contentWindow.location = "about:blank";
-}
-
-function loadOrDisplayResult()
-{
-  if (gCodeToEvaluate) {
-    gEvaluator.contentWindow.location = "javascript: " +
-                                        gCodeToEvaluate.replace(/%/g, "%25");
-    gCodeToEvaluate = "";
-    return;
-  }
-
-  var resultRange = gEvaluator.contentDocument.createRange();
-  resultRange.selectNode(gEvaluator.contentDocument.documentElement);
-  var result = resultRange.toString();
-  if (result)
-    Services.console.logStringMessage(result);
-    // or could use appendMessage which doesn't persist
-}
diff --git a/toolkit/components/console/content/console.xul b/toolkit/components/console/content/console.xul
deleted file mode 100644
--- a/toolkit/components/console/content/console.xul
+++ /dev/null
@@ -1,101 +0,0 @@
-<?xml version="1.0"?> <!-- -*- tab-width: 4; indent-tabs-mode: nil -*- -->
-
-<!-- This Source Code Form is subject to the terms of the Mozilla Public
-   - License, v. 2.0. If a copy of the MPL was not distributed with this
-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
-
-<?xml-stylesheet href="chrome://global/skin/" type="text/css"?> 
-<?xml-stylesheet href="chrome://global/skin/console/console.css" type="text/css"?> 
-<?xml-stylesheet href="chrome://global/content/console.css" type="text/css"?> 
-<?xul-overlay href="chrome://global/content/editMenuOverlay.xul"?>
-
-<!DOCTYPE window [
-  <!ENTITY % console SYSTEM "chrome://global/locale/console.dtd"> %console;
-]>
-
-<window id="JSConsoleWindow"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        title="&errorConsole.title;"
-        windowtype="global:console"
-        width="640" height="480"
-        screenX="10" screenY="10"
-        persist="screenX screenY width height sizemode"
-        onclose="return closeWindow(false);"> 
-
-  <script type="application/javascript" src="chrome://global/content/globalOverlay.js"/>
-  <script type="application/javascript" src="chrome://global/content/console.js"/>
-  <script type="application/javascript" src="chrome://global/content/viewSourceUtils.js"/>
-
-  <stringbundle id="ConsoleBundle" src="chrome://global/locale/console.properties"/>
-
-  <commandset id="editMenuCommands"/>
-
-  <commandset id="consoleCommands">
-    <command id="cmd_close" oncommand="closeWindow(true)"/>
-  </commandset>
-
-  <keyset id="consoleKeys">
-    <key id="key_close" key="&closeCmd.commandkey;" modifiers="accel"
-         command="cmd_close"/>
-    <key id="key_close2" keycode="VK_ESCAPE" command="cmd_close"/>
-    <key id="key_focus1" key="&focus1.commandkey;" modifiers="accel"
-         oncommand="gTextBoxEval.focus()"/>
-    <key id="key_focus2" key="&focus2.commandkey;" modifiers="alt"
-         oncommand="gTextBoxEval.focus()"/>
-  </keyset>
-
-  <popupset id="ContextMenus">
-    <menupopup id="ConsoleContext">
-      <menuitem type="radio" id="Console:sortAscend"
-                label="&sortFirst.label;" accesskey="&sortFirst.accesskey;"
-                oncommand="changeSortOrder('forward');"/>
-      <menuitem type="radio" id="Console:sortDescend"
-                label="&sortLast.label;" accesskey="&sortLast.accesskey;"
-                oncommand="changeSortOrder('reverse');"/>
-      <menuseparator/>
-      <menuitem id="menu_copy_cm" command="cmd_copy"
-                label="&copyCmd.label;" accesskey="&copyCmd.accesskey;"/>
-    </menupopup>
-  </popupset>
-
-  <toolbox id="console-toolbox">
-    <toolbar class="chromeclass-toolbar" id="ToolbarMode">
-      <hbox id="viewGroup">
-        <toolbarbutton type="radio" group="mode" id="Console:modeAll" 
-                       label="&all.label;" accesskey="&all.accesskey;"
-                       oncommand="changeMode('All');"/>
-        <toolbarbutton type="radio" group="mode" id="Console:modeErrors"
-                       label="&errors.label;" accesskey="&errors.accesskey;"
-                       oncommand="changeMode('Errors');"/>
-        <toolbarbutton type="radio" group="mode" id="Console:modeWarnings"
-                       label="&warnings.label;" accesskey="&warnings.accesskey;"
-                       oncommand="changeMode('Warnings');"/>
-        <toolbarbutton type="radio" group="mode" id="Console:modeMessages"
-                     label="&messages.label;" accesskey="&messages.accesskey;"
-                     oncommand="changeMode('Messages');"/>
-      </hbox>
-      <toolbarseparator/>
-      <toolbarbutton id="Console:clear" oncommand="clearConsole();"
-                     label="&clear.label;" accesskey="&clear.accesskey;"/>
-    </toolbar>
-
-    <toolbar class="chromeclass-toolbar" id="ToolbarEval" align="center" nowindowdrag="true">
-      <label value="&codeEval.label;" accesskey="&codeEval.accesskey;" control="TextboxEval"/>
-      <textbox id="TextboxEval" class="toolbar" value="" onkeypress="onEvalKeyPress(event)" flex="1"/>
-      <toolbarbutton id="ButtonEval" label="&evaluate.label;"
-                     accesskey="&evaluate.accesskey;" oncommand="evaluateTypein()"/>
-    </toolbar>
-  </toolbox>
-
-  <vbox id="ConsoleBox" class="console-box" flex="1" context="ConsoleContext" persist="sortOrder"/>
-
-  <iframe name="Evaluator" id="Evaluator" collapsed="true"/>
-
-  <statusbar>
-    <statusbarpanel flex="1" pack="start">
-      <label value="&filter2.label;" control="Filter"/>
-      <textbox accesskey="&filter2.accesskey;" type="search"
-               id="Filter" oncommand="changeFilter();"/>
-    </statusbarpanel>
-  </statusbar>
-</window>
diff --git a/toolkit/components/console/content/consoleBindings.xml b/toolkit/components/console/content/consoleBindings.xml
deleted file mode 100644
--- a/toolkit/components/console/content/consoleBindings.xml
+++ /dev/null
@@ -1,547 +0,0 @@
-<?xml version="1.0"?>
-<!-- This Source Code Form is subject to the terms of the Mozilla Public
-   - License, v. 2.0. If a copy of the MPL was not distributed with this
-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
-
-
-<!DOCTYPE bindings SYSTEM "chrome://global/locale/console.dtd">
-
-<bindings id="consoleBindings"
-          xmlns="http://www.mozilla.org/xbl"
-          xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-          xmlns:xbl="http://www.mozilla.org/xbl">
-
-  <binding id="console-box" extends="xul:box">
-    <content>
-      <xul:stringbundle src="chrome://global/locale/console.properties" role="string-bundle"/>
-      <xul:vbox class="console-box-internal">
-        <xul:vbox class="console-rows" role="console-rows" xbl:inherits="dir=sortOrder"/>
-      </xul:vbox>
-    </content>
-
-    <implementation>
-      <field name="limit" readonly="true">
-        250
-      </field>
-
-      <field name="fieldMaxLength" readonly="true">
-        <!-- Limit displayed string lengths to avoid performance issues. (Bug 796179 and 831020) -->
-        200
-      </field>
-
-      <field name="showChromeErrors" readonly="true">
-        Services.prefs.getBoolPref("javascript.options.showInConsole");
-      </field>
-
-      <property name="count" readonly="true">
-        <getter>return this.mCount</getter>
-      </property>
-
-      <property name="mode">
-        <getter>return this.mMode;</getter>
-        <setter><![CDATA[
-          if (this.mode != val) {
-            this.mMode = val || "All";
-            this.setAttribute("mode", this.mMode);
-            this.selectedItem = null;
-          }
-          return val;
-        ]]></setter>
-      </property>
-
-      <property name="filter">
-        <getter>return this.mFilter;</getter>
-        <setter><![CDATA[
-          val = val.toLowerCase();
-          if (this.mFilter != val) {
-            this.mFilter = val;
-            for (let aRow of this.mConsoleRowBox.children) {
-              this.filterElement(aRow);
-            }
-          }
-          return val;
-        ]]></setter>
-      </property>
-
-      <property name="sortOrder">
-        <getter>return this.getAttribute("sortOrder");</getter>
-        <setter>this.setAttribute("sortOrder", val); return val;</setter>
-      </property>
-      <field name="mSelectedItem">null</field>
-      <property name="selectedItem">
-        <getter>return this.mSelectedItem</getter>
-        <setter><![CDATA[
-          if (this.mSelectedItem)
-            this.mSelectedItem.removeAttribute("selected");
-
-          this.mSelectedItem = val;
-          if (val)
-            val.setAttribute("selected", "true");
-
-          // Update edit commands
-          window.updateCommands("focus");
-          return val;
-        ]]></setter>
-      </property>
-
-      <method name="init">
-        <body><![CDATA[
-          this.mCount = 0;
-
-          this.mConsoleListener = {
-            console: this,
-            observe : function(aObject) {
-              // The message can arrive a little bit after the xbl binding has been
-              // unbind. So node.appendItem will not be available anymore.
-              if ('appendItem' in this.console)
-                this.console.appendItem(aObject);
-            }
-          };
-
-          this.mConsoleRowBox = document.getAnonymousElementByAttribute(this, "role", "console-rows");
-          this.mStrBundle = document.getAnonymousElementByAttribute(this, "role", "string-bundle");
-
-          try {
-            Services.console.registerListener(this.mConsoleListener);
-          } catch (ex) {
-            appendItem(
-              "Unable to display errors - couldn't get Console Service component. " +
-              "(Missing @mozilla.org/consoleservice;1)");
-            return;
-          }
-
-          this.mMode = this.getAttribute("mode") || "All";
-          this.mFilter = "";
-
-          this.appendInitialItems();
-          window.controllers.insertControllerAt(0, this._controller);
-        ]]></body>
-      </method>
-
-      <method name="destroy">
-        <body><![CDATA[
-          Services.console.unregisterListener(this.mConsoleListener);
-          window.controllers.removeController(this._controller);
-        ]]></body>
-      </method>
-
-      <method name="appendInitialItems">
-        <body><![CDATA[
-          var messages = Services.console.getMessageArray();
-
-          // In case getMessageArray returns 0-length array as null
-          if (!messages)
-            messages = [];
-
-          var limit = messages.length - this.limit;
-          if (limit < 0) limit = 0;
-
-          // Checks if console ever been cleared
-          for (var i = messages.length - 1; i >= limit; --i)
-            if (!messages[i].message)
-              break;
-
-          // Populate with messages after latest "clear"
-          while (++i < messages.length)
-            this.appendItem(messages[i]);
-        ]]></body>
-      </method>
-
-      <method name="appendItem">
-        <parameter name="aObject"/>
-        <body><![CDATA[
-          try {
-            // Try to QI it to a script error to get more info
-            var scriptError = aObject.QueryInterface(Components.interfaces.nsIScriptError);
-
-            // filter chrome urls
-            if (!this.showChromeErrors && scriptError.sourceName.substr(0, 9) == "chrome://")
-              return;
-
-            // filter private windows
-            if (scriptError.isFromPrivateWindow)
-              return;
-
-            this.appendError(scriptError);
-          } catch (ex) {
-            try {
-              // Try to QI it to a console message
-              var msg = aObject.QueryInterface(Components.interfaces.nsIConsoleMessage);
-              if (msg.message)
-                this.appendMessage(msg.message);
-              else // observed a null/"clear" message
-                this.clearConsole();
-            } catch (ex2) {
-              // Give up and append the object itself as a string
-              this.appendMessage(aObject);
-            }
-          }
-        ]]></body>
-      </method>
-
-      <method name="_truncateIfNecessary">
-        <parameter name="aString"/>
-        <parameter name="aMiddleCharacter"/>
-        <body><![CDATA[
-          if (!aString || aString.length <= this.fieldMaxLength)
-            return {string: aString, column: aMiddleCharacter};
-          let halfLimit = this.fieldMaxLength / 2;
-          if (!aMiddleCharacter || aMiddleCharacter < 0 || aMiddleCharacter > aString.length)
-            aMiddleCharacter = halfLimit;
-
-          let startPosition = 0;
-          let endPosition = aString.length;
-          if (aMiddleCharacter - halfLimit >= 0)
-            startPosition = aMiddleCharacter - halfLimit;
-          if (aMiddleCharacter + halfLimit <= aString.length)
-            endPosition = aMiddleCharacter + halfLimit;
-          if (endPosition - startPosition < this.fieldMaxLength)
-            endPosition += this.fieldMaxLength - (endPosition - startPosition);
-          let truncatedString = aString.substring(startPosition, endPosition);
-          let Ci = Components.interfaces;
-          let ellipsis = Services.prefs.getComplexValue("intl.ellipsis",
-                                                        Ci.nsIPrefLocalizedString).data;
-          if (startPosition > 0) {
-            truncatedString = ellipsis + truncatedString;
-            aMiddleCharacter += ellipsis.length;
-          }
-          if (endPosition < aString.length)
-            truncatedString = truncatedString + ellipsis;
-
-          return {
-            string: truncatedString,
-            column: aMiddleCharacter - startPosition
-          };
-        ]]></body>
-      </method>
-
-      <method name="appendError">
-        <parameter name="aObject"/>
-        <body><![CDATA[
-          var row = this.createConsoleRow();
-          var nsIScriptError = Components.interfaces.nsIScriptError;
-
-          // nsIConsoleMessage constants: debug, info, warn, error
-          var typetext = ["typeMessage", "typeMessage", "typeWarning", "typeError"][aObject.logLevel];
-          var type = ["message", "message", "warning", "error"][aObject.logLevel];
-
-          row.setAttribute("typetext", this.mStrBundle.getString(typetext));
-          row.setAttribute("type", type);
-          row.setAttribute("msg", aObject.errorMessage);
-          row.setAttribute("category", aObject.category);
-          row.setAttribute("time", this.properFormatTime(aObject.timeStamp));
-          if (aObject.lineNumber || aObject.sourceName) {
-            row.setAttribute("href", this._truncateIfNecessary(aObject.sourceName).string);
-            row.mSourceName = aObject.sourceName;
-            row.setAttribute("line", aObject.lineNumber);
-          } else {
-            row.setAttribute("hideSource", "true");
-          }
-          if (aObject.sourceLine) {
-            let sourceLine = aObject.sourceLine.replace(/\s/g, " ");
-            let truncatedLineObj = this._truncateIfNecessary(sourceLine, aObject.columnNumber);
-            row.setAttribute("code", truncatedLineObj.string);
-            row.mSourceLine = sourceLine;
-            if (aObject.columnNumber) {
-              row.setAttribute("col", aObject.columnNumber);
-              row.setAttribute("errorDots", this.repeatChar(" ", truncatedLineObj.column));
-              row.setAttribute("errorCaret", " ");
-            } else {
-              row.setAttribute("hideCaret", "true");
-            }
-          } else {
-            row.setAttribute("hideCode", "true");
-          }
-
-          this.appendConsoleRow(row);
-        ]]></body>
-      </method>
-
-      <method name="appendMessage">
-        <parameter name="aMessage"/>
-        <parameter name="aType"/>
-        <body><![CDATA[
-          var row = this.createConsoleRow();
-          row.setAttribute("type", aType || "message");
-          row.setAttribute("msg", aMessage);
-          this.appendConsoleRow(row);
-        ]]></body>
-      </method>
-
-      <method name="clear">
-        <body><![CDATA[
-          // add a "clear" message (mainly for other listeners)
-          Services.console.logStringMessage(null);
-          Services.console.reset();
-        ]]></body>
-      </method>
-
-      <method name="properFormatTime">
-        <parameter name="aTime"/>
-        <body><![CDATA[
-          const dateServ = Components.classes["@mozilla.org/intl/scriptabledateformat;1"]
-                                     .getService(Components.interfaces.nsIScriptableDateFormat);
-          let errorTime = new Date(aTime);
-          return dateServ.FormatDateTime("", dateServ.dateFormatShort, dateServ.timeFormatSeconds,
-              errorTime.getFullYear(), errorTime.getMonth() + 1, errorTime.getDate(),
-              errorTime.getHours(), errorTime.getMinutes(), errorTime.getSeconds());
-        ]]></body>
-      </method>
-
-      <method name="copySelectedItem">
-        <body><![CDATA[
-          if (this.mSelectedItem) try {
-            const clipURI = "@mozilla.org/widget/clipboardhelper;1";
-            const clipI = Components.interfaces.nsIClipboardHelper;
-            var clipboard = Components.classes[clipURI].getService(clipI);
-
-            clipboard.copyString(this.mSelectedItem.toString());
-          } catch (ex) {
-            // Unable to copy anything, die quietly
-          }
-        ]]></body>
-      </method>
-
-      <method name="createConsoleRow">
-        <body><![CDATA[
-          var row = document.createElement("box");
-          row.setAttribute("class", "console-row");
-          row._IsConsoleRow = true;
-          row._ConsoleBox = this;
-          return row;
-        ]]></body>
-      </method>
-
-      <method name="appendConsoleRow">
-        <parameter name="aRow"/>
-        <body><![CDATA[
-          this.filterElement(aRow);
-          this.mConsoleRowBox.appendChild(aRow);
-          if (++this.mCount > this.limit) this.deleteFirst();
-        ]]></body>
-      </method>
-
-      <method name="deleteFirst">
-        <body><![CDATA[
-          var node = this.mConsoleRowBox.firstChild;
-          this.mConsoleRowBox.removeChild(node);
-          --this.mCount;
-        ]]></body>
-      </method>
-
-      <method name="clearConsole">
-        <body><![CDATA[
-          if (this.mCount == 0) // already clear
-            return;
-          this.mCount = 0;
-
-          var newRows = this.mConsoleRowBox.cloneNode(false);
-          this.mConsoleRowBox.parentNode.replaceChild(newRows, this.mConsoleRowBox);
-          this.mConsoleRowBox = newRows;
-          this.selectedItem = null;
-        ]]></body>
-      </method>
-
-      <method name="filterElement">
-        <parameter name="aRow" />
-        <body><![CDATA[
-          let anyMatch = ["msg", "line", "code"].some(function (key) {
-            return (aRow.hasAttribute(key) &&
-                    this.stringMatchesFilters(aRow.getAttribute(key), this.mFilter));
-          }, this) || (aRow.mSourceName &&
-                       this.stringMatchesFilters(aRow.mSourceName, this.mFilter));
-
-          if (anyMatch) {
-            aRow.classList.remove("filtered-by-string")
-          } else {
-            aRow.classList.add("filtered-by-string")
-          }
-        ]]></body>
-      </method>
-
-      <!-- UTILITY FUNCTIONS -->
-
-      <method name="repeatChar">
-        <parameter name="aChar"/>
-        <parameter name="aCol"/>
-        <body><![CDATA[
-          if (--aCol <= 0)
-            return "";
-
-          for (var i = 2; i < aCol; i += i)
-            aChar += aChar;
-
-          return aChar + aChar.slice(0, aCol - aChar.length);
-        ]]></body>
-      </method>
-
-      <method name="stringMatchesFilters">
-        <parameter name="aString"/>
-        <parameter name="aFilter"/>
-        <body><![CDATA[
-          if (!aString || !aFilter) {
-            return true;
-          }
-
-          let searchStr = aString.toLowerCase();
-          let filterStrings = aFilter.split(/\s+/);
-          return !filterStrings.some(function (f) {
-            return searchStr.indexOf(f) == -1;
-          });
-        ]]></body>
-      </method>
-
-      <constructor>this.init();</constructor>
-      <destructor>this.destroy();</destructor>
-
-      <!-- Command controller for the copy command -->
-      <field name="_controller"><![CDATA[({
-        _outer: this,
-
-        QueryInterface: function(aIID) {
-          if (aIID.equals(Components.interfaces.nsIController) ||
-              aIID.equals(Components.interfaces.nsISupports))
-            return this;
-          throw Components.results.NS_NOINTERFACE;
-        },
-
-        supportsCommand: function(aCommand) {
-          return aCommand == "cmd_copy";
-        },
-
-        isCommandEnabled: function(aCommand) {
-          return aCommand == "cmd_copy" && this._outer.selectedItem;
-        },
-
-        doCommand: function(aCommand) {
-          if (aCommand == "cmd_copy")
-            this._outer.copySelectedItem();
-        },
-
-        onEvent: function() { }
-      });]]></field>
-    </implementation>
-
-    <handlers>
-      <handler event="mousedown"><![CDATA[
-        if (event.button == 0 || event.button == 2) {
-          var target = event.originalTarget;
-
-          while (target && !("_IsConsoleRow" in target))
-            target = target.parentNode;
-
-          if (target)
-            this.selectedItem = target;
-        }
-      ]]></handler>
-    </handlers>
-  </binding>
-
-  <binding id="error" extends="xul:box">
-    <content>
-      <xul:box class="console-row-internal-box" flex="1">
-        <xul:box class="console-row-icon" align="center" xbl:inherits="selected">
-          <xul:image class="console-icon" xbl:inherits="src,type"/>
-        </xul:box>
-        <xul:vbox class="console-row-content" xbl:inherits="selected" flex="1">
-          <xul:box class="console-row-msg" align="start">
-            <xul:label class="label" xbl:inherits="value=typetext"/>
-            <xul:description class="console-error-msg" xbl:inherits="xbl:text=msg" flex="1"/>
-            <xul:label class="label console-time" xbl:inherits="value=time"/>
-          </xul:box>
-          <xul:box class="console-row-file" xbl:inherits="hidden=hideSource">
-            <xul:label class="label" value="&errFile.label;"/>
-            <xul:box class="console-error-source" xbl:inherits="href,line"/>
-            <xul:spacer flex="1"/>
-            <xul:hbox class="lineNumberRow" xbl:inherits="line">
-              <xul:label class="label" value="&errLine.label;"/>
-              <xul:label class="label" xbl:inherits="value=line"/>
-            </xul:hbox>
-          </xul:box>
-          <xul:vbox class="console-row-code" xbl:inherits="selected,hidden=hideCode">
-            <xul:label class="monospace console-code" xbl:inherits="value=code" crop="end"/>
-            <xul:box xbl:inherits="hidden=hideCaret">
-              <xul:label class="monospace console-dots" xbl:inherits="value=errorDots"/>
-              <xul:label class="monospace console-caret" xbl:inherits="value=errorCaret"/>
-              <xul:spacer flex="1"/>
-            </xul:box>
-          </xul:vbox>
-        </xul:vbox>
-      </xul:box>
-    </content>
-
-    <implementation>
-      <field name="mSourceName">null</field>
-      <field name="mSourceLine">null</field>
-
-      <method name="toString">
-        <body><![CDATA[
-          let msg = "";
-          let strBundle = this._ConsoleBox.mStrBundle;
-
-          if (this.hasAttribute("time"))
-            msg += strBundle.getFormattedString("errTime", [this.getAttribute("time")]) + "\n";
-
-          msg += this.getAttribute("typetext") + " " + this.getAttribute("msg");
-
-          if (this.hasAttribute("line") && this.mSourceName) {
-            msg += "\n" + strBundle.getFormattedString("errFile",
-                                        [this.mSourceName]) + "\n";
-            if (this.hasAttribute("col")) {
-              msg += strBundle.getFormattedString("errLineCol",
-                         [this.getAttribute("line"), this.getAttribute("col")]);
-            } else
-              msg += strBundle.getFormattedString("errLine", [this.getAttribute("line")]);
-          }
-
-          if (this.hasAttribute("code"))
-            msg += "\n" + strBundle.getString("errCode") + "\n" + this.mSourceLine;
-
-          return msg;
-        ]]></body>
-      </method>
-    </implementation>
-
-  </binding>
-
-  <binding id="message" extends="xul:box">
-    <content>
-      <xul:box class="console-internal-box" flex="1">
-        <xul:box class="console-row-icon" align="center">
-          <xul:image class="console-icon" xbl:inherits="src,type"/>
-        </xul:box>
-        <xul:vbox class="console-row-content" xbl:inherits="selected" flex="1">
-          <xul:vbox class="console-row-msg" flex="1">
-            <xul:description class="console-msg-text" xbl:inherits="xbl:text=msg"/>
-          </xul:vbox>
-        </xul:vbox>
-      </xul:box>
-    </content>
-
-    <implementation>
-      <method name="toString">
-        <body><![CDATA[
-          return this.getAttribute("msg");
-        ]]></body>
-      </method>
-    </implementation>
-  </binding>
-
-  <binding id="console-error-source" extends="xul:box">
-    <content>
-      <xul:label class="text-link" xbl:inherits="value=href" crop="right"/>
-    </content>
-
-    <handlers>
-      <handler event="click" phase="capturing" button="0" preventdefault="true">
-        <![CDATA[
-          var url = document.getBindingParent(this).mSourceName;
-          url = url.substring(url.lastIndexOf(" ") + 1);
-          var line = getAttribute("line");
-          gViewSourceUtils.viewSource({URL: url, lineNumber: line});
-        ]]>
-      </handler>
-    </handlers>
-  </binding>
-
-</bindings>
diff --git a/toolkit/components/console/jar.mn b/toolkit/components/console/jar.mn
deleted file mode 100644
--- a/toolkit/components/console/jar.mn
+++ /dev/null
@@ -1,9 +0,0 @@
-# This Source Code Form is subject to the terms of the Mozilla Public
-# License, v. 2.0. If a copy of the MPL was not distributed with this
-# file, You can obtain one at http://mozilla.org/MPL/2.0/.
-
-toolkit.jar:
-   content/global/console.js                            (content/console.js)
-   content/global/console.xul                           (content/console.xul)
-   content/global/console.css                           (content/console.css)
-   content/global/consoleBindings.xml                   (content/consoleBindings.xml)
diff --git a/toolkit/components/console/jsconsole-clhandler.js b/toolkit/components/console/jsconsole-clhandler.js
deleted file mode 100644
--- a/toolkit/components/console/jsconsole-clhandler.js
+++ /dev/null
@@ -1,40 +0,0 @@
-/* -*- indent-tabs-mode: nil; js-indent-level: 4 -*- */
-/* vim:sw=4:sr:sta:et:sts: */
-
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-const Cc = Components.classes;
-const Ci = Components.interfaces;
-Components.utils.import("resource://gre/modules/XPCOMUtils.jsm");
-
-function jsConsoleHandler() {}
-jsConsoleHandler.prototype = {
-  handle: function clh_handle(cmdLine) {
-    if (!cmdLine.handleFlag("jsconsole", false))
-      return;
-
-    var wm = Cc["@mozilla.org/appshell/window-mediator;1"].
-             getService(Ci.nsIWindowMediator);
-    var console = wm.getMostRecentWindow("global:console");
-    if (!console) {
-      var wwatch = Cc["@mozilla.org/embedcomp/window-watcher;1"].
-                   getService(Ci.nsIWindowWatcher);
-      wwatch.openWindow(null, "chrome://global/content/console.xul", "_blank",
-                        "chrome,dialog=no,all", cmdLine);
-    } else {
-      console.focus(); // the Error console was already open
-    }
-
-    if (cmdLine.state == Ci.nsICommandLine.STATE_REMOTE_AUTO)
-      cmdLine.preventDefault = true;
-  },
-
-  helpInfo : "  --jsconsole        Open the Error console.\n",
-
-  classID: Components.ID("{2cd0c310-e127-44d0-88fc-4435c9ab4d4b}"),
-  QueryInterface: XPCOMUtils.generateQI([Ci.nsICommandLineHandler]),
-};
-
-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([jsConsoleHandler]);
diff --git a/toolkit/components/console/jsconsole-clhandler.manifest b/toolkit/components/console/jsconsole-clhandler.manifest
deleted file mode 100644
--- a/toolkit/components/console/jsconsole-clhandler.manifest
+++ /dev/null
@@ -1,3 +0,0 @@
-component {2cd0c310-e127-44d0-88fc-4435c9ab4d4b} jsconsole-clhandler.js
-contract @mozilla.org/toolkit/console-clh;1 {2cd0c310-e127-44d0-88fc-4435c9ab4d4b}
-category command-line-handler t-jsconsole @mozilla.org/toolkit/console-clh;1
diff --git a/toolkit/components/console/moz.build b/toolkit/components/console/moz.build
deleted file mode 100644
--- a/toolkit/components/console/moz.build
+++ /dev/null
@@ -1,17 +0,0 @@
-# -*- Mode: python; c-basic-offset: 4; indent-tabs-mode: nil; tab-width: 40 -*-
-# vim: set filetype=python:
-# This Source Code Form is subject to the terms of the Mozilla Public
-# License, v. 2.0. If a copy of the MPL was not distributed with this
-# file, You can obtain one at http://mozilla.org/MPL/2.0/.
-
-MOCHITEST_CHROME_MANIFESTS += ['tests/chrome.ini']
-
-EXTRA_COMPONENTS += [
-    'jsconsole-clhandler.js',
-    'jsconsole-clhandler.manifest',
-]
-
-JAR_MANIFESTS += ['jar.mn']
-
-with Files('**'):
-    BUG_COMPONENT = ('Toolkit', 'Error Console')
diff --git a/toolkit/components/console/tests/.eslintrc b/toolkit/components/console/tests/.eslintrc
deleted file mode 100644
--- a/toolkit/components/console/tests/.eslintrc
+++ /dev/null
@@ -1,5 +0,0 @@
-{
-  "extends": [
-    "../../../../testing/mochitest/chrome.eslintrc"
-  ]
-}
diff --git a/toolkit/components/console/tests/chrome.ini b/toolkit/components/console/tests/chrome.ini
deleted file mode 100644
--- a/toolkit/components/console/tests/chrome.ini
+++ /dev/null
@@ -1,4 +0,0 @@
-[DEFAULT]
-skip-if = buildapp == 'b2g'
-
-[test_hugeURIs.xul]
diff --git a/toolkit/components/console/tests/test_hugeURIs.xul b/toolkit/components/console/tests/test_hugeURIs.xul
deleted file mode 100644
--- a/toolkit/components/console/tests/test_hugeURIs.xul
+++ /dev/null
@@ -1,64 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet type="text/css" href="chrome://global/skin"?>
-<?xml-stylesheet type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css"?>
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=796179
--->
-<window title="Mozilla Bug 796179"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        onload="RunTest();">
-  <script type="application/javascript" src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"/>
-
-  <!-- Detect severe performance and memory issues when large amounts of errors
-       are reported from CSS embedded in a file with a long data URI. Addressed
-       by 786108 for issues internal to the style system and by 796179 for issues
-       related to the error console. This error console test should finish quickly
-       with those patches and run for a very long time or OOM otherwise. -->
-
-  <!-- test results are displayed in the html:body -->
-  <body xmlns="http://www.w3.org/1999/xhtml">
-    <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=796179"
-      target="_blank">Mozilla Bug 796179</a>
-    <div id="badSVG" style="max-width: 1; max-height: 1; overflow: hidden"></div>
-  </body>
-
-  <!-- display the error console so we can test its reaction to the test -->
-  <iframe id="errorConsoleFrame"  height="400" src="chrome://global/content/console.xul"></iframe>
-
-  <!-- test code -->
-  <script type="application/javascript">
-  <![CDATA[
-    function RunTest()
-    {
-      // Create the bad SVG and add it to the document.
-      var img = new Array;
-      img.push('<img src="data:image/svg+xml,');
-      img.push(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="300px" height="300px">'));
-
-      for (var i = 0 ; i < 10000 ; i++)
-        img.push(encodeURIComponent('<circle cx="0" cy="0" r="1" style="xxx-invalid-property: 0;"/>'));
-
-      img.push(encodeURIComponent('</svg>'));
-      img.push('" />');
-
-      document.getElementById('badSVG').innerHTML = img.join('');
-
-      // We yield control of the thread, allowing the error console to render.
-      // If we get control back without timing out or OOMing then the test passed.
-      SimpleTest.waitForExplicitFinish();
-      SimpleTest.executeSoon(function() {
-                               // Clean up.
-                               var elem = document.getElementById('errorConsoleFrame');
-                               elem.parentNode.removeChild(elem);
-                               elem = document.getElementById('badSVG');
-                               elem.parentNode.removeChild(elem);
-                               elem = null;
-
-                               // Finish the test with a pass.
-                               ok(true, 'Error console rendered OK.');
-                               SimpleTest.finish();
-                             }, 0);
-    }
-  ]]>
-  </script>
-</window>
diff --git a/toolkit/components/moz.build b/toolkit/components/moz.build
--- a/toolkit/components/moz.build
+++ b/toolkit/components/moz.build
@@ -13,17 +13,16 @@ DIRS += [
     'aboutcheckerboard',
     'aboutmemory',
     'aboutperformance',
     'addoncompat',
     'alerts',
     'apppicker',
     'asyncshutdown',
     'commandlines',
-    'console',
     'contentprefs',
     'cookie',
     'crashmonitor',
     'diskspacewatcher',
     'downloads',
     'extensions',
     'exthelper',
     'filepicker',
diff --git a/toolkit/themes/linux/global/console/console-toolbar.png b/toolkit/themes/linux/global/console/console-toolbar.png
deleted file mode 100644
index 05277b65082ad54e62bff29201098e2ec057d221..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/linux/global/console/console.css b/toolkit/themes/linux/global/console/console.css
deleted file mode 100644
--- a/toolkit/themes/linux/global/console/console.css
+++ /dev/null
@@ -1,156 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-/* ===== console.css ====================================================
-   == Styles used by the Error Console window.
-   ====================================================================== */
-
-@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
-
-.console-box {
-  background-color: -moz-Field;
-  color: -moz-FieldText;
-}
-
-/* ::::: console rows ::::: */
-
-.console-row {
-  border-bottom: 1px dotted threedshadow;
-  padding: 4px 0px;
-}
-
-.console-row-icon {
-  padding: 4px;
-  padding-inline-start: 5px;
-  -moz-box-align: start !important;
-}
-
-.console-row-msg > label:first-child,
-.console-row-file > label:first-child {
-  display: none;
-}
-
-.console-time {
-  font-weight: normal !important;
-}
-
-.console-icon {
-  list-style-image: inherit;
-}
-
-.console-error-msg {
-  margin-bottom: 2px;
-}
-
-/* ..... error rows ..... */
-
-.console-row-code {
-  padding-top: 3px;
-  padding-bottom: 3px;
-  padding-inline-start: 3px;
-  padding-inline-end: 0px;
-  color: #0000BB;
-  font-size: larger;
-}
-
-.console-dots,
-.console-caret {
-  height: 9px;
-}
-
-.console-dots {
-  background: url("chrome://global/skin/console/console-error-dash.gif") repeat-x top;
-}
-
-.console-caret {
-  width: 7px;
-  background: url("chrome://global/skin/console/console-error-caret.gif") no-repeat top;
-}
-
-/* ..... message rows ..... */
-
-.console-row[type="message"] {
-  font-family: monospace;
-}
-
-/* ..... selected state ..... */
-
-.console-row[selected="true"] {
-    background-image: url("chrome://global/skin/console/itemSelected.png");
-}
-
-.console-row-code[selected="true"],
-.console-row-content[selected="true"] > .console-row-file > .console-error-source > .text-link {
-  color: inherit !important;
-}
-
-/* ::::: icons ::::: */
-
-.console-row[type="error"],
-.console-row[type="exception"] {
-  list-style-image: url("moz-icon://stock/gtk-dialog-error?size=menu");
-}
-
-.console-row[type="error"] .console-row-msg,
-.console-row[type="exception"] .console-row-msg {
-  font-weight: bold;
-}
-
-.console-row[type="warning"] {
-  list-style-image: url("moz-icon://stock/gtk-dialog-warning?size=menu");
-}
-
-.console-row[type="message"] {
-  list-style-image: url("moz-icon://stock/gtk-dialog-info?size=menu");
-}
-
-/* ::::: toolbars ::::: */
-
-#TextboxEval {
-  margin: 2px !important;
-}
-
-#ButtonEval {
-  margin-top: 2px !important;
-  margin-bottom: 2px !important;
-  margin-inline-start: 0px !important;
-  margin-inline-end: 2px !important;
-}
-
-/* Toolbar icons */
-
-toolbar#ToolbarMode toolbarbutton {
-  -moz-box-orient: horizontal;
-}
-
-#Console\:modeAll {
-  list-style-image: url("chrome://global/skin/console/console-toolbar.png");
-}
-
-#Console\:modeErrors {
-  list-style-image: url("moz-icon://stock/gtk-dialog-error?size=toolbar");
-}
-
-#Console\:modeWarnings {
-  list-style-image: url("moz-icon://stock/gtk-dialog-warning?size=toolbar");
-}
-
-#Console\:modeMessages {
-  list-style-image: url("moz-icon://stock/gtk-dialog-info?size=toolbar");
-}
-
-#Console\:clear {
-  list-style-image: url("moz-icon://stock/gtk-clear?size=toolbar");
-}
-
-toolbar#ToolbarMode .toolbarbutton-text {
-  padding-inline-end: 4px;
-}
-
-/* ::::: Fix Error Console toolbar button text spacing ::::: */
-
-.toolbarbutton-text {
-  padding-inline-start: 0px;
-  padding-inline-end: 5px;
-}
diff --git a/toolkit/themes/linux/global/console/console.png b/toolkit/themes/linux/global/console/console.png
deleted file mode 100644
index c1be13b6dbafa0c78ae7ff85b4c44ce86c3756e0..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/linux/global/jar.mn b/toolkit/themes/linux/global/jar.mn
--- a/toolkit/themes/linux/global/jar.mn
+++ b/toolkit/themes/linux/global/jar.mn
@@ -30,19 +30,16 @@ toolkit.jar:
    skin/classic/global/scrollbox.css
    skin/classic/global/splitter.css
    skin/classic/global/tabbox.css
    skin/classic/global/textbox.css
    skin/classic/global/toolbar.css
    skin/classic/global/toolbarbutton.css
    skin/classic/global/tree.css
    skin/classic/global/alerts/alert.css                        (alerts/alert.css)
-   skin/classic/global/console/console.css                     (console/console.css)
-   skin/classic/global/console/console.png                     (console/console.png)
-   skin/classic/global/console/console-toolbar.png             (console/console-toolbar.png)
    skin/classic/global/dirListing/remote.png                   (dirListing/remote.png)
 
    skin/classic/global/icons/Authentication.png                (icons/Authentication.png)
    skin/classic/global/icons/autocomplete-search.svg           (icons/autocomplete-search.svg)
    skin/classic/global/icons/autoscroll.png                    (icons/autoscroll.png)
    skin/classic/global/icons/blacklist_favicon.png             (icons/blacklist_favicon.png)
    skin/classic/global/icons/blacklist_large.png               (icons/blacklist_large.png)
    skin/classic/global/icons/close.svg                         (icons/close.svg)
diff --git a/toolkit/themes/osx/global/console/console-error-caret.gif b/toolkit/themes/osx/global/console/console-error-caret.gif
deleted file mode 100644
index a8f30f9263f49e8af6ed0d147103c604fcd67840..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/osx/global/console/console-error-dash.gif b/toolkit/themes/osx/global/console/console-error-dash.gif
deleted file mode 100644
index 74679a25e24478b8784b00f920661a0b2b279f24..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/osx/global/console/console.css b/toolkit/themes/osx/global/console/console.css
deleted file mode 100644
--- a/toolkit/themes/osx/global/console/console.css
+++ /dev/null
@@ -1,165 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-/* ===== console.css ====================================================
-  == Styles used by the Error Console window.
-  ======================================================================= */
-
-/* View buttons */
-@import "chrome://global/skin/viewbuttons.css";
-
-%include ../shared.inc
-@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
-
-.console-box {
-  background-color: -moz-Field;
-  color: -moz-FieldText;
-  overflow: auto;
-}
- 
-/* ::::: console rows ::::: */
-
-.console-row {
-  border-bottom: 1px solid #A3A3A3;
-  padding: 4px;
-}
-
-.console-row-file {
-  color: #505050;
-}
-
-.console-row-msg > label:first-child {
-  font-weight: bold;
-}
-
-.console-row-msg > label, .comsole-row-msg > description, .console-error-msg, .console-row-file, .console-row-code {
-  margin: 2px;
-}
-
-.console-row-file > label {
-  margin: 0;
-}
-
-.console-msg-text {
-  white-space: pre-wrap !important;
-}
-.console-icon {
-  list-style-image: inherit;
-  padding-right: 6px;
-  padding-left: 6px;
-}
-
-/* ..... error rows ..... */
-
-.console-row-code {
-  color: #0000BB;
-  font-size: larger;
-}
-
-.console-dots, 
-.console-caret {
-  height: 9px;
-}
-
-.console-dots {
-  background: url("chrome://global/skin/console/console-error-dash.gif") repeat-x top;
-}
-
-.console-caret {
-  width: 7px;
-  background: url("chrome://global/skin/console/console-error-caret.gif") no-repeat top;
-}
-
-/* ..... message rows ..... */
-
-.console-row[type="message"] {
-  font-family: monospace;
-} 
-
-/* ..... selected state ..... */
-
-.console-row[selected="true"] {
-  background-color: #3D80DF !important;
-  color: #FFF;
-}
-
-.console-row-code[selected="true"],
-.console-row-content[selected="true"] > .console-row-file,
-.console-row-content[selected="true"] > .console-row-file > .console-error-source > .text-link {
-  color: #FFF !important;  
-}
-
-/* ::::: row colors ::::: */
-
-.console-row[type="error"],
-.console-row[type="exception"] {
-  background-color: #FFD0DC;
-}
-
-.console-row[type="warning"] {
-  background-color: #F8F3CC;
-}
-
-.console-row[type="message"] {
-  background-color: #D3EDFF;
-}
-
-/* ::::: toolbars ::::: */
-
-#ToolbarEval {
-  -moz-appearance: none;
-  background: @scopeBarBackground@;
-  border-bottom: @scopeBarSeparatorBorder@;
-  padding: 2px;
-}
-
-#ToolbarEval > label {
-  font-weight: bold;
-  color: @scopeBarTitleColor@;
-}
-
-#TextfieldEval {
-  margin: 2px !important;
-}
-
-#ButtonEval {
-  margin: 0 4px;
-  padding: 1px 10px;
-  -moz-appearance: none;
-  border-radius: 10000px;
-  border: @roundButtonBorder@;
-  background: @roundButtonBackground@;
-  box-shadow: @roundButtonShadow@;
-}
-
-#ButtonEval:hover:active {
-  text-shadow: @loweredShadow@;
-  background: @roundButtonPressedBackground@;
-  box-shadow: @roundButtonPressedShadow@;
-}
-
-toolbarseparator {
-  min-height: 1em;
-  background-image: none;
-}
-
-/* Toolbar icons */
-
-#ToolbarMode {
-  -moz-box-pack: center;
-}
-
-#ToolbarMode toolbarbutton > .toolbarbutton-icon {
-  display: none;
-}
-
-#Console\:clear {
-  -moz-box-orient: vertical;
-  -moz-box-align: center;
-  -moz-appearance: toolbarbutton;
-  font: menu;
-  text-shadow: @loweredShadow@;
-  margin: 4px 0 9px;
-  padding: 0 1px;
-}
diff --git a/toolkit/themes/osx/global/jar.mn b/toolkit/themes/osx/global/jar.mn
--- a/toolkit/themes/osx/global/jar.mn
+++ b/toolkit/themes/osx/global/jar.mn
@@ -69,19 +69,16 @@ toolkit.jar:
   skin/classic/global/arrow/arrow-up-sharp.gif                       (arrow/arrow-up-sharp.gif)
   skin/classic/global/arrow/arrow-up.gif                             (arrow/arrow-up.gif)
   skin/classic/global/arrow/panelarrow-horizontal.png                (arrow/panelarrow-horizontal.png)
   skin/classic/global/arrow/panelarrow-horizontal@2x.png             (arrow/panelarrow-horizontal@2x.png)
   skin/classic/global/arrow/panelarrow-vertical.png                  (arrow/panelarrow-vertical.png)
   skin/classic/global/arrow/panelarrow-vertical@2x.png               (arrow/panelarrow-vertical@2x.png)
   skin/classic/global/checkbox/cbox-check.gif                        (checkbox/cbox-check.gif)
   skin/classic/global/checkbox/cbox-check-dis.gif                    (checkbox/cbox-check-dis.gif)
-  skin/classic/global/console/console-error-caret.gif                (console/console-error-caret.gif)
-  skin/classic/global/console/console-error-dash.gif                 (console/console-error-dash.gif)
-* skin/classic/global/console/console.css                            (console/console.css)
   skin/classic/global/dirListing/dirListing.css                      (dirListing/dirListing.css)
   skin/classic/global/dirListing/folder.png                          (dirListing/folder.png)
   skin/classic/global/dirListing/remote.png                          (dirListing/remote.png)
   skin/classic/global/dirListing/up.png                              (dirListing/up.png)
   skin/classic/global/icons/autocomplete-dropmarker.png              (icons/autocomplete-dropmarker.png)
   skin/classic/global/icons/autocomplete-search.svg                  (icons/autocomplete-search.svg)
   skin/classic/global/icons/autoscroll.png                           (icons/autoscroll.png)
   skin/classic/global/icons/blacklist_favicon.png                    (icons/blacklist_favicon.png)
diff --git a/toolkit/themes/shared/non-mac.jar.inc.mn b/toolkit/themes/shared/non-mac.jar.inc.mn
--- a/toolkit/themes/shared/non-mac.jar.inc.mn
+++ b/toolkit/themes/shared/non-mac.jar.inc.mn
@@ -48,19 +48,16 @@
   skin/classic/global/arrow/arrow-up-sharp.gif             (../../windows/global/arrow/arrow-up-sharp.gif)
   skin/classic/global/arrow/panelarrow-horizontal.svg      (../../windows/global/arrow/panelarrow-horizontal.svg)
   skin/classic/global/arrow/panelarrow-vertical.svg        (../../windows/global/arrow/panelarrow-vertical.svg)
   skin/classic/global/arrow/panelarrow-horizontal-themed.svg (../../windows/global/arrow/panelarrow-horizontal-themed.svg)
   skin/classic/global/arrow/panelarrow-vertical-themed.svg   (../../windows/global/arrow/panelarrow-vertical-themed.svg)
 
   skin/classic/global/checkbox/cbox-check.gif              (../../windows/global/checkbox/cbox-check.gif)
   skin/classic/global/checkbox/cbox-check-dis.gif          (../../windows/global/checkbox/cbox-check-dis.gif)
-  skin/classic/global/console/console-error-caret.gif      (../../windows/global/console/console-error-caret.gif)
-  skin/classic/global/console/console-error-dash.gif       (../../windows/global/console/console-error-dash.gif)
-  skin/classic/global/console/itemSelected.png             (../../windows/global/console/itemSelected.png)
 * skin/classic/global/dirListing/dirListing.css            (../../windows/global/dirListing/dirListing.css)
   skin/classic/global/dirListing/folder.png                (../../windows/global/dirListing/folder.png)
   skin/classic/global/dirListing/local.png                 (../../windows/global/dirListing/local.png)
   skin/classic/global/dirListing/up.png                    (../../windows/global/dirListing/up.png)
   skin/classic/global/icons/Close.gif                      (../../windows/global/icons/Close.gif)
   skin/classic/global/icons/close.png                      (../../windows/global/icons/close.png)
   skin/classic/global/icons/close@2x.png                   (../../windows/global/icons/close@2x.png)
   skin/classic/global/icons/close-inverted.png             (../../windows/global/icons/close-inverted.png)
diff --git a/toolkit/themes/windows/global/console/console-error-caret.gif b/toolkit/themes/windows/global/console/console-error-caret.gif
deleted file mode 100644
index a8f30f9263f49e8af6ed0d147103c604fcd67840..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/windows/global/console/console-error-dash.gif b/toolkit/themes/windows/global/console/console-error-dash.gif
deleted file mode 100644
index 74679a25e24478b8784b00f920661a0b2b279f24..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/windows/global/console/console-toolbar-XP.png b/toolkit/themes/windows/global/console/console-toolbar-XP.png
deleted file mode 100644
index 42a95143ff62ff4733e38a3d2babae60011c490d..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/windows/global/console/console-toolbar.png b/toolkit/themes/windows/global/console/console-toolbar.png
deleted file mode 100644
index fc681f926815cf4be7bd0aa324bb846948994165..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/windows/global/console/console.css b/toolkit/themes/windows/global/console/console.css
deleted file mode 100644
--- a/toolkit/themes/windows/global/console/console.css
+++ /dev/null
@@ -1,220 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-/* ===== console.css ====================================================
-   == Styles used by the Error Console window.
-   ====================================================================== */
-
-@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
-
-.console-box {
-  background-color: -moz-Field;
-  color: -moz-FieldText;
-}
-
-/* ::::: console rows ::::: */
-
-.console-row {
-  border-bottom: 1px solid ThreeDLightShadow;
-  padding: 4px 0px;
-}
-
-.console-row-icon {
-  padding: 4px;
-  padding-inline-start: 5px;
-  -moz-box-align: start !important;
-}
-
-.console-row-msg > label:first-child,
-.console-row-file > label:first-child {
-  display: none;
-}
-
-.console-time {
-  font-weight: normal !important;
-}
-
-.console-icon {
-  list-style-image: inherit;
-}
-
-.console-error-msg {
-  margin-bottom: 2px;
-}
-
-/* ..... error rows ..... */
-
-.console-row-code {
-  padding-top: 3px;
-  padding-bottom: 3px;
-  padding-inline-start: 3px;
-  padding-inline-end: 0px;
-  color: #0000BB;
-  font-size: larger;
-}
-
-.console-dots,
-.console-caret {
-  height: 9px;
-}
-
-.console-dots {
-  background: url("chrome://global/skin/console/console-error-dash.gif") repeat-x top;
-}
-
-.console-caret {
-  width: 7px;
-  background: url("chrome://global/skin/console/console-error-caret.gif") no-repeat top;
-}
-
-/* ..... message rows ..... */
-
-.console-row[type="message"] {
-  font-family: monospace;
-}
-
-/* ..... selected state ..... */
-
-.console-row[selected="true"] {
-    background-image: url("chrome://global/skin/console/itemSelected.png");
-}
-
-.console-row-code[selected="true"],
-.console-row-content[selected="true"] > .console-row-file > .console-error-source > .text-link {
-  color: inherit !important;
-}
-
-/* ::::: icons ::::: */
-
-.console-row[type="error"],
-.console-row[type="exception"] {
-  list-style-image: url("chrome://global/skin/icons/error-16.png");
-}
-
-.console-row[type="error"] .console-row-msg,
-.console-row[type="exception"] .console-row-msg {
-  font-weight: bold;
-}
-
-.console-row[type="warning"] {
-  list-style-image: url("chrome://global/skin/icons/warning-16.png");
-}
-
-.console-row[type="message"] {
-  list-style-image: url("chrome://global/skin/icons/information-16.png");
-}
-
-/* ::::: toolbars ::::: */
-
-#TextboxEval {
-  margin: 2px !important;
-}
-
-#ButtonEval {
-  margin-top: 2px !important;
-  margin-bottom: 2px !important;
-  margin-inline-start: 0px !important;
-  margin-inline-end: 2px !important;
-}
-
-toolbarseparator {
-  min-height: 1em;
-}
-
-/* Toolbar icons */
-
-#ToolbarMode toolbarbutton {
-  min-width: 57px;
-  padding: 4px !important;
-}
-
-toolbar#ToolbarMode toolbarbutton:active,
-toolbar#ToolbarMode toolbarbutton[checked="true"] {
-  padding-inline-start: 5px !important;
-  padding-inline-end: 3px !important;
-}
-
-
-toolbar#ToolbarMode toolbarbutton {
-  list-style-image: url("chrome://global/skin/console/console-toolbar.png");
-  -moz-box-orient: horizontal;
-  padding: 4px !important;
-}
-
-#Console\:modeAll {
-  -moz-image-region: rect(0px 24px 24px 0px);
-}
-
-#Console\:modeAll {
-  -moz-image-region: rect(0px 24px 24px 0px);
-}
-
-#Console\:modeAll:hover,
-#Console\:modeAll[checked="true"] {
-  -moz-image-region: rect(24px 24px 48px 0px);
-}
-
-#Console\:modeErrors {
-  -moz-image-region: rect(0px 96px 24px 72px);
-}
-
-#Console\:modeErrors:hover,
-#Console\:modeErrors[checked="true"] {
-  -moz-image-region: rect(24px 96px 48px 72px);
-}
-
-#Console\:modeWarnings {
-  -moz-image-region: rect(0px 72px 24px 48px);
-}
-
-#Console\:modeWarnings:hover,
-#Console\:modeWarnings[checked="true"] {
-  -moz-image-region: rect(24px 72px 48px 48px);
-}
-
-#Console\:modeMessages {
-  -moz-image-region: rect(0px 48px 24px 24px);
-}
-
-#Console\:modeMessages:hover,
-#Console\:modeMessages[checked="true"] {
-  -moz-image-region: rect(24px 48px 48px 24px);
-}
-
-#Console\:clear {
-  -moz-image-region: rect(0px 120px 24px 96px);
-}
-
-#Console\:clear:hover,
-#Console\:clear[checked="true"] {
-  -moz-image-region: rect(24px 120px 48px 96px);
-}
-
-toolbar#ToolbarMode .toolbarbutton-icon {
-  padding: 2px 0 !important;
-}
-
-toolbar#ToolbarMode .toolbarbutton-text {
-  padding-inline-end: 4px;
-}
-
-
-/* ::::: Fix Error Console toolbar button text spacing ::::: */
-
-.toolbarbutton-text {
-  padding-inline-start: 0px;
-  padding-inline-end: 5px;
-}
-
-%ifdef XP_WIN
-@media not all and (-moz-os-version: windows-xp) {
-  #ToolbarMode {
-    -moz-appearance: -moz-win-browsertabbar-toolbox;
-  }
-
-  #ToolbarEval {
-    -moz-appearance: toolbox;
-  }
-}
-%endif
diff --git a/toolkit/themes/windows/global/console/itemSelected.png b/toolkit/themes/windows/global/console/itemSelected.png
deleted file mode 100644
index 964cd6acc684520cd4a15241226ee50f5d11badb..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
GIT binary patch
literal 0
Hc$@<O00001

diff --git a/toolkit/themes/windows/global/jar.mn b/toolkit/themes/windows/global/jar.mn
--- a/toolkit/themes/windows/global/jar.mn
+++ b/toolkit/themes/windows/global/jar.mn
@@ -32,35 +32,32 @@ toolkit.jar:
   skin/classic/global/printPageSetup.css
   skin/classic/global/printPreview.css
   skin/classic/global/scrollbox.css
   skin/classic/global/splitter.css
   skin/classic/global/toolbar.css
   skin/classic/global/toolbarbutton.css
 * skin/classic/global/tree.css
   skin/classic/global/alerts/alert.css                     (alerts/alert.css)
-* skin/classic/global/console/console.css                  (console/console.css)
-  skin/classic/global/console/console-toolbar.png          (console/console-toolbar.png)
   skin/classic/global/dirListing/remote.png                (dirListing/remote.png)
   skin/classic/global/icons/autocomplete-search.svg        (icons/autocomplete-search.svg)
   skin/classic/global/icons/blacklist_favicon.png          (icons/blacklist_favicon.png)
   skin/classic/global/icons/blacklist_large.png            (icons/blacklist_large.png)
   skin/classic/global/icons/close-XPVista7.png             (icons/close-XPVista7.png)
   skin/classic/global/icons/close-XPVista7@2x.png          (icons/close-XPVista7@2x.png)
   skin/classic/global/icons/close-inverted-XPVista7.png    (icons/close-inverted-XPVista7.png)
   skin/classic/global/icons/close-inverted-XPVista7@2x.png (icons/close-inverted-XPVista7@2x.png)
   skin/classic/global/icons/loading.png                    (icons/loading.png)
   skin/classic/global/icons/loading@2x.png                 (icons/loading@2x.png)
   skin/classic/global/icons/resizer.png                    (icons/resizer.png)
   skin/classic/global/icons/sslWarning.png                 (icons/sslWarning.png)
 * skin/classic/global/in-content/common.css                (in-content/common.css)
 * skin/classic/global/in-content/info-pages.css            (in-content/info-pages.css)
   skin/classic/global/toolbar/spring.png                   (toolbar/spring.png)
 
-  skin/classic/global/console/console-toolbar-XP.png             (console/console-toolbar-XP.png)
   skin/classic/global/dirListing/folder-XP.png                   (dirListing/folder-XP.png)
   skin/classic/global/dirListing/local-XP.png                    (dirListing/local-XP.png)
   skin/classic/global/dirListing/remote-XP.png                   (dirListing/remote-XP.png)
   skin/classic/global/dirListing/up-XP.png                       (dirListing/up-XP.png)
   skin/classic/global/icons/autoscroll.png                       (icons/autoscroll.png)
   skin/classic/global/icons/autoscroll-XP.png                    (icons/autoscroll-XP.png)
   skin/classic/global/icons/blacklist_favicon-XP.png             (icons/blacklist_favicon-XP.png)
   skin/classic/global/icons/blacklist_large-XP.png               (icons/blacklist_large-XP.png)
@@ -96,17 +93,16 @@ toolkit.jar:
   skin/classic/global/tree/twisty-XP.svg                         (tree/twisty-XP.svg)
   skin/classic/global/tree/twisty-Vista78.svg                    (tree/twisty-Vista78.svg)
 
 #if MOZ_BUILD_APP == browser
 [browser/extensions/{972ce4c6-7e08-4474-a285-3208198ce6fd}] chrome.jar:
 #elif MOZ_SEPARATE_MANIFEST_FOR_THEME_OVERRIDES
 [extensions/{972ce4c6-7e08-4474-a285-3208198ce6fd}] chrome.jar:
 #endif
-% override chrome://global/skin/console/console-toolbar.png       chrome://global/skin/console/console-toolbar-XP.png      osversion<6
 % override chrome://global/skin/dirListing/folder.png             chrome://global/skin/dirListing/folder-XP.png            osversion<6
 % override chrome://global/skin/dirListing/local.png              chrome://global/skin/dirListing/local-XP.png             osversion<6
 % override chrome://global/skin/dirListing/remote.png             chrome://global/skin/dirListing/remote-XP.png            osversion<6
 % override chrome://global/skin/dirListing/up.png                 chrome://global/skin/dirListing/up-XP.png                osversion<6
 % override chrome://global/skin/icons/autoscroll.png              chrome://global/skin/icons/autoscroll-XP.png             osversion<6
 % override chrome://global/skin/icons/blacklist_favicon.png       chrome://global/skin/icons/blacklist_favicon-XP.png      osversion<6
 % override chrome://global/skin/icons/blacklist_large.png         chrome://global/skin/icons/blacklist_large-XP.png        osversion<6
 % override chrome://global/skin/icons/Error.png                   chrome://global/skin/icons/Error-XP.png                  osversion<6
