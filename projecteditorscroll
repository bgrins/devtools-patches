# HG changeset patch
# Parent 6e54974c922c39d8b44d88bc31b821c6c891df27
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 1027537 - Project Editor: can't scroll the file list;r=paul

diff --git a/browser/devtools/projecteditor/chrome/content/projecteditor.xul b/browser/devtools/projecteditor/chrome/content/projecteditor.xul
--- a/browser/devtools/projecteditor/chrome/content/projecteditor.xul
+++ b/browser/devtools/projecteditor/chrome/content/projecteditor.xul
@@ -59,18 +59,18 @@
   <popupset>
     <menupopup id="directory-menu-popup">
     </menupopup>
   </popupset>
 
   <deck id="main-deck" flex="1">
     <vbox flex="1" id="source-deckitem">
       <hbox id="sources-body" flex="1">
-        <vbox width="250">
-          <vbox id="sources" flex="1">
+        <vbox width="250" id="sources">
+          <vbox flex="1">
           </vbox>
           <toolbar id="project-toolbar" class="devtools-toolbar" hidden="true"></toolbar>
         </vbox>
         <splitter id="source-editor-splitter" class="devtools-side-splitter"/>
         <vbox id="shells" flex="4">
           <toolbar id="projecteditor-toolbar" class="devtools-toolbar">
             <hbox id="plugin-toolbar-left"/>
             <spacer flex="1"/>
diff --git a/browser/devtools/projecteditor/lib/projecteditor.js b/browser/devtools/projecteditor/lib/projecteditor.js
--- a/browser/devtools/projecteditor/lib/projecteditor.js
+++ b/browser/devtools/projecteditor/lib/projecteditor.js
@@ -166,17 +166,17 @@ var ProjectEditor = Class({
   _buildSidebar: function() {
     this.projectTree = new ProjectTreeView(this.document, {
       resourceVisible: this.resourceVisible.bind(this),
       resourceFormatter: this.resourceFormatter.bind(this)
     });
     on(this, this.projectTree, "selection", this._onTreeSelected);
     on(this, this.projectTree, "resource-removed", this._onTreeResourceRemoved);
 
-    let sourcesBox = this.document.querySelector("#sources");
+    let sourcesBox = this.document.querySelector("#sources > vbox");
     sourcesBox.appendChild(this.projectTree.elt);
   },
 
   /**
    * Set up listeners for commands to dispatch to all of the plugins
    */
   _initCommands: function() {
     this.commands = this.document.querySelector("#projecteditor-commandset");
diff --git a/browser/themes/shared/devtools/projecteditor/projecteditor.css b/browser/themes/shared/devtools/projecteditor/projecteditor.css
--- a/browser/themes/shared/devtools/projecteditor/projecteditor.css
+++ b/browser/themes/shared/devtools/projecteditor/projecteditor.css
@@ -34,16 +34,20 @@
 #projecteditor-toolbar,
 #projecteditor-toolbar-bottom {
   display: none; /* For now don't show the status bars */
   min-height: 22px;
   height: 22px;
   background: rgb(237, 237, 237);
 }
 
+#sources {
+  overflow: auto;
+}
+
 .sources-tree {
   overflow:auto;
   overflow-x: hidden;
   -moz-user-focus: normal;
 
   /* Allows this to expand inside of parent xul element, while
      still supporting child flexbox elements, including ellipses. */
   -moz-box-flex: 1;
