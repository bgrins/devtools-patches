# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1568375558 25200
#      Fri Sep 13 04:52:38 2019 -0700
# Node ID daa6a36abc8e419cfc50f1cf3af9eabebd18af40
# Parent  233036e9cfbeb5607e0cb11f8acac21da07ea19a
Bug 1580978 - Rename browser-urlbar-identity-button to urlbar-identity-button

Differential Revision: https://phabricator.services.mozilla.com/D45831

diff --git a/browser/base/content/browser.xhtml b/browser/base/content/browser.xhtml
--- a/browser/base/content/browser.xhtml
+++ b/browser/base/content/browser.xhtml
@@ -881,17 +881,17 @@
                   </box>
                 </box>
                 <tooltip id="tracking-protection-icon-tooltip">
                   <description id="tracking-protection-icon-tooltip-label" class="tooltip-label"/>
                 </tooltip>
               </box>
               <box id="identity-box" role="button"
                    align="center"
-                   data-l10n-id="browser-urlbar-identity-button"
+                   data-l10n-id="urlbar-identity-button"
                    pageproxystate="invalid"
                    onclick="gIdentityHandler.handleIdentityButtonEvent(event);"
                    onkeypress="gIdentityHandler.handleIdentityButtonEvent(event);"
                    ondragstart="gIdentityHandler.onDragStart(event);">
                 <image id="identity-icon"
                        consumeanchor="identity-box"
                        onclick="PageProxyClickHandler(event);"/>
                 <image id="permissions-granted-icon"
diff --git a/browser/locales/en-US/browser/browser.ftl b/browser/locales/en-US/browser/browser.ftl
--- a/browser/locales/en-US/browser/browser.ftl
+++ b/browser/locales/en-US/browser/browser.ftl
@@ -1,13 +1,13 @@
 # This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
-browser-urlbar-identity-button =
+urlbar-identity-button =
     .aria-label = View site information
 
 ### Tooltips for images appearing in the address bar
 urlbar-services-notification-anchor =
     .tooltiptext = Open install message panel
 urlbar-web-notification-anchor =
     .tooltiptext = Change whether you can receive notifications from the site
 urlbar-midi-notification-anchor =
diff --git a/python/l10n/fluent_migrations/bug_1579540_migrate-the-notification-popup-box-to-ftl.py b/python/l10n/fluent_migrations/bug_1579540_migrate-the-notification-popup-box-to-ftl.py
--- a/python/l10n/fluent_migrations/bug_1579540_migrate-the-notification-popup-box-to-ftl.py
+++ b/python/l10n/fluent_migrations/bug_1579540_migrate-the-notification-popup-box-to-ftl.py
@@ -53,8 +53,19 @@ urlbar-autoplay-notification-anchor =
     .tooltiptext = { COPY("browser/chrome/browser/browser.dtd", "urlbar.autoplayNotificationAnchor.tooltip") }
 urlbar-persistent-storage-notification-anchor =
     .tooltiptext = { COPY("browser/chrome/browser/browser.dtd", "urlbar.persistentStorageNotificationAnchor.tooltip") }
 urlbar-addons-notification-anchor =
     .tooltiptext = { COPY("browser/chrome/browser/browser.dtd", "urlbar.addonsNotificationAnchor.tooltip") }
 """
         )
     )
+
+    ctx.add_transforms(
+        'browser/browser/browser.ftl',
+        'browser/browser/browser.ftl',
+        transforms_from(
+            """
+urlbar-identity-button =
+    .aria-label = {COPY_PATTERN(from_path, "browser-urlbar-identity-button.aria-label")}
+""",
+            from_path='browser/browser/browser.ftl'),
+    )
