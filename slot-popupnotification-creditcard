# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  7fc5f67e9522ca6279e4f280410a788941498245

diff --git a/browser/extensions/formautofill/FormAutofillDoorhanger.jsm b/browser/extensions/formautofill/FormAutofillDoorhanger.jsm
--- a/browser/extensions/formautofill/FormAutofillDoorhanger.jsm
+++ b/browser/extensions/formautofill/FormAutofillDoorhanger.jsm
@@ -383,17 +383,17 @@ let FormAutofillDoorhanger = {
         const notificationElementId = notificationId + "-notification";
         const notification = chromeDoc.getElementById(notificationElementId);
         const notificationContent = notification.querySelector("popupnotificationcontent") ||
                                     chromeDoc.createXULElement("popupnotificationcontent");
         if (!notification.contains(notificationContent)) {
           notificationContent.setAttribute("orient", "vertical");
           this._appendDescription(notificationContent, descriptionLabel, descriptionIcon);
           this._appendPrivacyPanelLink(notificationContent, linkMessage, spotlightURL);
-          notification.append(notificationContent);
+          notification.setContent(notificationContent);
         }
         this._updateDescription(notificationContent, description);
       };
       this._setAnchor(browser, anchor);
       chromeWin.PopupNotifications.show(
         browser,
         notificationId,
         message,
diff --git a/toolkit/content/widgets/popupnotification.js b/toolkit/content/widgets/popupnotification.js
--- a/toolkit/content/widgets/popupnotification.js
+++ b/toolkit/content/widgets/popupnotification.js
@@ -145,28 +145,39 @@ class MozPopupNotification extends MozXU
         </button>
         <button anonid="button" class="popup-notification-button popup-notification-primary-button" label="&defaultButton.label;" accesskey="&defaultButton.accesskey;" inherits="oncommand=buttoncommand,label=buttonlabel,accesskey=buttonaccesskey,default=buttonhighlight,disabled=mainactiondisabled"></button>
       </hbox>
     `, ["chrome://global/locale/notification.dtd"]));
 
     if (popupnotificationheader) {
       this.querySelector("children[includes='popupnotificationheader']").replaceWith(popupnotificationheader);
     }
+
     if (popupnotificationcontent) {
-      this.querySelector("children[includes='popupnotificationcontent']").replaceWith(popupnotificationcontent);
+      this.setContent(popupnotificationcontent);
     }
+
     if (popupnotificationfooter) {
       this.querySelector("children[includes='popupnotificationfooter']").replaceWith(popupnotificationfooter);
     }
     if (button) {
       this.querySelector("children[includes='button']").replaceWith(button);
     }
     if (menuitems) {
       this.querySelector("children[includes='menuitem']").replaceWith(...menuitems);
     }
 
     this.inheritAttributes();
   }
+
+  setContent(content) {
+    let slot = this.querySelector("children[includes='popupnotificationcontent']");
+    if (slot) {
+      slot.replaceWith(content);
+    } else {
+      this.append(content);
+    }
+  }
 }
 
 customElements.define("popupnotification", MozPopupNotification);
 
 }
