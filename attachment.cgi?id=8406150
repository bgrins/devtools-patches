# HG changeset patch
# Parent 29d6e2485384cceedd4715ed39d5308fd74dd176
# User Michael Ratcliffe <mratcliffe@mozilla.com>
# Date 1397484624 -3600

Bug 995972 - Make mochitest-devtools mach command work with single folders or files r=jmaher


diff --git a/python/mozbuild/mozbuild/testing.py b/python/mozbuild/mozbuild/testing.py
--- a/python/mozbuild/mozbuild/testing.py
+++ b/python/mozbuild/mozbuild/testing.py
@@ -85,17 +85,19 @@ class TestMetadata(object):
         test's installed dir.
 
         If ``flavor`` is a string, it will be used to filter returned tests
         to only be the flavor specified. A flavor is something like
         ``xpcshell``.
         """
         def fltr(tests):
             for test in tests:
-                if flavor and test.get('flavor') != flavor:
+                if flavor and \
+                   (flavor == 'devtools' and test.get('flavor') != 'browser-chrome') or \
+                   (flavor != 'devtools' and test.get('flavor') != flavor):
                     continue
 
                 if under_path \
                     and not test['file_relpath'].startswith(under_path):
                     continue
 
                 # Make a copy so modifications don't change the source.
                 yield dict(test)
