# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1555513434 25200
#      Wed Apr 17 08:03:54 2019 -0700
# Node ID f8f0b50bc220c116bfc904e20caf49bbb937fc93
# Parent  bbca68b2af262ffbbf2e3a2d2e77a16c999f479a
Add a new try preset for talos when making changes to the browser chrome

This skips a number of talos jobs that are unlikely to be affected
by due a browser-chrome specific change

Run with: `./mach try fuzzy --preset perf-chrome`

Differential Revision: https://phabricator.services.mozilla.com/D27911

diff --git a/tools/tryselect/try_presets.yml b/tools/tryselect/try_presets.yml
--- a/tools/tryselect/try_presets.yml
+++ b/tools/tryselect/try_presets.yml
@@ -28,16 +28,26 @@ perf:
         This preset can be filtered down further (e.g to limit it to a specific
         platform) via |mach try --preset perf -xq "'windows"|.
 
         Android hardware platforms are excluded due to resource limitations.
     query:
         - "^test- !android-hw 'raptor | 'talos"
     rebuild: 5
 
+perf-chrome:
+    description: >-
+        Runs the talos tests most likely to change when making a change to
+        the browser chrome. This skips a number of talos jobs that are unlikely
+        to be affected in order to conserve resources.
+    query:
+        - "opt-talos- 'chrome | 'svg | 'session | 'tabswitch"
+    rebuild: 6
+    selector: fuzzy
+
 sample-suites:
     selector: fuzzy
     description: >-
         Runs one chunk of every test suite plus all suites that aren't chunked.
         It is useful for testing infrastructure changes that can affect the
         harnesses themselves but are unlikely to break specific tests.
     query:
         - ^test- -1$
