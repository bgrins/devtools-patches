# HG changeset patch
# Parent 419509456af4c0fe07999dbe9cbcf5fd7e75bc8b
# User Brian Grinstead <bgrinstead@mozilla.com>
sadfds

diff --git a/browser/base/content/browser-devedition.js b/browser/base/content/browser-devedition.js
--- a/browser/base/content/browser-devedition.js
+++ b/browser/base/content/browser-devedition.js
@@ -11,16 +11,19 @@ let DevEdition = {
   _themePrefName: "general.skins.selectedSkin",
   _lwThemePrefName: "lightweightThemes.isThemeSelected",
   _devtoolsThemePrefName: "devtools.theme",
 
   styleSheetLocation: "chrome://browser/skin/devedition.css",
   styleSheet: null,
 
   init: function () {
+    let usedThemes = Services.prefs.getCharPref("lightweightThemes.usedThemes");
+    console.log("USED THEMES", usedThemes);
+
     this._updateDevtoolsThemeAttribute();
     this._updateStyleSheetFromPrefs();
 
     // Listen for changes to all prefs except for complete themes.
     // No need for this since changing a complete theme requires a
     // restart.
     Services.prefs.addObserver(this._lwThemePrefName, this, false);
     Services.prefs.addObserver(this._prefName, this, false);
diff --git a/toolkit/mozapps/extensions/LightweightThemeManager.jsm b/toolkit/mozapps/extensions/LightweightThemeManager.jsm
--- a/toolkit/mozapps/extensions/LightweightThemeManager.jsm
+++ b/toolkit/mozapps/extensions/LightweightThemeManager.jsm
@@ -68,22 +68,23 @@ this.__defineSetter__("_maxUsedThemes", 
 // permissions and pendingOperations
 var _themeIDBeingEnabled = null;
 var _themeIDBeingDisabled = null;
 
 this.LightweightThemeManager = {
   get name() "LightweightThemeManager",
 
   get usedThemes () {
+    let allThemes = [];
     try {
-      return JSON.parse(_prefs.getComplexValue("usedThemes",
+      allThemes = JSON.parse(_prefs.getComplexValue("usedThemes",
                                                Ci.nsISupportsString).data);
-    } catch (e) {
-      return [];
-    }
+    } catch (e) {}
+    allThemes.push({"id":"64049","name":"Just black","headerURL":"https://addons.cdn.mozilla.net/user-media/addons/64049/Unbenannt.png?1264391161","footerURL":"https://addons.cdn.mozilla.net/user-media/addons/64049/Unbenannt2.png?1264391161","textcolor":"#ffffff","accentcolor":"#cfcfcf","iconURL":"https://addons.cdn.mozilla.net/user-media/addons/64049/preview_small.jpg?1264391161","previewURL":"https://addons.cdn.mozilla.net/user-media/addons/64049/preview.jpg?1264391161","author":"rallxy","description":"Just a solid black background with white letters, thatÂ´s how a browser have to look like!","updateURL":"https://versioncheck.addons.mozilla.org/en-US/themes/update-check/64049","version":"1.0"});
+    return allThemes;
   },
 
   get currentTheme () {
     try {
       if (_prefs.getBoolPref("isThemeSelected"))
         var data = this.usedThemes[0];
     } catch (e) {}
 
