# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  61cedf91d3429554dea4d281c1c86d2ae247e547
Bug 1425330 - Part 2 - Taskcluster config for XUL flexbox emulation talos tests;r=rwood

MozReview-Commit-ID: 7eEtuzdCi5d

diff --git a/taskcluster/ci/test/talos.yml b/taskcluster/ci/test/talos.yml
--- a/taskcluster/ci/test/talos.yml
+++ b/taskcluster/ci/test/talos.yml
@@ -101,16 +101,29 @@ talos-dromaeojs-stylo-disabled:
     run-on-projects: ['mozilla-beta', 'mozilla-central', 'try']
     max-run-time: 1800
     mozharness:
         extra-options:
             - --suite=dromaeojs-stylo-disabled
             - --add-option
             - --webServer,localhost
 
+talos-flex:
+    description: "Talos XUL flexbox emulation enabled"
+    try-name: flex
+    treeherder-symbol: T(f)
+    tier: 3
+    run-on-projects: ['mozilla-central', 'try']
+    max-run-time: 1800
+    mozharness:
+        extra-options:
+            - --suite=flex
+            - --add-option
+            - --webServer,localhost
+
 talos-g1:
     description: "Talos g1"
     try-name: g1
     treeherder-symbol: T(g1)
     run-on-projects:
         by-test-platform:
             .*-qr/.*: ['mozilla-central', 'try']
             default: ['mozilla-beta', 'mozilla-central', 'mozilla-inbound', 'autoland', 'try']
diff --git a/taskcluster/ci/test/test-platforms.yml b/taskcluster/ci/test/test-platforms.yml
--- a/taskcluster/ci/test/test-platforms.yml
+++ b/taskcluster/ci/test/test-platforms.yml
@@ -49,16 +49,17 @@ linux64/opt:
         - web-platform-tests
         - opt-only-tests
         - reftest-stylo
         - desktop-screenshot-capture
         - talos
         - linux-talos-stylo-disabled
         - awsy
         - mochitest-headless
+        - linux-talos-flex
 linux64-nightly/opt:
     build-platform: linux64-nightly/opt
     test-sets:
         - common-tests
         - web-platform-tests
         - opt-only-tests
         - desktop-screenshot-capture
         - awsy
diff --git a/taskcluster/ci/test/test-sets.yml b/taskcluster/ci/test/test-sets.yml
--- a/taskcluster/ci/test/test-sets.yml
+++ b/taskcluster/ci/test/test-sets.yml
@@ -146,16 +146,19 @@ linux-talos-profiling:
     - talos-other-profiling
     - talos-perf-reftest-profiling
     - talos-perf-reftest-singletons-profiling
     - talos-speedometer-profiling
     - talos-svgr-profiling
     - talos-tp5o-profiling
     - talos-tp6-profiling
 
+linux-talos-flex:
+    - talos-flex
+
 windows-qr-tests:
     - crashtest
     - mochitest-gpu
     - mochitest-media
 
 jsdcov-code-coverage-tests:
     - mochitest
     - mochitest-browser-chrome
