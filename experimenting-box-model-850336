# HG changeset patch
# Parent 814a6f0714725c9ecd07855302a8ddaf4d56336e
# User Brian Grinstead <bgrinstead@mozilla.com>
Experimenting with box model


diff --git a/browser/devtools/layoutview/view.js b/browser/devtools/layoutview/view.js
--- a/browser/devtools/layoutview/view.js
+++ b/browser/devtools/layoutview/view.js
@@ -7,16 +7,17 @@
 "use strict";
 
 const Cu = Components.utils;
 Cu.import("resource://gre/modules/Services.jsm");
 Cu.import("resource:///modules/devtools/LayoutHelpers.jsm");
 Cu.import("resource://gre/modules/devtools/Loader.jsm");
 
 let {CssLogic} = devtools.require("devtools/styleinspector/css-logic");
+let {editableField, InplaceEditor} = devtools.require("devtools/shared/inplace-editor");
 
 function LayoutView(aInspector, aWindow)
 {
   this.inspector = aInspector;
 
   // <browser> is not always available (for Chrome targets for example)
   if (this.inspector.target.tab) {
     this.browser = aInspector.target.tab.linkedBrowser;
@@ -204,21 +205,46 @@ LayoutView.prototype = {
     if ("top" in margins) this.map.marginTop.value = "auto";
     if ("right" in margins) this.map.marginRight.value = "auto";
     if ("bottom" in margins) this.map.marginBottom.value = "auto";
     if ("left" in margins) this.map.marginLeft.value = "auto";
 
     for (let i in this.map) {
       let selector = this.map[i].selector;
       let span = this.doc.querySelector(selector);
+
       if (span.textContent.length > 0 &&
           span.textContent == this.map[i].value) {
         continue;
       }
-      span.textContent = this.map[i].value;
+
+      span.textContent =  this.map[i].value;
+
+      (function(i) {
+      //
+        var field = editableField({
+          element: span,
+          stopOnReturn: true,
+          done: (aVal, aCommit) => {
+
+            if (!aCommit) {
+              return;
+            }
+            node.style[i] = aVal + "px";
+            field._clear();
+            debugger;
+            this.update();
+            // this.destroy();
+            // this.init();
+            // console.log(aVal);
+          }
+        });
+
+
+      }).bind(this)(i);
     }
 
     width -= this.map.borderLeft.value + this.map.borderRight.value +
              this.map.paddingLeft.value + this.map.paddingRight.value;
 
     height -= this.map.borderTop.value + this.map.borderBottom.value +
               this.map.paddingTop.value + this.map.paddingBottom.value;
 
