# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1527018013 25200
#      Tue May 22 12:40:13 2018 -0700
# Node ID 56620e9ad5092016450f0643a4c8a0f8a06e4280
# Parent  c5fbbf959e23a4f33d450cb6c64ef739e09fbe13
Bug 1411707 - Convert findbar.dtd to findbar.ftl;r=flod

This will be used when we migrate away from XBL and to a Custom Element
in the following changesets.

Differential Revision: https://phabricator.services.mozilla.com/D5598

diff --git a/python/l10n/fluent_migrations/bug_1411707_findbar.py b/python/l10n/fluent_migrations/bug_1411707_findbar.py
new file mode 100644
--- /dev/null
+++ b/python/l10n/fluent_migrations/bug_1411707_findbar.py
@@ -0,0 +1,42 @@
+# coding=utf8
+
+# Any copyright is dedicated to the Public Domain.
+# http://creativecommons.org/publicdomain/zero/1.0/
+
+from __future__ import absolute_import
+import fluent.syntax.ast as FTL
+from fluent.migrate.helpers import transforms_from
+
+
+def migrate(ctx):
+    """Bug 1411707 - Migrate the findbar XBL binding to a Custom Element, part {index}."""
+
+    ctx.add_transforms(
+        'toolkit/toolkit/main-window/findbar.ftl',
+        'toolkit/toolkit/main-window/findbar.ftl',
+        transforms_from(
+"""
+findbar-next =
+    .tooltiptext = { COPY(from_path, "next.tooltip") }
+findbar-previous =
+    .tooltiptext = { COPY(from_path, "previous.tooltip") }
+
+findbar-find-button-close =
+    .tooltiptext = { COPY(from_path, "findCloseButton.tooltip") }
+
+findbar-highlight-all =
+    .label = { COPY(from_path, "highlightAll.label") }
+    .accesskey = { COPY(from_path, "highlightAll.accesskey") }
+    .tooltiptext = { COPY(from_path, "highlightAll.tooltiptext") }
+
+findbar-case-sensitive =
+    .label = { COPY(from_path, "caseSensitive.label") }
+    .accesskey = { COPY(from_path, "caseSensitive.accesskey") }
+    .tooltiptext = { COPY(from_path, "caseSensitive.tooltiptext") }
+
+findbar-entire-word =
+    .label = { COPY(from_path, "entireWord.label") }
+    .accesskey = { COPY(from_path, "entireWord.accesskey") }
+    .tooltiptext = { COPY(from_path, "entireWord.tooltiptext") }
+""", from_path="toolkit/chrome/global/findbar.dtd")
+    )
diff --git a/toolkit/locales/en-US/toolkit/main-window/editmenu.ftl b/toolkit/locales/en-US/toolkit/main-window/editmenu.ftl
--- a/toolkit/locales/en-US/toolkit/main-window/editmenu.ftl
+++ b/toolkit/locales/en-US/toolkit/main-window/editmenu.ftl
@@ -1,8 +1,12 @@
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+
 ### This file contains the entities needed for the 'edit' menu
 ### It's currently only used for the Browser Console
 
 editmenu-undo =
     .label = Undo
     .accesskey = U
 
 editmenu-redo =
diff --git a/toolkit/locales/en-US/toolkit/main-window/findbar.ftl b/toolkit/locales/en-US/toolkit/main-window/findbar.ftl
new file mode 100644
--- /dev/null
+++ b/toolkit/locales/en-US/toolkit/main-window/findbar.ftl
@@ -0,0 +1,28 @@
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+
+### This file contains the entities needed to use the Find Bar.
+
+findbar-next =
+    .tooltiptext = Find the next occurrence of the phrase
+findbar-previous =
+    .tooltiptext = Find the previous occurrence of the phrase
+
+findbar-find-button-close =
+    .tooltiptext = Close find bar
+
+findbar-highlight-all =
+    .label = Highlight All
+    .accesskey = l
+    .tooltiptext = Highlight all occurrences of the phrase
+
+findbar-case-sensitive =
+    .label = Match Case
+    .accesskey = C
+    .tooltiptext = Search with case sensitivity
+
+findbar-entire-word =
+    .label = Whole Words
+    .accesskey = W
+    .tooltiptext = Search whole words only
