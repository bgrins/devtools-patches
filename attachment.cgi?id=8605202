# HG changeset patch
# User Matteo Ferretti <mferretti@mozilla.com>
# Date 1431515498 -7200
#      Wed May 13 13:11:38 2015 +0200
# Node ID 34f3eecdef9c543012bd2d497aabce45947e921f
# Parent  9a92b9861865b79981b36f89e99ae98760151d45
 Bug 1159001 - selected find input's text when is reopened

diff --git a/browser/devtools/sourceeditor/codemirror/search/search.js b/browser/devtools/sourceeditor/codemirror/search/search.js
--- a/browser/devtools/sourceeditor/codemirror/search/search.js
+++ b/browser/devtools/sourceeditor/codemirror/search/search.js
@@ -70,25 +70,27 @@
     }
     return query;
   }
   var queryDialog;
   function doSearch(cm, rev) {
     if (!queryDialog) {
       let doc = cm.getWrapperElement().ownerDocument;
       let inp = doc.createElement("input");
-      let txt = doc.createTextNode(cm.l10n("findCmd.promptMessage"));
 
-      inp.type = "text";
-      inp.style.width = "10em";
+      inp.type = "search";
+      inp.placeholder = cm.l10n("findCmd.promptMessage");
       inp.style.MozMarginStart = "1em";
+      inp.style.MozMarginEnd = "1em";
+      inp.style.flexGrow = "1";
+      inp.addEventListener("focus", () => inp.select());
 
       queryDialog = doc.createElement("div");
-      queryDialog.appendChild(txt);
       queryDialog.appendChild(inp);
+      queryDialog.style.display = "flex";
     }
     var state = getSearchState(cm);
     if (state.query) return findNext(cm, rev);
     dialog(cm, queryDialog, "Search for:", cm.getSelection(), function(query) {
       cm.operation(function() {
         if (!query || state.query) return;
         state.query = parseQuery(query);
         cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));
