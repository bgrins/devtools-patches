# HG changeset patch
# User Alexandre Poirot <poirot.alex@gmail.com>
# Date 1413907022 25200
#      Tue Oct 21 08:57:02 2014 -0700
# Node ID da2f3db3ef33aaa321e69a8732a19f36bfe71522
# Parent  b642421cdb492579c706f87cdc585f28d2d05b08
Bug 1085628 - Fix browser_880164_customization_context_menus.js against smaller toolbars by synthesizing context menu event on first pixel instead of last one. r=Gijs

diff --git a/browser/components/customizableui/test/browser_880164_customization_context_menus.js b/browser/components/customizableui/test/browser_880164_customization_context_menus.js
--- a/browser/components/customizableui/test/browser_880164_customization_context_menus.js
+++ b/browser/components/customizableui/test/browser_880164_customization_context_menus.js
@@ -111,17 +111,17 @@ add_task(function() {
 // Right-click on the urlbar-container should
 // show a context menu with disabled options to move it.
 add_task(function() {
   let contextMenu = document.getElementById("toolbar-context-menu");
   let shownPromise = popupShown(contextMenu);
   let urlBarContainer = document.getElementById("urlbar-container");
   // Need to make sure not to click within an edit field.
   let urlbarRect = urlBarContainer.getBoundingClientRect();
-  EventUtils.synthesizeMouse(urlBarContainer, 100, urlbarRect.height - 1, {type: "contextmenu", button: 2 });
+  EventUtils.synthesizeMouse(urlBarContainer, 100, 1, {type: "contextmenu", button: 2 });
   yield shownPromise;
 
   let expectedEntries = [
     [".customize-context-moveToPanel", false],
     [".customize-context-removeFromToolbar", false],
     ["---"]
   ];
   if (!isOSX) {
