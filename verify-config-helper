# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  3feabf2302c50f2d0b14961068188c0aef3202f3
Bug 1329262 - Remove verifyConfigHelper call;r=MattN

Since Bug 854126 landed there's not a restriction on private windows
with lightweight themes anymore and no need for this verification
 
MozReview-Commit-ID: 4uQxfbtqO7G

diff --git a/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/LightweightThemes.jsm b/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/LightweightThemes.jsm
--- a/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/LightweightThemes.jsm
+++ b/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/LightweightThemes.jsm
@@ -46,18 +46,16 @@ this.LightweightThemes = {
 
         // Wait for LWT listener
         return new Promise(resolve => {
           setTimeout(() => {
             resolve("darkLWT");
           }, 500);
         });
       },
-
-      verifyConfig: verifyConfigHelper,
     },
 
     lightLWT: {
       applyConfig() {
         LightweightThemeManager.setLocalTheme({
           id:          "white",
           name:        "white",
           headerURL:   LightweightThemes._whiteImageURL,
@@ -67,37 +65,23 @@ this.LightweightThemes = {
         });
         // Wait for LWT listener
         return new Promise(resolve => {
           setTimeout(() => {
             resolve("lightLWT");
           }, 500);
         });
       },
-
-      verifyConfig: verifyConfigHelper,
     },
 
     compactLight: {
       applyConfig: Task.async(() => {
         LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme("firefox-compact-light@mozilla.org");
       }),
     },
 
     compactDark: {
       applyConfig: Task.async(() => {
         LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme("firefox-compact-dark@mozilla.org");
       }),
     },
   },
 };
-
-
-function verifyConfigHelper() {
-  return new Promise((resolve, reject) => {
-    let browserWindow = Services.wm.getMostRecentWindow("navigator:browser");
-    if (browserWindow.document.documentElement.hasAttribute("lwtheme")) {
-      resolve("verifyConfigHelper");
-    } else {
-      reject("The @lwtheme attribute wasn't present so themes may not be available");
-    }
-  });
-}
