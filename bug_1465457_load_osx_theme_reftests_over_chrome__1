# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1550865063 28800
#      Fri Feb 22 11:51:03 2019 -0800
# Node ID 5955fbd67fd55af6a1109bc49a0d6ce39257e4e0
# Parent  5ec4d5d0f008eec91fe0f586599d63d242477fcd
Bug 1465457 - Load osx theme reftests over chrome

Differential Revision: https://phabricator.services.mozilla.com/D20586

diff --git a/layout/tools/reftest/jar.mn b/layout/tools/reftest/jar.mn
--- a/layout/tools/reftest/jar.mn
+++ b/layout/tools/reftest/jar.mn
@@ -1,10 +1,11 @@
 reftest.jar:
   content/moz-bool-pref.css (../../../layout/reftests/css-parsing/moz-bool-pref.css)
+  content/osx-theme (../../../toolkit/themes/osx/reftests/*)
   content/reftest.xul (reftest.xul)
 
   res/globals.jsm (globals.jsm)
   res/reftest-content.js (reftest-content.js)
   res/AsyncSpellCheckTestHelper.jsm (../../../editor/AsyncSpellCheckTestHelper.jsm)
   res/httpd.jsm (../../../netwerk/test/httpserver/httpd.js)
   res/StructuredLog.jsm (../../../testing/modules/StructuredLog.jsm)
   res/PerTestCoverageUtils.jsm (../../../tools/code-coverage/PerTestCoverageUtils.jsm)
diff --git a/toolkit/themes/osx/reftests/reftest.list b/toolkit/themes/osx/reftests/reftest.list
--- a/toolkit/themes/osx/reftests/reftest.list
+++ b/toolkit/themes/osx/reftests/reftest.list
@@ -1,5 +1,7 @@
-skip-if(!cocoaWidget) == 482681.xul 482681-ref.xul
-skip-if(!cocoaWidget) == radiosize.xul radiosize-ref.xul
-skip-if(!cocoaWidget) == checkboxsize.xul checkboxsize-ref.xul
-skip-if(!cocoaWidget) == baseline.xul about:blank
-skip-if(!cocoaWidget) == nostretch.xul nostretch-ref.xul
+# This folder is registered in the chrome manifest at layout/tools/reftest/jar.mn.
+
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/482681.xul chrome://reftest/content/osx-theme/482681-ref.xul
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/radiosize.xul chrome://reftest/content/osx-theme/radiosize-ref.xul
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/checkboxsize.xul chrome://reftest/content/osx-theme/checkboxsize-ref.xul
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/baseline.xul about:blank
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/nostretch.xul chrome://reftest/content/osx-theme/nostretch-ref.xul
