# HG changeset patch
# Parent 7e2b73a07cc850de43f6e7b9e444a52944371350
# User Kay Plößer <mail@kay.is>
Bug 960737 - Remove inline script / style in browser/devtools/fontinspector/font-inspector.xhtml;r=bgrins

diff --git a/browser/devtools/fontinspector/font-inspector.css b/browser/devtools/fontinspector/font-inspector.css
--- a/browser/devtools/fontinspector/font-inspector.css
+++ b/browser/devtools/fontinspector/font-inspector.css
@@ -1,16 +1,17 @@
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 .dim > #root,
 .font:not(.has-code) .font-css-code,
 .font-is-local,
 .font-is-remote,
-.font.is-local .font-format-url {
+.font.is-local .font-format-url,
+#template {
   display: none;
 }
 
 .font.is-remote .font-is-remote,
 .font.is-local .font-is-local {
   display: inline;
-}
+}
\ No newline at end of file
diff --git a/browser/devtools/fontinspector/font-inspector.js b/browser/devtools/fontinspector/font-inspector.js
--- a/browser/devtools/fontinspector/font-inspector.js
+++ b/browser/devtools/fontinspector/font-inspector.js
@@ -202,15 +202,20 @@ FontInspector.prototype = {
     }
     this.inspector.selection.setNode(root, "fontinspector");
   },
 }
 
 
 window.setPanel = function(panel) {
   window.fontInspector = new FontInspector(panel, window);
+
+  let button = document.getElementById("showall");
+  button.addEventListener("click", function() {
+    fontInspector.showAll();
+  });
 }
 
 window.onunload = function() {
   if (window.fontInspector) {
     window.fontInspector.destroy();
   }
 }
diff --git a/browser/devtools/fontinspector/font-inspector.xhtml b/browser/devtools/fontinspector/font-inspector.xhtml
--- a/browser/devtools/fontinspector/font-inspector.xhtml
+++ b/browser/devtools/fontinspector/font-inspector.xhtml
@@ -15,19 +15,19 @@
     <link rel="stylesheet" href="chrome://browser/skin/devtools/common.css" type="text/css"/>
     <link rel="stylesheet" href="chrome://browser/skin/devtools/font-inspector.css" type="text/css"/>
     <script type="application/javascript;version=1.8" src="chrome://browser/content/devtools/theme-switching.js"/>
   </head>
   <body class="theme-body devtools-monospace" role="application">
     <script type="application/javascript;version=1.8" src="font-inspector.js"></script>
     <div id="root">
       <ul id="all-fonts"></ul>
-      <button id="showall" onclick="fontInspector.showAll()">&showAllFonts;</button>
+      <button id="showall">&showAllFonts;</button>
     </div>
-    <div id="template" style="display:none">
+    <div id="template">
       <section class="font">
         <iframe sandbox="" class="font-preview"></iframe>
         <div class="font-info">
           <h1 class="font-name"></h1>
           <span class="font-is-local">&system;</span>
           <span class="font-is-remote">&remote;</span>
           <p class="font-format-url">
             <input readonly="readonly" class="font-url"></input>
