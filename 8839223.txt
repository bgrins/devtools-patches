# HG changeset patch
# Parent  5995a3f88211143645534f920e5f31e654748140
Bug 1165718 - Use system text styling for menu in Win7 classic Dev Edition theme;r=Gijs

diff --git a/browser/themes/windows/devedition.css b/browser/themes/windows/devedition.css
--- a/browser/themes/windows/devedition.css
+++ b/browser/themes/windows/devedition.css
@@ -153,16 +153,34 @@
   color: var(--chrome-color);
   background-color: transparent;
 }
 
 #main-window[sizemode="maximized"] #main-menubar > menu:not(:-moz-window-inactive) {
   color: inherit;
 }
 
+/* Use proper menu text styling in Win7 classic mode (copied from browser.css) */
+@media not all and (-moz-windows-compositor),
+       not all and (-moz-windows-default-theme) {
+  #main-window[tabsintitlebar]:not([inFullscreen]) #toolbar-menubar,
+  #main-window[tabsintitlebar]:not([inFullscreen]) #TabsToolbar {
+    color: CaptionText;
+  }
+
+  #main-window[tabsintitlebar]:not([inFullscreen]) #toolbar-menubar:-moz-window-inactive,
+  #main-window[tabsintitlebar]:not([inFullscreen]) #TabsToolbar:-moz-window-inactive {
+    color: InactiveCaptionText;
+  }
+
+  #main-window[tabsintitlebar] #main-menubar > menu {
+    color: inherit;
+  }
+}
+
 /* Use less opacity than normal since this is very dark, and on top of the default toolbar color */
 .tabbrowser-arrowscrollbox > .scrollbutton-up[disabled],
 .tabbrowser-arrowscrollbox > .scrollbutton-down[disabled] {
   opacity: .6;
 }
 
 /* Override scrollbutton gradients in normal and hover state */
 .tabbrowser-arrowscrollbox > .scrollbutton-down,
