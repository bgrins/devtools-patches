# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  eb9876db1f77ef3478a7f9c6c94d39793fe99d7d

diff --git a/dom/base/nsContentSink.cpp b/dom/base/nsContentSink.cpp
--- a/dom/base/nsContentSink.cpp
+++ b/dom/base/nsContentSink.cpp
@@ -1599,28 +1599,32 @@ nsContentSink::WillParseImpl(void)
 
   nsIPresShell *shell = mDocument->GetShell();
   if (!shell) {
     return NS_OK;
   }
 
   uint32_t currentTime = PR_IntervalToMicroseconds(PR_IntervalNow());
 
+
+  printf("%s %d %d %d\n", mDocument->GetDocumentURI()->GetSpecOrDefault().get(), mRunsToCompletion, mDocument->IsInBackgroundWindow(), sEnablePerfMode);
+
   if (sEnablePerfMode == 0) {
     nsViewManager* vm = shell->GetViewManager();
     NS_ENSURE_TRUE(vm, NS_ERROR_FAILURE);
     uint32_t lastEventTime;
     vm->GetLastUserEventTime(lastEventTime);
 
     bool newDynLower =
       mDocument->IsInBackgroundWindow() ||
       ((currentTime - mBeginLoadTime) > uint32_t(sInitialPerfTime) &&
        (currentTime - lastEventTime) < uint32_t(sInteractiveTime));
 
     if (mDynamicLowerValue != newDynLower) {
+      printf("Calling favorperfhing %d\n", newDynLower);
       FavorPerformanceHint(!newDynLower, 0);
       mDynamicLowerValue = newDynLower;
     }
   }
 
   mDeflectedCount = 0;
   mHasPendingEvent = false;
 
