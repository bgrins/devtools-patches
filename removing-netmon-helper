# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  d04bd441b7b07ba04cb0dd92c12d5b158fc5799c
Removing I think unnecessary head.js code

diff --git a/browser/devtools/netmonitor/test/head.js b/browser/devtools/netmonitor/test/head.js
--- a/browser/devtools/netmonitor/test/head.js
+++ b/browser/devtools/netmonitor/test/head.js
@@ -192,17 +192,16 @@ function waitForNetworkEvents(aMonitor, 
   let deferred = promise.defer();
 
   let panel = aMonitor.panelWin;
   let events = panel.EVENTS;
 
   let progress = {};
   let genericEvents = 0;
   let postEvents = 0;
-  let addedToViews = new Set();
 
   let awaitedEventsToListeners = [
     ["UPDATING_REQUEST_HEADERS", onGenericEvent],
     ["RECEIVED_REQUEST_HEADERS", onGenericEvent],
     ["UPDATING_REQUEST_COOKIES", onGenericEvent],
     ["RECEIVED_REQUEST_COOKIES", onGenericEvent],
     ["UPDATING_REQUEST_POST_DATA", onPostEvent],
     ["RECEIVED_REQUEST_POST_DATA", onPostEvent],
@@ -233,52 +232,40 @@ function waitForNetworkEvents(aMonitor, 
     maybeResolve(event, actor);
   }
 
   function onPostEvent(event, actor) {
     postEvents++;
     maybeResolve(event, actor);
   }
 
-  function onRequestAdded(event, actor) {
-    addedToViews.add(actor);
-  }
-
   function maybeResolve(event, actor) {
-    if (panel.NetMonitorView.RequestsMenu.getItemByValue(actor)) {
-      addedToViews.add(actor);
-    }
-
     info("> Network events progress: " +
       genericEvents + "/" + ((aGetRequests + aPostRequests) * 13) + ", " +
       postEvents + "/" + (aPostRequests * 2) + ", " +
-      addedToViews.size + "/" + (aGetRequests + aPostRequests) + ", " +
       "got " + event + " for " + actor);
 
     let networkInfo =
       panel.NetMonitorController.webConsoleClient.getNetworkRequest(actor)
     let url = networkInfo.request.url;
     updateProgressForURL(url, event);
 
     info("> Current state: " + JSON.stringify(progress, null, 2));
 
     // There are 15 updates which need to be fired for a request to be
     // considered finished. The "requestPostData" packet isn't fired for
     // non-POST requests.
     if (genericEvents >= (aGetRequests + aPostRequests) * 13 &&
-        postEvents >= aPostRequests * 2 &&
-        addedToViews.size >= aGetRequests + aPostRequests) {
+        postEvents >= aPostRequests * 2) {
 
       awaitedEventsToListeners.forEach(([e, l]) => panel.off(events[e], l));
-      panel.off(events.REQUEST_ADDED, onRequestAdded);
       executeSoon(deferred.resolve);
     }
   }
 
-  panel.on(events.REQUEST_ADDED, onRequestAdded);
   awaitedEventsToListeners.forEach(([e, l]) => panel.on(events[e], l));
   return deferred.promise;
 }
 
 function verifyRequestItemTarget(aRequestItem, aMethod, aUrl, aData = {}) {
   info("> Verifying: " + aMethod + " " + aUrl + " " + aData.toSource());
   // This bloats log sizes significantly in automation (bug 992485)
   //info("> Request: " + aRequestItem.attachment.toSource());
