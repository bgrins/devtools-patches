# HG changeset patch
# Parent 99ea54c33bcfabc9838ae38ea16af1ebeea6814e
# User Tim Nguyen <ntim007@gmail.com>
Bug 1009002 - Add 2x images for web console

diff --git a/browser/themes/linux/jar.mn b/browser/themes/linux/jar.mn
--- a/browser/themes/linux/jar.mn
+++ b/browser/themes/linux/jar.mn
@@ -185,16 +185,17 @@ browser.jar:
 * skin/classic/browser/devtools/common.css            (../shared/devtools/common.css)
 * skin/classic/browser/devtools/dark-theme.css        (../shared/devtools/dark-theme.css)
 * skin/classic/browser/devtools/light-theme.css       (../shared/devtools/light-theme.css)
   skin/classic/browser/devtools/filters.svg          (../shared/devtools/filters.svg)
   skin/classic/browser/devtools/controls.png          (../shared/devtools/images/controls.png)
   skin/classic/browser/devtools/controls@2x.png       (../shared/devtools/images/controls@2x.png)
 * skin/classic/browser/devtools/widgets.css           (devtools/widgets.css)
   skin/classic/browser/devtools/commandline-icon.png  (../shared/devtools/images/commandline-icon.png)
+  skin/classic/browser/devtools/commandline-icon@2x.png  (../shared/devtools/images/commandline-icon@2x.png)
   skin/classic/browser/devtools/command-paintflashing.png     (../shared/devtools/images/command-paintflashing.png)
   skin/classic/browser/devtools/command-paintflashing@2x.png  (../shared/devtools/images/command-paintflashing@2x.png)
   skin/classic/browser/devtools/command-responsivemode.png    (../shared/devtools/images/command-responsivemode.png)
   skin/classic/browser/devtools/command-responsivemode@2x.png (../shared/devtools/images/command-responsivemode@2x.png)
   skin/classic/browser/devtools/command-scratchpad.png        (../shared/devtools/images/command-scratchpad.png)
   skin/classic/browser/devtools/command-scratchpad@2x.png     (../shared/devtools/images/command-scratchpad@2x.png)
   skin/classic/browser/devtools/command-tilt.png              (../shared/devtools/images/command-tilt.png)
   skin/classic/browser/devtools/command-tilt@2x.png           (../shared/devtools/images/command-tilt@2x.png)
@@ -205,16 +206,17 @@ browser.jar:
   skin/classic/browser/devtools/command-eyedropper.png        (../shared/devtools/images/command-eyedropper.png)
   skin/classic/browser/devtools/command-eyedropper@2x.png     (../shared/devtools/images/command-eyedropper@2x.png)
   skin/classic/browser/devtools/alerticon-warning.png (../shared/devtools/images/alerticon-warning.png)
   skin/classic/browser/devtools/alerticon-warning@2x.png      (../shared/devtools/images/alerticon-warning@2x.png)
 * skin/classic/browser/devtools/ruleview.css          (../shared/devtools/ruleview.css)
 * skin/classic/browser/devtools/webconsole.css                  (devtools/webconsole.css)
   skin/classic/browser/devtools/webconsole_networkpanel.css     (devtools/webconsole_networkpanel.css)
   skin/classic/browser/devtools/webconsole.png                  (../shared/devtools/images/webconsole.png)
+  skin/classic/browser/devtools/webconsole@2x.png               (../shared/devtools/images/webconsole@2x.png)
   skin/classic/browser/devtools/commandline.css              (devtools/commandline.css)
   skin/classic/browser/devtools/markup-view.css       (../shared/devtools/markup-view.css)
   skin/classic/browser/devtools/editor-error.png       (../shared/devtools/images/editor-error.png)
   skin/classic/browser/devtools/editor-breakpoint.png  (../shared/devtools/images/editor-breakpoint.png)
   skin/classic/browser/devtools/editor-debug-location.png (../shared/devtools/images/editor-debug-location.png)
   skin/classic/browser/devtools/breadcrumbs-divider@2x.png      (../shared/devtools/images/breadcrumbs-divider@2x.png)
   skin/classic/browser/devtools/breadcrumbs-scrollbutton.png    (../shared/devtools/images/breadcrumbs-scrollbutton.png)
   skin/classic/browser/devtools/breadcrumbs-scrollbutton@2x.png (../shared/devtools/images/breadcrumbs-scrollbutton@2x.png)
diff --git a/browser/themes/osx/jar.mn b/browser/themes/osx/jar.mn
--- a/browser/themes/osx/jar.mn
+++ b/browser/themes/osx/jar.mn
@@ -306,16 +306,17 @@ browser.jar:
 * skin/classic/browser/devtools/common.css                  (../shared/devtools/common.css)
 * skin/classic/browser/devtools/dark-theme.css              (../shared/devtools/dark-theme.css)
 * skin/classic/browser/devtools/light-theme.css             (../shared/devtools/light-theme.css)
   skin/classic/browser/devtools/filters.svg                 (../shared/devtools/filters.svg)
   skin/classic/browser/devtools/controls.png                (../shared/devtools/images/controls.png)
   skin/classic/browser/devtools/controls@2x.png             (../shared/devtools/images/controls@2x.png)
 * skin/classic/browser/devtools/widgets.css                 (devtools/widgets.css)
   skin/classic/browser/devtools/commandline-icon.png        (../shared/devtools/images/commandline-icon.png)
+  skin/classic/browser/devtools/commandline-icon@2x.png     (../shared/devtools/images/commandline-icon@2x.png)
   skin/classic/browser/devtools/command-paintflashing.png     (../shared/devtools/images/command-paintflashing.png)
   skin/classic/browser/devtools/command-paintflashing@2x.png  (../shared/devtools/images/command-paintflashing@2x.png)
   skin/classic/browser/devtools/command-responsivemode.png    (../shared/devtools/images/command-responsivemode.png)
   skin/classic/browser/devtools/command-responsivemode@2x.png (../shared/devtools/images/command-responsivemode@2x.png)
   skin/classic/browser/devtools/command-scratchpad.png        (../shared/devtools/images/command-scratchpad.png)
   skin/classic/browser/devtools/command-scratchpad@2x.png     (../shared/devtools/images/command-scratchpad@2x.png)
   skin/classic/browser/devtools/command-tilt.png              (../shared/devtools/images/command-tilt.png)
   skin/classic/browser/devtools/command-tilt@2x.png           (../shared/devtools/images/command-tilt@2x.png)
@@ -331,16 +332,17 @@ browser.jar:
   skin/classic/browser/devtools/commandline.css             (devtools/commandline.css)
   skin/classic/browser/devtools/markup-view.css             (../shared/devtools/markup-view.css)
   skin/classic/browser/devtools/editor-error.png             (../shared/devtools/images/editor-error.png)
   skin/classic/browser/devtools/editor-breakpoint.png        (../shared/devtools/images/editor-breakpoint.png)
   skin/classic/browser/devtools/editor-debug-location.png    (../shared/devtools/images/editor-debug-location.png)
 * skin/classic/browser/devtools/webconsole.css                  (devtools/webconsole.css)
   skin/classic/browser/devtools/webconsole_networkpanel.css     (devtools/webconsole_networkpanel.css)
   skin/classic/browser/devtools/webconsole.png                  (../shared/devtools/images/webconsole.png)
+  skin/classic/browser/devtools/webconsole@2x.png               (../shared/devtools/images/webconsole@2x.png)
   skin/classic/browser/devtools/breadcrumbs-divider@2x.png      (../shared/devtools/images/breadcrumbs-divider@2x.png)
   skin/classic/browser/devtools/breadcrumbs-scrollbutton.png    (../shared/devtools/images/breadcrumbs-scrollbutton.png)
   skin/classic/browser/devtools/breadcrumbs-scrollbutton@2x.png (../shared/devtools/images/breadcrumbs-scrollbutton@2x.png)
 * skin/classic/browser/devtools/canvasdebugger.css          (devtools/canvasdebugger.css)
 * skin/classic/browser/devtools/debugger.css                (devtools/debugger.css)
   skin/classic/browser/devtools/eyedropper.css              (../shared/devtools/eyedropper.css)
 * skin/classic/browser/devtools/netmonitor.css              (devtools/netmonitor.css)
 * skin/classic/browser/devtools/profiler.css                (devtools/profiler.css)
diff --git a/browser/themes/shared/devtools/images/commandline-icon.png b/browser/themes/shared/devtools/images/commandline-icon.png
index e120a392606af02764ee50b2fbec64caeab4f8f3..e51f67f137e49e26ee0aa4400b99bb05ecfdb09e
GIT binary patch
literal 254
zc%17D@N?(olHy`uVBq!ia0vp^3P3Et!3HGD8EPYe)KO0t#}JR>$q5py&73uVKWg)~
z*w_DC+1cyQ5wWiFn|#aKYj&Q8kEx#&jNexyc>LIL?tlN&TcUTp>QrT$FY)33|9Y_*
zOC8L_t>#atdwll%j)ZBq*3~L>o>RXj7~?U`XyIqhm+X-&n?tIvhMJYw1@`^;@^UiA
znV_7SLoXk$R0J~q9DLg#uK%xCncdQA{(`5g<-EbHfIpiTsXB!P2`xOlD%|EoC*NHE
z6Gd)Ma@x<Sr&PXJ_5aL?n|yQaO}G{XI^;7jXq9yH+}pU&2k0RNPgg&ebxsLQ0EbX(
A2mk;8

diff --git a/browser/themes/shared/devtools/images/commandline-icon@2x.png b/browser/themes/shared/devtools/images/commandline-icon@2x.png
new file mode 100644
index 0000000000000000000000000000000000000000..407fdae8c93c5ad6ba942c62884babc950ab208b
GIT binary patch
literal 586
zc$@)B0=4~#P)<h;3K|Lk000e1NJLTq002M$001Be1^@s6qMd$(0006JNkl<Zc-rll
zv1=4T7{!f=K|(}}fCNEo53!Id%x(-MAcR<`pn`=(2r>4y{tb2(+FDqwyMlp$orRFr
zLQ)1S?na1(;O)%p>@G}Zi@Sr*;vu|B<_Fu{uX;1{z1^ELkw_#GiTsV$^-W#Xd*f#`
zay{sYr1{`wk}E%c(qga&J)4njHYOo;y<3*$W$0OWKa&>f-8AITrP&~Xo{9JVtghO7
z<B+9wPs48u(37~H9nFW3UnjeqE45bqSVo?`2<MG!pG<bzwfDQ=(39xDS4$z-@${$<
z54+&Vvlrn~Y3uEANNbxl=!vX+RJ}AG{+@<ZZ=q*njK897y(>x&cpfXo@J<L<i_!z0
z%*eT(EIsInBp(LPW$8iB=8rLnEIsIngn54@OAmN@Db7??vnfjtdJ>N_KO1&;UzQ&5
z^in)$jC&|b4|pEy*~wxky>FuQfd7vcVD;0l3o;<`)Dh6S+LA{cc<Km***=g*9C{X}
zX;x*)K~E&ff4-I_2R#et{0;e<L!SHx>4kjFLC?ZkdrjN=nfTBFo<|7vAna%>K6HTR
z&HYjcw<AgocpkSh)eoVxC^g_ooOr+3&9W>t=t<np)YWd5WvL<0+WC3o+DEd~peNDK
zjxUDY{4PrkdEQ-suI|cGgPz3t7e5z5eU_yLJ&SIR<&_uoM3O?ikyl>OM<S6(B=S$3
Y0)fE6%al|sqW}N^07*qoM6N<$f@a<sJOBUy

diff --git a/browser/themes/shared/devtools/images/webconsole@2x.png b/browser/themes/shared/devtools/images/webconsole@2x.png
new file mode 100644
index 0000000000000000000000000000000000000000..2d5e97f8815eba2f3772f79ba3d5714033919824
GIT binary patch
literal 2633
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

diff --git a/browser/themes/shared/devtools/webconsole.inc.css b/browser/themes/shared/devtools/webconsole.inc.css
--- a/browser/themes/shared/devtools/webconsole.inc.css
+++ b/browser/themes/shared/devtools/webconsole.inc.css
@@ -29,26 +29,41 @@ a {
   margin: 4px 6px 0 0;
 }
 
 .message > .indent {
   flex: 0 0 auto;
 }
 
 .message > .icon {
-  background: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 0, 1, 0, 0) no-repeat;
-  background-position: center;
   flex: 0 0 auto;
   margin: 3px 6px 0 0;
   padding: 0 4px;
-  width: 8px;
+  /*width: 8px;*/
   height: 1em;
   align-self: flex-start;
 }
 
+.message > .icon::before {
+  content: "";
+  background-image: url(chrome://browser/skin/devtools/webconsole.png);
+  background-position: 8px 8px;
+  background-repeat: no-repeat;
+  background-size: 48px 40px;
+  width: 100px;
+  height: 8px;
+  display: inline-block;
+}
+
+@media (min-resolution: 2dppx) {
+  .message > .icon::before {
+    background-image: url(chrome://browser/skin/devtools/webconsole@2x.png);
+  }
+}
+
 .message > .message-body-wrapper {
   flex: 1 1 100%;
   margin: 3px;
 }
 
 /* The red bubble that shows the number of times a message is repeated */
 .message-repeats {
   -moz-user-select: none;
@@ -204,18 +219,18 @@ a {
 .theme-light .console-string {
   color: hsl(24,85%,39%);
 }
 
 .message[category=network] > .indent {
   -moz-border-end: solid #000 6px;
 }
 
-.message[category=network][severity=error] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 0, 16, 8, 8);
+.message[category=network][severity=error] > .icon::before {
+  background-position: -8px 0;
 }
 
 .message[category=network] > .message-body {
   display: flex;
 }
 
 .message[category=network] .method {
   flex: 0 0 auto;
@@ -250,90 +265,99 @@ a {
   background-image: linear-gradient(#2DC3F3, #00B6F0);
   border-color: #1BA2CC;
 }
 
 .message[category=cssparser] > .indent {
   -moz-border-end: solid #00b6f0 6px;
 }
 
-.message[category=cssparser][severity=error] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 8, 16, 16, 8);
+.message[category=cssparser][severity=error] > .icon::before {
+  background-position: -8px -8px;
 }
 
-.message[category=cssparser][severity=warn] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 8, 24, 16, 16);
+.message[category=cssparser][severity=warn] > .icon::before {
+  background-position: -16px -8px;
 }
 
 /* JS styles */
 .webconsole-filter-button[category="js"] > .toolbarbutton-menubutton-button:before {
   background-image: linear-gradient(#FCB142, #FB9500);
   border-color: #E98A00;
 }
 
 .message[category=exception] > .indent {
   -moz-border-end: solid #fb9500 6px;
 }
 
-.message[category=exception][severity=error] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 16, 16, 24, 8);
+.message[category=exception][severity=error] > .icon::before {
+  background-position: -8px -16px;
 }
 
-.message[category=exception][severity=warn] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 16, 24, 24, 16);
+.message[category=exception][severity=warn] > .icon::before {
+  background-position: -16px -16px;
 }
 
 /* Web Developer styles */
 .webconsole-filter-button[category="logging"] > .toolbarbutton-menubutton-button:before {
   background-image: linear-gradient(#B9B9B9, #AAAAAA);
   border-color: #929292;
 }
 
 .message[category=console] > .indent {
   -moz-border-end: solid #cbcbcb 6px;
 }
 
-.message[category=console][severity=error] > .icon,
-.message[category=output][severity=error] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 24, 16, 32, 8);
+.message[category=console][severity=error] > .icon::before,
+.message[category=output][severity=error] > .icon::before {
+  background-position: -8px -24px;
 }
 
-.message[category=console][severity=warn] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 24, 24, 32, 16);
+.message[category=console][severity=warn] > .icon::before {
+  background-position: -16px -24px;
 }
 
-.message[category=console][severity=info] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 24, 32, 32, 24);
+.message[category=console][severity=info] > .icon::before {
+  background-position: -24px -24px;
 }
 
 /* Input and output styles */
 .message[category=input] > .indent,
 .message[category=output] > .indent {
   -moz-border-end: solid #808080 6px;
 }
 
-.message[category=input] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 24, 40, 32, 32);
+.message[category=input] > .icon::before {
+  background-position: -32px -24px;
 }
 
-.message[category=output] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 24, 48, 32, 40);
+.message[category=output] > .icon::before {
+  background-position: -40px -24px;
 }
 
 /* JSTerm Styles */
 .jsterm-input-node,
 .jsterm-complete-node {
   border: none;
   padding: 0 0 0 16px;
   -moz-appearance: none;
   background-color: transparent;
 }
 
 .jsterm-input-node {
-  background: -moz-image-rect(url("chrome://browser/skin/devtools/commandline-icon.png"), 0, 32, 16, 16) no-repeat;
+  background-image: url('chrome://browser/skin/devtools/commandline-icon.png');
+  background-size: 32px 16px;
+  background-repeat: no-repeat;
+  background-position: -16px 0;
+}
+
+@media (min-resolution: 2dppx) {
+  .jsterm-input-node {
+    background-image: url('chrome://browser/skin/devtools/commandline-icon@2x.png');
+  }
 }
 
 :-moz-any(.jsterm-input-node,
           .jsterm-complete-node) > .textbox-input-box > .textbox-textarea {
   overflow-x: hidden;
 }
 
 .inlined-variables-view .message-body {
@@ -365,22 +389,22 @@ a {
   -moz-border-end: solid red 6px;
 }
 
 .webconsole-filter-button[category="security"] > .toolbarbutton-menubutton-button:before {
   background-image: linear-gradient(#FF3030, #FF7D7D);
   border-color: #D12C2C;
 }
 
-.message[category=security][severity=error] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 32, 16, 40, 8);
+.message[category=security][severity=error] > .icon::before {
+  background-position: -8px -32px;
 }
 
-.message[category=security][severity=warn] > .icon {
-  background-image: -moz-image-rect(url(chrome://browser/skin/devtools/webconsole.png), 32, 24, 40, 16);
+.message[category=security][severity=warn] > .icon::before {
+  background-position: -16px -32px;
 }
 
 .navigation-marker {
   color: #aaa;
   background: linear-gradient(#aaa, #aaa) no-repeat left 50%;
   background-size: 100% 2px;
   margin-top: 6px;
   margin-bottom: 6px;
diff --git a/browser/themes/windows/jar.mn b/browser/themes/windows/jar.mn
--- a/browser/themes/windows/jar.mn
+++ b/browser/themes/windows/jar.mn
@@ -222,16 +222,17 @@ browser.jar:
 *       skin/classic/browser/devtools/common.css                    (../shared/devtools/common.css)
 *       skin/classic/browser/devtools/dark-theme.css                (../shared/devtools/dark-theme.css)
 *       skin/classic/browser/devtools/light-theme.css               (../shared/devtools/light-theme.css)
         skin/classic/browser/devtools/filters.svg                   (../shared/devtools/filters.svg)
         skin/classic/browser/devtools/controls.png                  (../shared/devtools/images/controls.png)
         skin/classic/browser/devtools/controls@2x.png               (../shared/devtools/images/controls@2x.png)
 *       skin/classic/browser/devtools/widgets.css                   (devtools/widgets.css)
         skin/classic/browser/devtools/commandline-icon.png          (../shared/devtools/images/commandline-icon.png)
+        skin/classic/browser/devtools/commandline-icon@2x.png          (../shared/devtools/images/commandline-icon@2x.png)
         skin/classic/browser/devtools/alerticon-warning.png         (../shared/devtools/images/alerticon-warning.png)
         skin/classic/browser/devtools/alerticon-warning@2x.png      (../shared/devtools/images/alerticon-warning@2x.png)
 *       skin/classic/browser/devtools/ruleview.css                  (../shared/devtools/ruleview.css)
         skin/classic/browser/devtools/commandline.css               (devtools/commandline.css)
         skin/classic/browser/devtools/command-paintflashing.png     (../shared/devtools/images/command-paintflashing.png)
         skin/classic/browser/devtools/command-paintflashing@2x.png  (../shared/devtools/images/command-paintflashing@2x.png)
         skin/classic/browser/devtools/command-responsivemode.png    (../shared/devtools/images/command-responsivemode.png)
         skin/classic/browser/devtools/command-responsivemode@2x.png (../shared/devtools/images/command-responsivemode@2x.png)
@@ -247,16 +248,17 @@ browser.jar:
         skin/classic/browser/devtools/command-eyedropper@2x.png     (../shared/devtools/images/command-eyedropper@2x.png)
         skin/classic/browser/devtools/markup-view.css               (../shared/devtools/markup-view.css)
         skin/classic/browser/devtools/editor-error.png              (../shared/devtools/images/editor-error.png)
         skin/classic/browser/devtools/editor-breakpoint.png         (../shared/devtools/images/editor-breakpoint.png)
         skin/classic/browser/devtools/editor-debug-location.png     (../shared/devtools/images/editor-debug-location.png)
 *       skin/classic/browser/devtools/webconsole.css                (devtools/webconsole.css)
         skin/classic/browser/devtools/webconsole_networkpanel.css   (devtools/webconsole_networkpanel.css)
         skin/classic/browser/devtools/webconsole.png                (../shared/devtools/images/webconsole.png)
+        skin/classic/browser/devtools/webconsole@2x.png             (../shared/devtools/images/webconsole@2x.png)
         skin/classic/browser/devtools/breadcrumbs-divider@2x.png    (../shared/devtools/images/breadcrumbs-divider@2x.png)
         skin/classic/browser/devtools/breadcrumbs-scrollbutton.png  (../shared/devtools/images/breadcrumbs-scrollbutton.png)
         skin/classic/browser/devtools/breadcrumbs-scrollbutton@2x.png (../shared/devtools/images/breadcrumbs-scrollbutton@2x.png)
         skin/classic/browser/devtools/eyedropper.css                (../shared/devtools/eyedropper.css)
 *       skin/classic/browser/devtools/canvasdebugger.css            (devtools/canvasdebugger.css)
 *       skin/classic/browser/devtools/debugger.css                  (devtools/debugger.css)
 *       skin/classic/browser/devtools/netmonitor.css                (devtools/netmonitor.css)
 *       skin/classic/browser/devtools/profiler.css                  (devtools/profiler.css)
@@ -593,16 +595,17 @@ browser.jar:
 *       skin/classic/aero/browser/devtools/common.css                (../shared/devtools/common.css)
 *       skin/classic/aero/browser/devtools/dark-theme.css            (../shared/devtools/dark-theme.css)
 *       skin/classic/aero/browser/devtools/light-theme.css           (../shared/devtools/light-theme.css)
         skin/classic/aero/browser/devtools/filters.svg               (../shared/devtools/filters.svg)
         skin/classic/aero/browser/devtools/controls.png              (../shared/devtools/images/controls.png)
         skin/classic/aero/browser/devtools/controls@2x.png           (../shared/devtools/images/controls@2x.png)
 *       skin/classic/aero/browser/devtools/widgets.css               (devtools/widgets.css)
         skin/classic/aero/browser/devtools/commandline-icon.png      (../shared/devtools/images/commandline-icon.png)
+        skin/classic/aero/browser/devtools/commandline-icon@2x.png      (../shared/devtools/images/commandline-icon@2x.png)
         skin/classic/aero/browser/devtools/command-paintflashing.png    (../shared/devtools/images/command-paintflashing.png)
         skin/classic/aero/browser/devtools/command-paintflashing@2x.png (../shared/devtools/images/command-paintflashing@2x.png)
         skin/classic/aero/browser/devtools/command-responsivemode.png    (../shared/devtools/images/command-responsivemode.png)
         skin/classic/aero/browser/devtools/command-responsivemode@2x.png (../shared/devtools/images/command-responsivemode@2x.png)
         skin/classic/aero/browser/devtools/command-scratchpad.png    (../shared/devtools/images/command-scratchpad.png)
         skin/classic/aero/browser/devtools/command-scratchpad@2x.png (../shared/devtools/images/command-scratchpad@2x.png)
         skin/classic/aero/browser/devtools/command-tilt.png          (../shared/devtools/images/command-tilt.png)
         skin/classic/aero/browser/devtools/command-tilt@2x.png       (../shared/devtools/images/command-tilt@2x.png)
@@ -618,16 +621,17 @@ browser.jar:
         skin/classic/aero/browser/devtools/commandline.css           (devtools/commandline.css)
         skin/classic/aero/browser/devtools/markup-view.css           (../shared/devtools/markup-view.css)
         skin/classic/aero/browser/devtools/editor-error.png           (../shared/devtools/images/editor-error.png)
         skin/classic/aero/browser/devtools/editor-breakpoint.png      (../shared/devtools/images/editor-breakpoint.png)
         skin/classic/aero/browser/devtools/editor-debug-location.png  (../shared/devtools/images/editor-debug-location.png)
 *       skin/classic/aero/browser/devtools/webconsole.css                  (devtools/webconsole.css)
         skin/classic/aero/browser/devtools/webconsole_networkpanel.css     (devtools/webconsole_networkpanel.css)
         skin/classic/aero/browser/devtools/webconsole.png                  (../shared/devtools/images/webconsole.png)
+        skin/classic/aero/browser/devtools/webconsole@2x.png                  (../shared/devtools/images/webconsole@2x.png)
         skin/classic/aero/browser/devtools/breadcrumbs-divider@2x.png      (../shared/devtools/images/breadcrumbs-divider@2x.png)
         skin/classic/aero/browser/devtools/breadcrumbs-scrollbutton.png    (../shared/devtools/images/breadcrumbs-scrollbutton.png)
         skin/classic/aero/browser/devtools/breadcrumbs-scrollbutton@2x.png (../shared/devtools/images/breadcrumbs-scrollbutton@2x.png)
 *       skin/classic/aero/browser/devtools/canvasdebugger.css        (devtools/canvasdebugger.css)
 *       skin/classic/aero/browser/devtools/debugger.css              (devtools/debugger.css)
         skin/classic/aero/browser/devtools/eyedropper.css            (../shared/devtools/eyedropper.css)
 *       skin/classic/aero/browser/devtools/netmonitor.css            (devtools/netmonitor.css)
 *       skin/classic/aero/browser/devtools/profiler.css              (devtools/profiler.css)
