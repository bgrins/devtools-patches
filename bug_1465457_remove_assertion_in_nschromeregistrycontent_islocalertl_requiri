# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1551154050 28800
#      Mon Feb 25 20:07:30 2019 -0800
# Node ID 873954e30f941cf2766c8c01080b9960fba515cf
# Parent  5955fbd67fd55af6a1109bc49a0d6ce39257e4e0
Bug 1465457 - Remove assertion in nsChromeRegistryContent::IsLocaleRTL requiring "global" package

We are running certain xul reftests in the content process registered in chrome://reftest,
and it's OK for them to call this function (which is triggered at end of XUL doc loading).

Differential Revision: https://phabricator.services.mozilla.com/D21220

diff --git a/chrome/nsChromeRegistryContent.cpp b/chrome/nsChromeRegistryContent.cpp
--- a/chrome/nsChromeRegistryContent.cpp
+++ b/chrome/nsChromeRegistryContent.cpp
@@ -165,20 +165,16 @@ nsChromeRegistryContent::CheckForOSAcces
 }
 
 NS_IMETHODIMP
 nsChromeRegistryContent::CheckForNewChrome() { CONTENT_NOT_IMPLEMENTED(); }
 
 NS_IMETHODIMP
 nsChromeRegistryContent::IsLocaleRTL(const nsACString& aPackage,
                                      bool* aResult) {
-  if (aPackage != nsDependentCString("global")) {
-    NS_ERROR("Packages other than global unavailable");
-    return NS_ERROR_NOT_AVAILABLE;
-  }
   *aResult = GetDirectionForLocale(mLocale);
   return NS_OK;
 }
 
 NS_IMETHODIMP
 nsChromeRegistryContent::GetSelectedLocale(const nsACString& aPackage,
                                            bool aAsBCP47, nsACString& aLocale) {
   if (aPackage != nsDependentCString("global")) {
