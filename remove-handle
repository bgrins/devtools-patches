# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  d1e995c8640a191cd127e87273ec96cb2fabffa9
Bug 1408572 - Remove handleCtrlPageUpDown attribute and associated code;r=dao

diff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml
--- a/browser/base/content/tabbrowser.xml
+++ b/browser/base/content/tabbrowser.xml
@@ -13,17 +13,17 @@
 
   <binding id="tabbrowser">
     <resources>
       <stylesheet src="chrome://browser/content/tabbrowser.css"/>
     </resources>
 
     <content>
       <xul:tabbox anonid="tabbox" class="tabbrowser-tabbox"
-                  flex="1" eventnode="document" xbl:inherits="handleCtrlPageUpDown,tabcontainer"
+                  flex="1" eventnode="document" xbl:inherits="tabcontainer"
                   onselect="if (event.target.localName == 'tabpanels') this.parentNode.updateCurrentBrowser();">
         <xul:tabpanels flex="1" class="plain" selectedIndex="0" anonid="panelcontainer">
           <xul:notificationbox flex="1" notificationside="top">
             <xul:hbox flex="1" class="browserSidebarContainer">
               <xul:vbox flex="1" class="browserContainer">
                 <xul:stack flex="1" class="browserStack" anonid="browserStack">
                   <xul:browser anonid="initialBrowser" type="content" message="true" messagemanagergroup="browsers"
                                primary="true" blank="true"
diff --git a/toolkit/content/widgets/tabbox.xml b/toolkit/content/widgets/tabbox.xml
--- a/toolkit/content/widgets/tabbox.xml
+++ b/toolkit/content/widgets/tabbox.xml
@@ -27,30 +27,16 @@
         </setter>
         <getter>
         <![CDATA[
           return (this.getAttribute("handleCtrlTab") != "false");
         ]]>
         </getter>
       </property>
 
-      <property name="handleCtrlPageUpDown">
-        <setter>
-        <![CDATA[
-          this.setAttribute("handleCtrlPageUpDown", val);
-          return val;
-        ]]>
-        </setter>
-        <getter>
-        <![CDATA[
-          return (this.getAttribute("handleCtrlPageUpDown") != "false");
-        ]]>
-        </getter>
-      </property>
-
       <field name="_handleMetaAltArrows" readonly="true">
         /Mac/.test(navigator.platform)
       </field>
 
       <!-- _tabs and _tabpanels are deprecated, they exist only for
            backwards compatibility. -->
       <property name="_tabs" readonly="true" onget="return this.tabs;"/>
       <property name="_tabpanels" readonly="true" onget="return this.tabpanels;"/>
@@ -153,25 +139,25 @@
             case event.DOM_VK_TAB:
               if (event.ctrlKey && !event.altKey && !event.metaKey)
                 if (this.tabs && this.handleCtrlTab) {
                   this.tabs.advanceSelectedTab(event.shiftKey ? -1 : 1, true);
                   event.preventDefault();
                 }
               break;
             case event.DOM_VK_PAGE_UP:
-              if (event.ctrlKey && !event.shiftKey && !event.altKey && !event.metaKey)
-                if (this.tabs && this.handleCtrlPageUpDown) {
+              if (event.ctrlKey && !event.shiftKey &&
+                  !event.altKey && !event.metaKey && this.tabs) {
                   this.tabs.advanceSelectedTab(-1, true);
                   event.preventDefault();
                 }
               break;
             case event.DOM_VK_PAGE_DOWN:
-              if (event.ctrlKey && !event.shiftKey && !event.altKey && !event.metaKey)
-                if (this.tabs && this.handleCtrlPageUpDown) {
+              if (event.ctrlKey && !event.shiftKey &&
+                  !event.altKey && !event.metaKey && this.tabs) {
                   this.tabs.advanceSelectedTab(1, true);
                   event.preventDefault();
                 }
               break;
             case event.DOM_VK_LEFT:
               if (event.metaKey && event.altKey && !event.shiftKey && !event.ctrlKey)
                 if (this.tabs && this._handleMetaAltArrows) {
                   var offset = window.getComputedStyle(this)
