# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1547253298 28800
#      Fri Jan 11 16:34:58 2019 -0800
# Node ID 3a45d280a163f4b162514bb93b0c060492a5f1a0
# Parent  8172d84afc5b0516216c4987180c321805f45a2a
Bug 1519461 - Don't return values from docShellIsActive and renderLayers setters;r=mconley

This is more consistent with other setters, and lets us handle the null frameLoader
case a bit more simply.

Differential Revision: https://phabricator.services.mozilla.com/D16370

diff --git a/toolkit/content/widgets/browser-custom-element.js b/toolkit/content/widgets/browser-custom-element.js
--- a/toolkit/content/widgets/browser-custom-element.js
+++ b/toolkit/content/widgets/browser-custom-element.js
@@ -374,23 +374,21 @@ class MozBrowser extends MozElementMixin
   get dateTimePicker() {
     return document.getElementById(this.getAttribute("datetimepicker"));
   }
 
   set docShellIsActive(val) {
     if (this.isRemoteBrowser) {
       let { frameLoader } = this;
       if (frameLoader && frameLoader.tabParent) {
-        return frameLoader.tabParent.docShellIsActive = val;
+        frameLoader.tabParent.docShellIsActive = val;
       }
-      return false;
+    } else if (this.docShell) {
+      this.docShell.isActive = val;
     }
-    if (this.docShell)
-      return this.docShell.isActive = val;
-    return false;
   }
 
   get docShellIsActive() {
     if (this.isRemoteBrowser) {
       let { frameLoader } = this;
       if (frameLoader && frameLoader.tabParent) {
         return frameLoader.tabParent.docShellIsActive;
       }
@@ -398,21 +396,21 @@ class MozBrowser extends MozElementMixin
     }
     return this.docShell && this.docShell.isActive;
   }
 
   set renderLayers(val) {
     if (this.isRemoteBrowser) {
       let { frameLoader } = this;
       if (frameLoader && frameLoader.tabParent) {
-        return frameLoader.tabParent.renderLayers = val;
+        frameLoader.tabParent.renderLayers = val;
       }
-      return false;
+    } else {
+      this.docShellIsActive = val;
     }
-    return this.docShellIsActive = val;
   }
 
   get renderLayers() {
     if (this.isRemoteBrowser) {
       let { frameLoader } = this;
       if (frameLoader && frameLoader.tabParent) {
         return frameLoader.tabParent.renderLayers;
       }
