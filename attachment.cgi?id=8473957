# HG changeset patch
# User J. Ryan Stinnett <jryans@gmail.com>

Bug 1054006 - Set chrome prefs in Browser Toolbox. r=bgrins


diff --git a/browser/devtools/framework/toolbox-process-window.js b/browser/devtools/framework/toolbox-process-window.js
index 460ecc9..c53a79c 100644
--- a/browser/devtools/framework/toolbox-process-window.js
+++ b/browser/devtools/framework/toolbox-process-window.js
@@ -44,19 +44,26 @@ function connect() {
         });
       });
     } else {
       gClient.listTabs(openToolbox);
     }
   });
 }
 
+// Certain options should be toggled since we can assume chrome debugging here
+function setPrefDefaults() {
+  Services.prefs.setBoolPref("devtools.inspector.showUserAgentStyles", true);
+  Services.prefs.setBoolPref("devtools.profiler.ui.show-platform-data", true);
+}
+
 window.addEventListener("load", function() {
   let cmdClose = document.getElementById("toolbox-cmd-close");
   cmdClose.addEventListener("command", onCloseCommand);
+  setPrefDefaults();
   connect();
 });
 
 function onCloseCommand(event) {
   window.close();
 }
 
 function openToolbox(form) {
-- 
2.0.1

