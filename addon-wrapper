# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  a55964a959f9776cf6ad8027d2b0460a37f1d303
Bug 1392352 - Part 2 - Interpose all objects

MozReview-Commit-ID: LSAmAg9Lqd5

diff --git a/js/xpconnect/wrappers/AddonWrapper.cpp b/js/xpconnect/wrappers/AddonWrapper.cpp
--- a/js/xpconnect/wrappers/AddonWrapper.cpp
+++ b/js/xpconnect/wrappers/AddonWrapper.cpp
@@ -47,17 +47,17 @@ InterposeProperty(JSContext* cx, HandleO
     RootedObject unwrapped(cx, UncheckedUnwrap(target));
     const js::Class* clasp = js::GetObjectClass(unwrapped);
     bool isCPOW = jsipc::IsWrappedCPOW(unwrapped);
     if (!mozilla::dom::IsDOMClass(clasp) &&
         !IS_WN_CLASS(clasp) &&
         !IS_PROTO_CLASS(clasp) &&
         clasp != &OuterWindowProxyClass &&
         !isCPOW) {
-        return true;
+        // return true;
     }
 
     XPCWrappedNativeScope* scope = ObjectScope(CurrentGlobalOrNull(cx));
     MOZ_ASSERT(scope->HasInterposition());
 
     nsCOMPtr<nsIAddonInterposition> interp = scope->GetInterposition();
     InterpositionWhitelist* wl = XPCWrappedNativeScope::GetInterpositionWhitelist(interp);
     // We do InterposeProperty only if the id is on the whitelist of the interpostion
