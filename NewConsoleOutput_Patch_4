# HG changeset patch
# User Lin Clark <lclark@mozilla.com>
Bug 1306460 - New console frontend: Fix text filtering. r=bgrins,r=nchevobbe



diff --git a/devtools/client/webconsole/new-console-output/selectors/messages.js b/devtools/client/webconsole/new-console-output/selectors/messages.js
index 948d4af..3b559c9 100644
--- a/devtools/client/webconsole/new-console-output/selectors/messages.js
+++ b/devtools/client/webconsole/new-console-output/selectors/messages.js
@@ -94,16 +94,19 @@ function search(messages, text = "") {
       || (message.parameters !== null
           && message.parameters.join("").toLocaleLowerCase()
               .includes(text.toLocaleLowerCase()))
     );
   });
 }
 
 function isTextInFrame(text, frame) {
+  if (!frame) {
+    return false;
+  }
   // @TODO Change this to Object.values once it's supported in Node's version of V8
   return Object.keys(frame)
     .map(key => frame[key])
     .join(":")
     .toLocaleLowerCase()
     .includes(text.toLocaleLowerCase());
 }
 
