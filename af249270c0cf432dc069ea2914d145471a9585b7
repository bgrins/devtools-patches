
# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1543429744 28800
# Node ID af249270c0cf432dc069ea2914d145471a9585b7
# Parent  e3cb278bc8a4dc19b3f3029ed40cb675c349c2ed
Use ASAP mode for various talos tests

diff --git a/testing/talos/talos/test.py b/testing/talos/talos/test.py
--- a/testing/talos/talos/test.py
+++ b/testing/talos/talos/test.py
@@ -121,17 +121,19 @@ class TsBase(Test):
         'reinstall',     # A list of files from the profile directory that
                          # should be copied to the temporary profile prior to
                          # running each cycle, to avoid one cycle overwriting
                          # the data used by the next another cycle (may be used
                          # e.g. for sessionstore.js to ensure that all cycles
                          # use the exact same sessionstore.js, rather than a
                          # more recent copy).
     ]
-
+    """ASAP mode"""
+    preferences = {'layout.frame_rate': 0,
+                   'docshell.event_starvation_delay_hint': 1}
 
 @register_test()
 class ts_paint(TsBase):
     """
     Launches tspaint_test.html with the current timestamp in the url,
     waits for [MozAfterPaint and onLoad] to fire, then records the end
     time and calculates the time to startup.
     """
@@ -1032,8 +1034,12 @@ class about_preferences_basic(Pageloader
     tpcycles = 25
     tppagecycles = 1
     gecko_profile_interval = 1
     gecko_profile_entries = 2000000
     filters = filter.ignore_first.prepare(5) + filter.median.prepare()
     unit = 'ms'
     lower_is_better = True
     fnbpaint = True
+    """ASAP mode"""
+    preferences = {'layout.frame_rate': 0,
+                   'docshell.event_starvation_delay_hint': 1,
+                   'dom.send_after_paint_to_content': False}
