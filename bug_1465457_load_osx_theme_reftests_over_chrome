# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1550707287 28800
#      Wed Feb 20 16:01:27 2019 -0800
# Node ID f07f012da1daeadb558d5fdcbcdf1d67ebac08de
# Parent  b1b785ce48d12028efacae32f65f5ef89549ac0a
Bug 1465457 - Load osx theme reftests over chrome

Differential Revision: https://phabricator.services.mozilla.com/D20586

diff --git a/toolkit/themes/osx/reftests/482681-ref.xul b/layout/reftests/osx-theme/reftests/482681-ref.xul
rename from toolkit/themes/osx/reftests/482681-ref.xul
rename to layout/reftests/osx-theme/reftests/482681-ref.xul
diff --git a/toolkit/themes/osx/reftests/482681.xul b/layout/reftests/osx-theme/reftests/482681.xul
rename from toolkit/themes/osx/reftests/482681.xul
rename to layout/reftests/osx-theme/reftests/482681.xul
diff --git a/toolkit/themes/osx/reftests/baseline.xul b/layout/reftests/osx-theme/reftests/baseline.xul
rename from toolkit/themes/osx/reftests/baseline.xul
rename to layout/reftests/osx-theme/reftests/baseline.xul
diff --git a/toolkit/themes/osx/reftests/checkboxsize-ref.xul b/layout/reftests/osx-theme/reftests/checkboxsize-ref.xul
rename from toolkit/themes/osx/reftests/checkboxsize-ref.xul
rename to layout/reftests/osx-theme/reftests/checkboxsize-ref.xul
diff --git a/toolkit/themes/osx/reftests/checkboxsize.xul b/layout/reftests/osx-theme/reftests/checkboxsize.xul
rename from toolkit/themes/osx/reftests/checkboxsize.xul
rename to layout/reftests/osx-theme/reftests/checkboxsize.xul
diff --git a/toolkit/themes/osx/reftests/nostretch-ref.xul b/layout/reftests/osx-theme/reftests/nostretch-ref.xul
rename from toolkit/themes/osx/reftests/nostretch-ref.xul
rename to layout/reftests/osx-theme/reftests/nostretch-ref.xul
diff --git a/toolkit/themes/osx/reftests/nostretch.xul b/layout/reftests/osx-theme/reftests/nostretch.xul
rename from toolkit/themes/osx/reftests/nostretch.xul
rename to layout/reftests/osx-theme/reftests/nostretch.xul
diff --git a/toolkit/themes/osx/reftests/radiosize-ref.xul b/layout/reftests/osx-theme/reftests/radiosize-ref.xul
rename from toolkit/themes/osx/reftests/radiosize-ref.xul
rename to layout/reftests/osx-theme/reftests/radiosize-ref.xul
diff --git a/toolkit/themes/osx/reftests/radiosize.xul b/layout/reftests/osx-theme/reftests/radiosize.xul
rename from toolkit/themes/osx/reftests/radiosize.xul
rename to layout/reftests/osx-theme/reftests/radiosize.xul
diff --git a/toolkit/themes/osx/reftests/reftest.list b/layout/reftests/osx-theme/reftests/reftest.list
rename from toolkit/themes/osx/reftests/reftest.list
rename to layout/reftests/osx-theme/reftests/reftest.list
--- a/toolkit/themes/osx/reftests/reftest.list
+++ b/layout/reftests/osx-theme/reftests/reftest.list
@@ -1,5 +1,5 @@
-skip-if(!cocoaWidget) == 482681.xul 482681-ref.xul
-skip-if(!cocoaWidget) == radiosize.xul radiosize-ref.xul
-skip-if(!cocoaWidget) == checkboxsize.xul checkboxsize-ref.xul
-skip-if(!cocoaWidget) == baseline.xul about:blank
-skip-if(!cocoaWidget) == nostretch.xul nostretch-ref.xul
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/482681.xul chrome://reftest/content/osx-theme/482681-ref.xul
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/radiosize.xul chrome://reftest/content/osx-theme/radiosize-ref.xul
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/checkboxsize.xul chrome://reftest/content/osx-theme/checkboxsize-ref.xul
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/baseline.xul about:blank
+skip-if(!cocoaWidget) == chrome://reftest/content/osx-theme/nostretch.xul chrome://reftest/content/osx-theme/nostretch-ref.xul
diff --git a/layout/reftests/reftest.list b/layout/reftests/reftest.list
--- a/layout/reftests/reftest.list
+++ b/layout/reftests/reftest.list
@@ -368,17 +368,17 @@ include text-shadow/reftest.list
 
 # text-svgglyphs/
 include text-svgglyphs/reftest.list
 
 # text-transform/
 include text-transform/reftest.list
 
 # theme (osx)
-include ../../toolkit/themes/osx/reftests/reftest.list
+include osx-theme/reftest.list
 
 include ../../toolkit/content/tests/reftests/reftest.list
 
 # -moz-transform/
 # skipping on non-e10s windows because of assertion in bug 1401228
 skip-if(winWidget&&!browserIsRemote) include transform/reftest.list
 
 # 3d transforms
diff --git a/layout/tools/reftest/jar.mn b/layout/tools/reftest/jar.mn
--- a/layout/tools/reftest/jar.mn
+++ b/layout/tools/reftest/jar.mn
@@ -1,11 +1,12 @@
 reftest.jar:
   content/moz-bool-pref.css (../../../layout/reftests/css-parsing/moz-bool-pref.css)
   content/reftest.xul (reftest.xul)
+  content/osx-theme (../../../layout/reftests/osx-theme/*)
 
   res/globals.jsm (globals.jsm)
   res/reftest-content.js (reftest-content.js)
   res/AsyncSpellCheckTestHelper.jsm (../../../editor/AsyncSpellCheckTestHelper.jsm)
   res/httpd.jsm (../../../netwerk/test/httpserver/httpd.js)
   res/StructuredLog.jsm (../../../testing/modules/StructuredLog.jsm)
   res/PerTestCoverageUtils.jsm (../../../tools/code-coverage/PerTestCoverageUtils.jsm)
   res/input.css (../../../editor/reftests/xul/input.css)
