# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  b0ae961951f59c840a57561894ff77d35a94d0ee
Bug 1164952 - Fix transparent window background in Dev Edition theme for Windows 7 classic mode;r=Gijs

diff --git a/browser/themes/windows/devedition.css b/browser/themes/windows/devedition.css
--- a/browser/themes/windows/devedition.css
+++ b/browser/themes/windows/devedition.css
@@ -5,16 +5,27 @@
 %include ../shared/devedition.inc.css
 
 :root[devtoolstheme="dark"],
 :root[devtoolstheme="light"] {
    /* Matches the #browser-border-start, #browser-border-end color */
   --chrome-nav-bar-separator-color: rgba(10, 31, 51, 0.35);
 }
 
+@media not all and (-moz-windows-compositor) {
+  /* The window needs to have *some* background in order for dragging to work properly.
+     It won't be visible since the titlebar will be covering it up. */
+  #main-window {
+    background: white !important;
+  }
+  #main-window[tabsintitlebar] #titlebar:-moz-lwtheme {
+    visibility: visible;
+  }
+}
+
 #TabsToolbar::after {
   display: none;
 }
 
 #back-button > .toolbarbutton-icon,
 #forward-button > .toolbarbutton-icon {
   background: var(--chrome-nav-buttons-background) !important;
   border-radius: 0 !important;
