# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  c6d9781db3871b64948117e90a0e7f70202cb489
Bug 1243598 - Force height and width values for sidebar tabs in inspector;r=gl

Since these are no longer contained within iframes, there is some weird interaction
between XUL and CSS flex.  Setting display block and then using these values seems
to work around the problem.

diff --git a/devtools/client/themes/inspector.css b/devtools/client/themes/inspector.css
--- a/devtools/client/themes/inspector.css
+++ b/devtools/client/themes/inspector.css
@@ -11,16 +11,32 @@
 :root[platform="mac"] #inspector-toolbar:-moz-locale-dir(rtl) {
   padding-left: 4px;
 }
 
 #inspector-searchlabel {
   overflow: hidden;
 }
 
+/* Ever since Bug 1238133, sidebar tabs are not in iframes. This is causing
+   weirdness with XUL flex and CSS flex.  This is the best fix we've found
+   so far short of moving things back into frames (see Bug 1243598). */
+#inspector-sidebar {
+  display: block;
+  background-color: var(--theme-toolbar-background);
+}
+#inspector-sidebar > stack {
+  height: 24px;
+  width: 100%;
+}
+#inspector-sidebar > tabpanels {
+  height: calc(100vh - 24px);
+  width: 100%;
+}
+
 #inspector-searchbox {
   transition-property: max-width, -moz-padding-end, -moz-padding-start;
   transition-duration: 250ms;
   transition-timing-function: ease;
 }
 
 #inspector-searchbox:not([focused]):not([filled]) > .textbox-input-box {
   overflow: hidden;
