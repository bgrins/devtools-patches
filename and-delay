# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  d1462191d2aaf5b5e5685a8f41c408de98613a4d

diff --git a/toolkit/content/widgets/panel.js b/toolkit/content/widgets/panel.js
--- a/toolkit/content/widgets/panel.js
+++ b/toolkit/content/widgets/panel.js
@@ -17,25 +17,20 @@
       this.addEventListener("popupshowing", this);
       this.addEventListener("popupshown", this);
       this.addEventListener("popuphiding", this);
       this.addEventListener("popuphidden", this);
       this.addEventListener("popuppositioned", this);
     }
 
     connectedCallback() {
-      if (!this.isArrowPanel || this.shadowRoot) {
+      if (this.delayConnectedCallback() || !this.isArrowPanel || this.shadowRoot) {
         return;
       }
 
-      // if (!this.isArrowPanel) {
-      //   this.shadowRoot.appendChild(document.createElement("slot"));
-      //   return;
-      // }
-
       if (!this.hasAttribute("flip")) {
         this.setAttribute("flip", "both");
       }
       if (!this.hasAttribute("side")) {
         this.setAttribute("side", "top");
       }
       if (!this.hasAttribute("position")) {
         this.setAttribute("position", "bottomcenter topleft");
