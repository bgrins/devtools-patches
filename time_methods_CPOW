# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  64a06fbc559d953d09d2681114b5e5ec6495416a
Bug 1237124 - Remove CPOW usage in browser_webconsole_bug_658368_time_methods.js;r=linclark

diff --git a/devtools/client/webconsole/test/browser_webconsole_bug_658368_time_methods.js b/devtools/client/webconsole/test/browser_webconsole_bug_658368_time_methods.js
--- a/devtools/client/webconsole/test/browser_webconsole_bug_658368_time_methods.js
+++ b/devtools/client/webconsole/test/browser_webconsole_bug_658368_time_methods.js
@@ -40,28 +40,32 @@ add_task(function* () {
   let { browser } = yield loadTab(TEST_URI2);
   let hud2 = yield openConsole();
 
   testLogEntry(hud2.outputNode, "bTimer: timer started",
                "bTimer was not started", false, true);
 
   // The next test makes sure that timers with the same name but in separate
   // pages, do not contain the same value.
-  content.location = TEST_URI3;
+  ContentTask.spawn(gBrowser.selectedBrowser, TEST_URI3, function*(location) {
+    content.location = location;
+  });
 
   yield waitForMessages({
     webconsole: hud2,
     messages: [{
       name: "bTimer started",
       consoleTime: "bTimer",
     }],
   });
 
   hud2.jsterm.clearOutput();
 
   // Now the following console.timeEnd() call shouldn't display anything,
   // if the timers in different pages are not related.
-  content.location = TEST_URI4;
+  ContentTask.spawn(gBrowser.selectedBrowser, TEST_URI4, function*(location) {
+    content.location = location;
+  });
   yield loadBrowser(browser);
 
   testLogEntry(hud2.outputNode, "bTimer: timer started",
                "bTimer was not started", false, true);
 });
