# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  73b1a712ed9fafb0ad9ba8a0d086adb0f12d3094
Bug 1314091 - We don't need to use inferBrightness anymore since the lwt colors are part of the definition

This is the same reason we can back out the _updateLWTBrightness patch earlier in the series.
The compact themes are now split into two, instead of the devedition theme which was a single
lwt that could be either dark or light.

MozReview-Commit-ID: 4gKU68drlE2

diff --git a/browser/base/content/browser-compacttheme.js b/browser/base/content/browser-compacttheme.js
--- a/browser/base/content/browser-compacttheme.js
+++ b/browser/base/content/browser-compacttheme.js
@@ -58,41 +58,28 @@ var DevEdition = {
         this._toggleStyleSheet(newTheme.id);
       } else {
         this._toggleStyleSheet(null);
       }
 
     }
   },
 
-  _inferBrightness() {
-    ToolbarIconColor.inferFromText();
-
-    if (this.isStyleSheetEnabled) {
-      if (this.isCurrentThemeIdDark) {
-        document.documentElement.setAttribute("brighttitlebarforeground", "true");
-      } else {
-        document.documentElement.removeAttribute("brighttitlebarforeground");
-      }
-    }
-  },
-
   handleEvent(e) {
     if (e.type === "load") {
       this.styleSheet.removeEventListener("load", this);
       this.refreshBrowserDisplay();
     }
   },
 
   refreshBrowserDisplay() {
     // Don't touch things on the browser if gBrowserInit.onLoad hasn't
     // yet fired.
     if (this.initialized) {
       gBrowser.tabContainer._positionPinnedTabs();
-      this._inferBrightness();
     }
   },
 
   _toggleStyleSheet(currentThemeId) {
     let wasEnabled = this.isStyleSheetEnabled;
     if (currentThemeId) {
       // If this is called at startup, we haven't had a chance to set currentThemeId.
       // We only get here in this case if LightweightThemeManager.currentTheme is already
