# HG changeset patch
# User Lin Clark <lclark@mozilla.com>
Bug 1306775 - New console frontend: Fix classes on page errors and console commands. r=me


diff --git a/devtools/client/webconsole/new-console-output/components/message-types/console-command.js b/devtools/client/webconsole/new-console-output/components/message-types/console-command.js
index 25f389b..9a1c26d 100644
--- a/devtools/client/webconsole/new-console-output/components/message-types/console-command.js
+++ b/devtools/client/webconsole/new-console-output/components/message-types/console-command.js
@@ -30,15 +30,16 @@ function ConsoleCommand(props) {
     level,
     messageText: messageBody,
   } = props.message;
 
   const childProps = {
     source,
     type,
     level,
+    topLevelClasses: [],
     messageBody,
     scrollToMessage: props.autoscroll,
   };
   return Message(childProps);
 }
 
 module.exports = ConsoleCommand;
diff --git a/devtools/client/webconsole/new-console-output/components/message-types/page-error.js b/devtools/client/webconsole/new-console-output/components/message-types/page-error.js
index 51ca868..abf81e8 100644
--- a/devtools/client/webconsole/new-console-output/components/message-types/page-error.js
+++ b/devtools/client/webconsole/new-console-output/components/message-types/page-error.js
@@ -28,30 +28,32 @@ function PageError(props) {
   const {
     message,
     open,
     sourceMapService,
     onViewSourceInDebugger
   } = props;
   const {
     id: messageId,
-    source, type,
+    source,
+    type,
     level,
     messageText: messageBody,
     repeat,
     stacktrace,
     frame
   } = message;
 
   const childProps = {
     messageId,
     open,
     source,
     type,
     level,
+    topLevelClasses: [],
     messageBody,
     repeat,
     frame,
     stacktrace,
     onViewSourceInDebugger,
     sourceMapService,
   };
   return Message(childProps);
diff --git a/devtools/client/webconsole/new-console-output/components/message.js b/devtools/client/webconsole/new-console-output/components/message.js
index 34b6628..cc0df8c22 100644
--- a/devtools/client/webconsole/new-console-output/components/message.js
+++ b/devtools/client/webconsole/new-console-output/components/message.js
@@ -23,34 +23,28 @@ const StackTrace = createFactory(require("devtools/client/shared/components/stac
 const Message = createClass({
   displayName: "Message",
 
   propTypes: {
     open: PropTypes.bool,
     source: PropTypes.string.isRequired,
     type: PropTypes.string.isRequired,
     level: PropTypes.string.isRequired,
-    topLevelClasses: PropTypes.array,
+    topLevelClasses: PropTypes.array.isRequired,
     messageBody: PropTypes.any.isRequired,
     repeat: PropTypes.any,
     frame: PropTypes.any,
     attachment: PropTypes.any,
     stacktrace: PropTypes.any,
     messageId: PropTypes.string,
     scrollToMessage: PropTypes.bool,
     onViewSourceInDebugger: PropTypes.func,
     sourceMapService: PropTypes.any,
   },
 
-  getDefaultProps() {
-    return {
-      topLevelClasses: [],
-    };
-  },
-
   componentDidMount() {
     if (this.props.scrollToMessage && this.messageNode) {
       this.messageNode.scrollIntoView();
     }
   },
 
   render() {
     const {
