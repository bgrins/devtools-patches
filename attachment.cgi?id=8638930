# HG changeset patch
# User Lin Clark <lin.w.clark@gmail.com>
Bug 976559 Splitter in narrow-width style editor is inconsistent with other panels. r=bgrins


diff --git a/browser/devtools/shared/SplitView.jsm b/browser/devtools/shared/SplitView.jsm
index 5e6322e..b480f9e 100644
--- a/browser/devtools/shared/SplitView.jsm
+++ b/browser/devtools/shared/SplitView.jsm
@@ -3,17 +3,17 @@
  * License, v. 2.0. If a copy of the MPL was not distributed with this
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 "use strict";
 
 this.EXPORTED_SYMBOLS = ["SplitView"];
 
 /* this must be kept in sync with CSS (ie. splitview.css) */
-const LANDSCAPE_MEDIA_QUERY = "(min-width: 551px)";
+const LANDSCAPE_MEDIA_QUERY = "(min-width: 701px)";
 
 let bindings = new WeakMap();
 
 /**
  * SplitView constructor
  *
  * Initialize the split view UI on an existing DOM element.
  *
diff --git a/browser/devtools/shared/splitview.css b/browser/devtools/shared/splitview.css
index 38e35e5..de9c4e3 100644
--- a/browser/devtools/shared/splitview.css
+++ b/browser/devtools/shared/splitview.css
@@ -38,22 +38,18 @@ box,
 /* only the active details pane is shown */
 .splitview-side-details > * {
   display: none;
 }
 .splitview-side-details > .splitview-active {
   display: -moz-box;
 }
 
-.splitview-landscape-resizer {
-  cursor: ew-resize;
-}
-
 /* this is to keep in sync with SplitView.jsm's LANDSCAPE_MEDIA_QUERY */
-@media (min-width: 551px) {
+@media (min-width: 701px) {
   .splitview-root {
     -moz-box-orient: horizontal;
   }
   .splitview-controller {
     max-height: none;
   }
   .splitview-details {
     display: none;
@@ -74,26 +70,14 @@ ol.splitview-nav > li.splitview-filtered {
 .splitview-nav + .splitview-nav.placeholder {
   display: none;
 }
 .splitview-nav.splitview-all-filtered ~ .splitview-nav.placeholder.all-filtered,
 .splitview-nav:empty ~ .splitview-nav.placeholder.empty {
   display: -moz-box;
 }
 
-.splitview-portrait-resizer {
-  display: none;
-}
-
 /* portrait mode */
-@media (max-width: 550px) {
-  .splitview-landscape-splitter {
-    display: none;
-  }
-
-  .splitview-portrait-resizer {
-    display: -moz-box;
-  }
-
+@media (max-width: 700px) {
   .splitview-controller {
     max-width: none;
   }
 }
diff --git a/browser/devtools/styleeditor/styleeditor.xul b/browser/devtools/styleeditor/styleeditor.xul
index 168bc1c..920cd9d 100644
--- a/browser/devtools/styleeditor/styleeditor.xul
+++ b/browser/devtools/styleeditor/styleeditor.xul
@@ -86,17 +86,17 @@
     <xul:command id="cmd_find" oncommand="goDoCommand('cmd_find')"/>
     <xul:command id="cmd_findAgain" oncommand="goDoCommand('cmd_findAgain')"/>
   </xul:commandset>
 
   <xul:keyset id="sourceEditorKeys"/>
 
   <xul:stack id="style-editor-chrome" class="loading theme-body">
 
-    <xul:box class="splitview-root" context="sidebar-context">
+    <xul:box class="splitview-root devtools-responsive-container" context="sidebar-context">
       <xul:box class="splitview-controller">
         <xul:box class="splitview-main">
           <xul:toolbar class="devtools-toolbar">
              <xul:hbox class="devtools-toolbarbutton-group">
               <xul:toolbarbutton class="style-editor-newButton devtools-toolbarbutton"
                           accesskey="&newButton.accesskey;"
                           tooltiptext="&newButton.tooltip;"
                           label="&newButton.label;"/>
@@ -120,17 +120,17 @@
             <p><strong>&noStyleSheet.label;</strong></p>
             <p>&noStyleSheet-tip-start.label;
               <a href="#"
                 class="style-editor-newButton">&noStyleSheet-tip-action.label;</a>
               &noStyleSheet-tip-end.label;</p>
           </div>
         </xul:box> <!-- .splitview-nav-container -->
       </xul:box>   <!-- .splitview-controller -->
-      <xul:splitter class="devtools-side-splitter splitview-landscape-splitter devtools-invisible-splitter"/>
+      <xul:splitter class="devtools-side-splitter devtools-invisible-splitter"/>
       <xul:box class="splitview-side-details devtools-main-content"/>
 
       <div id="splitview-templates" hidden="true">
         <li id="splitview-tpl-summary-stylesheet" tabindex="0">
           <xul:label class="stylesheet-enabled" tabindex="0"
             tooltiptext="&visibilityToggle.tooltip;"
             accesskey="&saveButton.accesskey;"></xul:label>
           <hgroup class="stylesheet-info">
@@ -143,19 +143,16 @@
               <h3><xul:label class="stylesheet-saveButton"
                     tooltiptext="&saveButton.tooltip;"
                     accesskey="&saveButton.accesskey;">&saveButton.label;</xul:label></h3>
             </div>
           </hgroup>
         </li>
 
         <xul:box id="splitview-tpl-details-stylesheet" class="splitview-details">
-          <xul:resizer class="splitview-portrait-resizer"
-                      dir="bottom"
-                      element="splitview-resizer-target"/>
           <xul:hbox class="stylesheet-details-container">
             <xul:box class="stylesheet-editor-input textbox"
                      data-placeholder="&editorTextbox.placeholder;"/>
             <xul:splitter class="devtools-side-splitter"/>
             <xul:vbox class="stylesheet-sidebar theme-sidebar" hidden="true">
               <xul:toolbar class="devtools-toolbar">
                 &mediaRules.label;
               </xul:toolbar>
diff --git a/browser/themes/shared/devtools/splitview.css b/browser/themes/shared/devtools/splitview.css
index b5f2f50..4756122 100644
--- a/browser/themes/shared/devtools/splitview.css
+++ b/browser/themes/shared/devtools/splitview.css
@@ -135,25 +135,8 @@
 
 .splitview-main > .devtools-toolbarbutton {
   font-size: 11px;
   padding: 0 8px;
   width: auto;
   min-width: 48px;
   min-height: 0;
 }
-
-
-/* Resizers */
-
-.splitview-portrait-resizer {
-  -moz-appearance: none;
-  background: linear-gradient(black 1px, rgba(255,255,255,0.2) 1px),
-              linear-gradient(hsl(210,11%,36%), hsl(210,11%,18%));
-  height: 12px;
-  background-size: 10px 2px, 100% 12px;
-  background-clip: content-box, border-box;
-  background-repeat: repeat-y, no-repeat;
-  background-position: center center;
-  padding: 2px 0;
-  border-top: 1px solid hsla(210,8%,5%,.5);
-  border-bottom: 1px solid hsla(210,8%,5%,.5);
-}
