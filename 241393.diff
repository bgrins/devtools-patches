# HG changeset patch
# User J. Ryan Stinnett <jryans@gmail.com>
# Date 1430232120 25200
#      Tue Apr 28 07:42:00 2015 -0700
# Node ID c4b9cd6ce2e0eaebfebaad1b691009a8125828eb
# Parent  7fb2cd99356ed645465689995d303b76e29f3805
Bug 1157906 - Can't return arrays as a root response, fixes inspect button. r=bgrins

diff --git a/toolkit/devtools/server/actors/gcli.js b/toolkit/devtools/server/actors/gcli.js
--- a/toolkit/devtools/server/actors/gcli.js
+++ b/toolkit/devtools/server/actors/gcli.js
@@ -95,17 +95,19 @@ const GcliActor = ActorClass({
   specs: method(function(customProps) {
     return this._getRequisition().then(requisition => {
       return requisition.system.commands.getCommandSpecs(customProps);
     });
   }, {
     request: {
       customProps: Arg(0, "nullable:array:string")
     },
-    response: RetVal("json")
+    response: {
+      value: RetVal("array:json")
+    }
   }),
 
   /**
    * Execute a GCLI command
    * @return a promise of an object with the following properties:
    * - data: The output of the command
    * - type: The type of the data to allow selection of a converter
    * - error: True if the output was considered an error
