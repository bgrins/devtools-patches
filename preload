# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  27bc2257f0274de205d10b1f3a6149492bd7117f

diff --git a/browser/base/content/browser.xul b/browser/base/content/browser.xul
--- a/browser/base/content/browser.xul
+++ b/browser/base/content/browser.xul
@@ -76,16 +76,33 @@
         macanimationtype="document"
         screenX="4" screenY="4"
         fullscreenbutton="true"
         sizemode="normal"
         retargetdocumentfocus="urlbar"
         persist="screenX screenY width height sizemode"
         >
 
+#ifdef BROWSER_XHTML
+<head>
+<link rel="preload" as="image" href="chrome://browser/skin/arrow-left.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/add.svg" />
+<link rel="preload" as="image" href="chrome://global/skin/icons/arrow-dropdown-16.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/forward.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/reload.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/home.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/search-glass.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/library.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/sidebars.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/menu.svg" />
+<link rel="preload" as="image" href="chrome://browser/skin/chevron.svg" />
+<link rel="preload" as="image" href="chrome://mozapps/skin/places/defaultFavicon.svg" />
+</head>
+#endif
+
 <vbox id="wrapper" xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
 #ifdef BROWSER_XHTML
       hidden="true"
 #endif
       flex="1">
 
 # All JS files which are needed by browser.xul and other top level windows to
 # support MacOS specific features *must* go into the global-scripts.inc file so
diff --git a/modules/libpref/init/all.js b/modules/libpref/init/all.js
--- a/modules/libpref/init/all.js
+++ b/modules/libpref/init/all.js
@@ -2172,17 +2172,17 @@ pref("network.standard-url.punycode-host
 
 // Idle timeout for ftp control connections - 5 minute default
 pref("network.ftp.idleConnectionTimeout", 300);
 
 // enables the prefetch service (i.e., prefetching of <link rel="next"> and
 // <link rel="prefetch"> URLs).
 pref("network.prefetch-next", true);
 // enables the preloading (i.e., preloading of <link rel="preload"> URLs).
-pref("network.preload", false);
+pref("network.preload", true);
 
 // The following prefs pertain to the negotiate-auth extension (see bug 17578),
 // which provides transparent Kerberos or NTLM authentication using the SPNEGO
 // protocol.  Each pref is a comma-separated list of keys, where each key has
 // the format:
 //   [scheme "://"] [host [":" port]]
 // For example, "foo.com" would match "http://www.foo.com/bar", etc.
 
