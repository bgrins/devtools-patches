# HG changeset patch
# Parent 7d04d18f5eeba956af00fb37e008b266f61503f6
# User Heather Arthur <fayearthur@gmail.com>

diff --git a/browser/devtools/styleeditor/StyleEditorUI.jsm b/browser/devtools/styleeditor/StyleEditorUI.jsm
--- a/browser/devtools/styleeditor/StyleEditorUI.jsm
+++ b/browser/devtools/styleeditor/StyleEditorUI.jsm
@@ -397,23 +397,16 @@ StyleEditorUI.prototype = {
         editor: editor
       },
       disableAnimations: this._alwaysDisableAnimations,
       ordinal: editor.styleSheet.styleSheetIndex,
       onCreate: function(summary, details, data) {
         let editor = data.editor;
         editor.summary = summary;
 
-        wire(summary, ".stylesheet-enabled", function onToggleDisabled(event) {
-          event.stopPropagation();
-          event.target.blur();
-
-          editor.toggleDisabled();
-        });
-
         wire(summary, ".stylesheet-name", {
           events: {
             "keypress": function onStylesheetNameActivate(aEvent) {
               if (aEvent.keyCode == aEvent.DOM_VK_RETURN) {
                 this._view.activeSummary = summary;
               }
             }.bind(this)
           }
@@ -634,28 +627,29 @@ StyleEditorUI.prototype = {
     }
     if (editor.linkedCSSFileError) {
       flags.push("linked-file-error");
     }
     this._view.setItemClassName(summary, flags.join(" "));
 
     let label = summary.querySelector(".stylesheet-name > label");
     label.setAttribute("value", editor.friendlyName);
+
+    let tooltipText = "";
     if (editor.styleSheet.href) {
-      label.setAttribute("tooltiptext", editor.styleSheet.href);
+      tooltipText += editor.styleSheet.href + " - ";
     }
+    tooltipText += PluralForm.get(ruleCount, _("ruleCount.label")).replace("#1", ruleCount)
+    label.setAttribute("tooltiptext", tooltipText);
 
     let linkedCSSFile = "";
     if (editor.linkedCSSFile) {
       linkedCSSFile = OS.Path.basename(editor.linkedCSSFile);
     }
     text(summary, ".stylesheet-linked-file", linkedCSSFile);
-    text(summary, ".stylesheet-title", editor.styleSheet.title || "");
-    text(summary, ".stylesheet-rule-count",
-      PluralForm.get(ruleCount, _("ruleCount.label")).replace("#1", ruleCount));
   },
 
   destroy: function() {
     this._clearStyleSheetEditors();
 
     this._prefObserver.off(PREF_ORIG_SOURCES, this._onNewDocument);
     this._prefObserver.destroy();
   }
diff --git a/browser/devtools/styleeditor/styleeditor.css b/browser/devtools/styleeditor/styleeditor.css
--- a/browser/devtools/styleeditor/styleeditor.css
+++ b/browser/devtools/styleeditor/styleeditor.css
@@ -15,105 +15,55 @@
   -moz-box-orient: horizontal;
 }
 
 .csscoverage-report-container {
   overflow-x: hidden;
   overflow-y: auto;
 }
 
-.stylesheet-error-message {
-  display: none;
-}
-
-li.error > .stylesheet-info > .stylesheet-more  > .stylesheet-error-message {
-  display: block;
-}
-
-.splitview-nav > li,
-.stylesheet-info,
-.stylesheet-more {
-  display: -moz-box;
-}
-
-.splitview-nav > li {
-  -moz-box-orient: horizontal;
-}
-
-.splitview-nav > li > hgroup {
-  display: -moz-box;
-  -moz-box-orient: vertical;
-  -moz-box-flex: 1;
-}
-
-.stylesheet-info > h1 {
-  -moz-box-flex: 1;
-}
-
 .stylesheet-name > label {
   display: inline;
   cursor: pointer;
 }
 
-.splitview-nav > li > hgroup.stylesheet-info {
-  -moz-box-pack: center;
-}
-
 .stylesheet-name {
   white-space: nowrap;
 }
 
-li.unsaved > hgroup > h1 > .stylesheet-name:before {
+li.unsaved > .stylesheet-info > .stylesheet-name:before {
   content: "*";
 }
 
 li.linked-file-error .stylesheet-linked-file {
   text-decoration: line-through;
 }
 
 li.linked-file-error .stylesheet-linked-file:after {
   content: " ✘";
 }
 
-li.linked-file-error .stylesheet-rule-count {
-  visibility: hidden;
-}
-
 .stylesheet-linked-file:not(:empty):before {
   content: " ↳ ";
 }
 
-.stylesheet-enabled {
-  display: -moz-box;
-  cursor: pointer;
-}
-
 .stylesheet-saveButton {
   display: none;
+  float: right;
   margin-top: 0px;
   margin-bottom: 0px;
 }
 
-.stylesheet-rule-count,
-li.splitview-active > hgroup > .stylesheet-more > h3 > .stylesheet-saveButton,
-li:hover > hgroup > .stylesheet-more > h3 > .stylesheet-saveButton {
-  display: -moz-box;
-}
-
-.stylesheet-more > spacer {
-  -moz-box-flex: 1;
+li.splitview-active .stylesheet-saveButton,
+li:hover .stylesheet-saveButton {
+  display: block;
 }
 
 /* portrait mode */
 @media (max-width: 550px) {
-  li.splitview-active > hgroup > .stylesheet-more > .stylesheet-rule-count,
-  li:hover > hgroup > .stylesheet-more > .stylesheet-rule-count {
-    display: none;
-  }
-
   .stylesheet-more {
     -moz-box-flex: 1;
     -moz-box-pack: end;
   }
 
   .splitview-nav > li > hgroup.stylesheet-info {
     -moz-box-orient: horizontal;
     -moz-box-flex: 1;
diff --git a/browser/devtools/styleeditor/styleeditor.xul b/browser/devtools/styleeditor/styleeditor.xul
--- a/browser/devtools/styleeditor/styleeditor.xul
+++ b/browser/devtools/styleeditor/styleeditor.xul
@@ -102,31 +102,25 @@
           </div>
         </xul:box> <!-- .splitview-nav-container -->
       </xul:box>   <!-- .splitview-controller -->
       <xul:splitter class="devtools-side-splitter splitview-landscape-splitter devtools-invisible-splitter"/>
       <xul:box class="splitview-side-details"/>
 
       <div id="splitview-templates" hidden="true">
         <li id="splitview-tpl-summary-stylesheet" tabindex="0">
-          <xul:label class="stylesheet-enabled" tabindex="0"
-            tooltiptext="&visibilityToggle.tooltip;"
-            accesskey="&saveButton.accesskey;"></xul:label>
-          <hgroup class="stylesheet-info">
-            <h1><a class="stylesheet-name" tabindex="0"><xul:label crop="start"/></a></h1>
-            <div class="stylesheet-more">
-              <h3 class="stylesheet-title"></h3>
-              <h3 class="stylesheet-linked-file"></h3>
-              <h3 class="stylesheet-rule-count"></h3>
-              <xul:spacer/>
-              <h3><xul:label class="stylesheet-saveButton"
-                    tooltiptext="&saveButton.tooltip;"
-                    accesskey="&saveButton.accesskey;">&saveButton.label;</xul:label></h3>
-            </div>
-          </hgroup>
+          <div class="stylesheet-info">
+            <a class="stylesheet-name" tabindex="0"><xul:label crop="start"/></a>
+            <xul:label class="stylesheet-saveButton"
+                       tooltiptext="&saveButton.tooltip;"
+                       accesskey="&saveButton.accesskey;">
+              &saveButton.label;
+            </xul:label>
+          </div>
+          <div class="stylesheet-linked-file"></div>
         </li>
 
         <xul:box id="splitview-tpl-details-stylesheet" class="splitview-details">
           <xul:resizer class="splitview-portrait-resizer"
                       dir="bottom"
                       element="splitview-resizer-target"/>
           <xul:box class="stylesheet-editor-input textbox"
                   data-placeholder="&editorTextbox.placeholder;"/>
diff --git a/browser/themes/shared/devtools/styleeditor.css b/browser/themes/shared/devtools/styleeditor.css
--- a/browser/themes/shared/devtools/styleeditor.css
+++ b/browser/themes/shared/devtools/styleeditor.css
@@ -46,153 +46,92 @@
   margin: 0;
   padding: 0;
   border-radius: 0;
   border-top: none;
   border-bottom: none;
   -moz-border-start: none;
 }
 
-.stylesheet-title,
+.splitview-nav > li {
+  padding: 0.4em;
+}
+
 .stylesheet-name {
   text-decoration: none;
 }
 
-.stylesheet-name {
-  font-size: 13px;
-}
-
-.theme-dark .stylesheet-title,
 .theme-dark .stylesheet-name {
   color: #f5f7fa;
 }
 
-.theme-dark .stylesheet-rule-count,
 .theme-dark .stylesheet-linked-file,
 .theme-dark .stylesheet-saveButton {
   color: #b6babf;
 }
 
-.theme-light .stylesheet-title,
 .theme-light .stylesheet-name {
   color: #585959;
 }
 
-.theme-light .stylesheet-rule-count,
 .theme-light .stylesheet-linked-file,
 .theme-light .stylesheet-saveButton {
   color: #18191a;
 }
 
 .stylesheet-saveButton {
   text-decoration: underline;
   cursor: pointer;
 }
 
-.splitview-active .stylesheet-title,
 .splitview-active .stylesheet-name,
-.theme-light .splitview-active .stylesheet-rule-count,
 .theme-light .splitview-active .stylesheet-linked-file,
 .theme-light .splitview-active .stylesheet-saveButton {
   color: #f5f7fa;
 }
 
 .splitview-nav:focus {
   outline: 0; /* focus ring is on the stylesheet name */
 }
 
-.splitview-nav > li.unsaved > hgroup .stylesheet-name {
+.splitview-nav > li.unsaved .stylesheet-name {
   font-style: italic;
 }
 
-.splitview-nav:-moz-locale-dir(ltr) > li.unsaved > hgroup .stylesheet-name:before,
-.splitview-nav:-moz-locale-dir(rtl) > li.unsaved > hgroup .stylesheet-name:after {
+.splitview-nav:-moz-locale-dir(ltr) > li.unsaved .stylesheet-name:before,
+.splitview-nav:-moz-locale-dir(rtl) > li.unsaved .stylesheet-name:after {
   font-style: italic;
 }
 
 .splitview-nav.empty > p {
   padding: 0 10px;
 }
 
-.stylesheet-enabled {
-  padding: 8px 0;
-  margin: 0 8px;
-  background-image: url(itemToggle.png);
-  background-repeat: no-repeat;
-  background-clip: content-box;
-  background-position: 0 8px;
-  width: 24px;
-  height: 40px;
-}
-
-.disabled > .stylesheet-enabled {
-  background-position: -24px 8px;
-}
-
-/* Invert all toggle icons but the one in the active row for light theme */
-.theme-light .splitview-nav > li:not(.splitview-active) .stylesheet-enabled {
-  filter: url(filters.svg#invert);
-}
-
-.splitview-nav > li > .stylesheet-enabled:focus,
-.splitview-nav > li:hover > .stylesheet-enabled {
-  outline: 0;
-}
-
-.stylesheet-linked-file:not(:empty){
+.stylesheet-linked-file:not(:empty) {
   -moz-margin-end: 0.4em;
 }
 
 .stylesheet-linked-file:not(:empty):before {
   -moz-margin-start: 0.4em;
 }
 
 li.linked-file-error .stylesheet-linked-file:after {
   font-size: 110%;
 }
 
-.stylesheet-more > h3 {
-  font-size: 11px;
-  -moz-margin-end: 2px;
-}
-
-.devtools-searchinput {
-  max-width: 25ex;
-  font-size: 11px;
-}
-
 .placeholder a {
   text-decoration: underline;
 }
 
-h1,
-h2,
-h3 {
-  font-size: inherit;
-  font-weight: normal;
-  margin: 0;
-  padding: 0;
-}
-
 /* portrait mode */
 @media (max-width: 550px) {
   .splitview-nav {
     box-shadow: none;
   }
 
   .splitview-nav > li.splitview-active {
     background-size: 0 0, 0 0, auto;
   }
 
-  .stylesheet-enabled {
-    padding: 0;
-    background-position: 0 0;
-    height: 24px;
-  }
-
-  .disabled > .stylesheet-enabled {
-    background-position: -24px 0;
-  }
-
-  .splitview-nav > li > hgroup.stylesheet-info {
+  .splitview-nav > li > .stylesheet-info {
     -moz-box-align: baseline;
   }
 }
