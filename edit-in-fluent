# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  b0111088608390a0ab4baa3727e5e6fb06cd9f31
Bug 1469339 - Put strings needed for the edit context menu into ftl at toolkit/locales;r=flod

This also registers the locale through the build system and browser glue since
it's the first ftl file in toolkit/.

diff --git a/browser/components/nsBrowserGlue.js b/browser/components/nsBrowserGlue.js
--- a/browser/components/nsBrowserGlue.js
+++ b/browser/components/nsBrowserGlue.js
@@ -753,16 +753,19 @@ BrowserGlue.prototype = {
     }, {
       useInDarkMode: true
     });
 
     Normandy.init();
 
     // Initialize the default l10n resource sources for L10nRegistry.
     let locales = Services.locale.getPackagedLocales();
+    const greSource = new FileSource("toolkit", locales, "resource://gre/localization/{locale}/");
+    L10nRegistry.registerSource(greSource);
+
     const appSource = new FileSource("app", locales, "resource://app/localization/{locale}/");
     L10nRegistry.registerSource(appSource);
 
     Services.obs.notifyObservers(null, "browser-ui-startup-complete");
   },
 
   _checkForOldBuildUpdates() {
     // check for update if our build is old
diff --git a/toolkit/locales/en-US/toolkit/main-window/editmenu.ftl b/toolkit/locales/en-US/toolkit/main-window/editmenu.ftl
new file mode 100644
--- /dev/null
+++ b/toolkit/locales/en-US/toolkit/main-window/editmenu.ftl
@@ -0,0 +1,30 @@
+### This file contains the entities needed for the 'edit' menu
+### It's currently only used for the Browser Console
+
+editmenu-undo
+    .label = Undo
+    .accesskey = U
+
+editmenu-redo
+    .label = Redo
+    .accesskey = R
+
+editmenu-cut
+    .label = Cut
+    .accesskey = t
+
+editmenu-copy
+    .label = Copy
+    .accesskey = C
+
+editmenu-paste
+    .label = Paste
+    .accesskey = P
+
+editmenu-delete
+    .label = Delete
+    .accesskey = D
+
+editmenu-select-all
+    .label = Select All
+    .accesskey = A
diff --git a/toolkit/locales/jar.mn b/toolkit/locales/jar.mn
--- a/toolkit/locales/jar.mn
+++ b/toolkit/locales/jar.mn
@@ -1,13 +1,15 @@
 #filter substitution
 # This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+[localization] @AB_CD@.jar:
+  toolkit                                          (%toolkit/**/*.ftl)
 
 @AB_CD@.jar:
 % locale global @AB_CD@ %locale/@AB_CD@/global/
   locale/@AB_CD@/global/aboutAbout.dtd                  (%chrome/global/aboutAbout.dtd)
   locale/@AB_CD@/global/aboutReader.properties          (%chrome/global/aboutReader.properties)
   locale/@AB_CD@/global/aboutRights.dtd                 (%chrome/global/aboutRights.dtd)
   locale/@AB_CD@/global/aboutNetworking.dtd             (%chrome/global/aboutNetworking.dtd)
 #ifndef ANDROID
