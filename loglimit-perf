# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  df9beb781895fcd0493c21e95ad313e0044515ec
Bug 1390176 - Fix the jsterm stub in test_render_perf;r=nchevobbe

MozReview-Commit-ID: 8qYIthlQtXa

diff --git a/devtools/client/webconsole/new-console-output/test/chrome/test_render_perf.html b/devtools/client/webconsole/new-console-output/test/chrome/test_render_perf.html
--- a/devtools/client/webconsole/new-console-output/test/chrome/test_render_perf.html
+++ b/devtools/client/webconsole/new-console-output/test/chrome/test_render_perf.html
@@ -14,17 +14,17 @@
 
 <script type="text/javascript">
 "use strict";
 
 // To analyze the profile results:
 // > ./mach mochitest test_render_perf.html
 // Then open https://perf-html.io and drag the json file printed at the end of this test
 
-const NUM_MESSAGES = 4000;
+const NUM_MESSAGES = 10000;
 const NUM_STREAMING = 100;
 Components.utils.import("resource://gre/modules/FileUtils.jsm");
 const Services = browserRequire("Services");
 Services.prefs.setIntPref("devtools.hud.loglimit", NUM_MESSAGES);
 const NewConsoleOutputWrapper = browserRequire(
   "devtools/client/webconsole/new-console-output/new-console-output-wrapper");
 const actions =
   browserRequire("devtools/client/webconsole/new-console-output/actions/index");
@@ -167,17 +167,17 @@ async function testStreamLogging(wrapper
 
 window.onload = async function () {
   // This test does costly work multiple times to have better performance data.
   // It doesn't run in automation
   SimpleTest.requestLongerTimeout(3);
 
   const wrapper = new NewConsoleOutputWrapper(
     document.getElementById("output"),
-    {hud: EventEmitter.decorate({proxy: {}})},
+    {hud: EventEmitter.decorate({proxy: {}}), focus: () => {}},
     {},
     null,
     document,
   );
   wrapper.init();
 
   // From https://github.com/devtools-html/perf.html/blob/b73eb73df04c7df51464fa50eeadef3dc7f5d4e2/docs/gecko-profile-format.md#L21
   const settings = {
