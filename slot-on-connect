# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  e369f81aa38b1bf22ad31727e7024cda9e984e30

diff --git a/toolkit/content/widgets/popupnotification.js b/toolkit/content/widgets/popupnotification.js
--- a/toolkit/content/widgets/popupnotification.js
+++ b/toolkit/content/widgets/popupnotification.js
@@ -102,16 +102,25 @@ class MozPopupNotification extends MozXU
     this.slotContents();
     this.hidden = false;
   }
 
   hide() {
     this.hidden = true;
   }
 
+  // XXX: Do some perf testing here. This would be running on all the junk in browser.xul
+  connectedCallback() {
+    if (this.delayConnectedCallback()) {
+      return;
+    }
+
+    this.slotContents();
+  }
+
   slotContents() {
     if (this._hasSlotted) {
       return;
     }
     this._hasSlotted = true;
     let buttons = this.querySelectorAll("button");
     this.appendChild(MozXULElement.parseXULToFragment(`
       <hbox class="popup-notification-header-container"></hbox>
