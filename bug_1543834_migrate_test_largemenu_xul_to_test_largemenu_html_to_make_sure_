# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1555021925 25200
#      Thu Apr 11 15:32:05 2019 -0700
# Node ID b1b0e8d26f8cc820771da83e0ee046876a86f857
# Parent  c77962add953a48bdbcbbcd3d157d63d1267cd8e
Bug 1543834 - Migrate test_largemenu.xul to test_largemenu.html to make sure intermittent tracking on treeherder survives a rename

This is the intermittent bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1410000

Differential Revision: https://phabricator.services.mozilla.com/D27185

diff --git a/toolkit/content/tests/chrome/chrome.ini b/toolkit/content/tests/chrome/chrome.ini
--- a/toolkit/content/tests/chrome/chrome.ini
+++ b/toolkit/content/tests/chrome/chrome.ini
@@ -117,17 +117,17 @@ subsuite = clipboard
 [test_findbar_entireword.xul]
 [test_findbar_events.xul]
 [test_focus_anons.xul]
 [test_frames.xul]
 [test_hiddenitems.xul]
 [test_hiddenpaging.xul]
 [test_keys.xul]
 [test_labelcontrol.xul]
-[test_largemenu.xul]
+[test_largemenu.html]
 skip-if = os == 'linux' && !debug # Bug 1207174
 [test_maximized_persist.xul]
 support-files = window_maximized_persist.xul
 [test_navigate_persist.html]
 support-files = window_navigate_persist.html
 [test_menu.xul]
 [test_menu_anchored.xul]
 [test_menu_withcapture.xul]
diff --git a/toolkit/content/tests/chrome/test_largemenu.xul b/toolkit/content/tests/chrome/test_largemenu.html
rename from toolkit/content/tests/chrome/test_largemenu.xul
rename to toolkit/content/tests/chrome/test_largemenu.html
--- a/toolkit/content/tests/chrome/test_largemenu.xul
+++ b/toolkit/content/tests/chrome/test_largemenu.html
@@ -1,29 +1,21 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin" type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css" type="text/css"?>
-
-<window title="Large Menu Tests"
-  onload="setTimeout(runTest, 0);"
-  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-
-  <script type="application/javascript"
-          src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"/>
-
-<script>
-SimpleTest.waitForExplicitFinish();
-function runTest()
-{
-  window.open("window_largemenu.xul", "_blank", "chrome,width=200,height=200");
-}
-</script>
-
-<body xmlns="http://www.w3.org/1999/xhtml">
-<p id="display">
-</p>
-<div id="content" style="display: none">
-</div>
+<!DOCTYPE HTML>
+<html>
+<head>
+  <meta charset="utf-8">
+  <title>Large Menu Tests</title>
+  <script src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
+  <link rel="stylesheet" href="chrome://mochikit/content/tests/SimpleTest/test.css"/>
+  <script>
+    SimpleTest.waitForExplicitFinish();
+    function runTest() {
+      window.open("window_largemenu.xul", "_blank", "chrome,width=200,height=200");
+    }
+  </script>
+</head>
+<body onload="setTimeout(runTest, 0);">
+<p id="display"></p>
+<div id="content" style="display: none"></div>
 <pre id="test">
 </pre>
 </body>
-
-</window>
+</html>
