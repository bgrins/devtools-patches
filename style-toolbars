# HG changeset patch
# Parent ac1f669afa6f5a48983ea1702a25421458f493bd
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 942292 - DevTools themes - update the toolbar designs according to shorlander's mockups

diff --git a/browser/devtools/debugger/debugger.xul b/browser/devtools/debugger/debugger.xul
--- a/browser/devtools/debugger/debugger.xul
+++ b/browser/devtools/debugger/debugger.xul
@@ -285,17 +285,17 @@
          key="&debuggerUI.removeAllWatch.key;"
          modifiers="accel alt"
          command="removeAllWatchExpressionsCommand"/>
   </keyset>
 
   <vbox id="body" layout="horizontal" flex="1" class="theme-body">
     <toolbar id="debugger-toolbar"
              class="devtools-toolbar">
-      <hbox id="debugger-controls">
+      <hbox class="devtools-button-group">
         <toolbarbutton id="resume"
                        class="devtools-toolbarbutton"
                        tabindex="0"/>
         <toolbarbutton id="step-over"
                        class="devtools-toolbarbutton"
                        tabindex="0"/>
         <toolbarbutton id="step-in"
                        class="devtools-toolbarbutton"
@@ -328,17 +328,17 @@
         <tabs>
           <tab id="sources-tab" label="&debuggerUI.tabs.sources;"/>
           <tab id="callstack-tab" label="&debuggerUI.tabs.callstack;"/>
         </tabs>
         <tabpanels flex="1">
           <tabpanel id="sources-tabpanel">
             <vbox id="sources" flex="1"/>
             <toolbar id="sources-toolbar" class="devtools-toolbar">
-              <hbox id="sources-controls">
+              <hbox id="sources-controls" class="devtools-button-group">
                 <toolbarbutton id="black-box"
                                class="devtools-toolbarbutton"
                                tooltiptext="&debuggerUI.sources.blackBoxTooltip;"
                                command="blackBoxCommand"/>
                 <toolbarbutton id="pretty-print"
                                class="devtools-toolbarbutton devtools-monospace"
                                label="{}"
                                tooltiptext="&debuggerUI.sources.prettyPrint;"
diff --git a/browser/devtools/profiler/profiler.xul b/browser/devtools/profiler/profiler.xul
--- a/browser/devtools/profiler/profiler.xul
+++ b/browser/devtools/profiler/profiler.xul
@@ -19,17 +19,17 @@
 
   <script type="application/javascript;version=1.8"
           src="chrome://browser/content/devtools/theme-switching.js"/>
   <script type="text/javascript" src="sidebar.js"/>
   <box flex="1" id="profiler-chrome"
     class="devtools-responsive-container theme-body">
     <vbox class="profiler-sidebar">
       <toolbar class="devtools-toolbar">
-        <hbox id="profiler-controls">
+        <hbox class="devtools-button-group">
           <toolbarbutton id="profiler-start"
             tooltiptext="&startProfiler.tooltip;"
             class="devtools-toolbarbutton"
             disabled="true"/>
           <toolbarbutton id="profiler-import"
             class="devtools-toolbarbutton"
             disabled="true"
             label="&importProfile.label;"/>
diff --git a/browser/themes/osx/devtools/debugger.css b/browser/themes/osx/devtools/debugger.css
--- a/browser/themes/osx/devtools/debugger.css
+++ b/browser/themes/osx/devtools/debugger.css
@@ -479,40 +479,16 @@
 #step-in {
   list-style-image: url("chrome://browser/skin/devtools/debugger-step-in.png");
 }
 
 #step-out {
   list-style-image: url("chrome://browser/skin/devtools/debugger-step-out.png");
 }
 
-#debugger-controls > toolbarbutton,
-#sources-controls > toolbarbutton {
-  margin: 0;
-  box-shadow: none;
-  border-radius: 0;
-  border-width: 0;
-  -moz-border-end-width: 1px;
-  outline-offset: -3px;
-}
-
-#debugger-controls > toolbarbutton:last-of-type,
-#sources-controls > toolbarbutton:last-of-type {
-  -moz-border-end-width: 0;
-}
-
-#debugger-controls,
-#sources-controls {
-  box-shadow: 0 1px 0 hsla(210,16%,76%,.15) inset,
-              0 0 0 1px hsla(210,16%,76%,.15) inset,
-              0 1px 0 hsla(210,16%,76%,.15);
-  border: 1px solid hsla(210,8%,5%,.45);
-  border-radius: @toolbarbuttonCornerRadius@;
-  margin: 0 3px;
-}
 
 #instruments-pane-toggle {
   background: none;
   box-shadow: none;
   border: none;
   list-style-image: url("chrome://browser/skin/devtools/debugger-collapse.png");
   -moz-image-region: rect(0px,16px,16px,0px);
 }
diff --git a/browser/themes/osx/devtools/inspector.css b/browser/themes/osx/devtools/inspector.css
--- a/browser/themes/osx/devtools/inspector.css
+++ b/browser/themes/osx/devtools/inspector.css
@@ -10,21 +10,16 @@
   list-style-image: url("chrome://browser/skin/devtools/inspect-button.png");
   -moz-image-region: rect(0px 16px 16px 0px);
 }
 
 #inspector-inspect-toolbutton[checked=true] {
   -moz-image-region: rect(0px 32px 16px 16px);
 }
 
-#inspector-toolbar {
-  padding-top: 4px;
-  padding-bottom: 4px;
-}
-
 #inspector-toolbar:-moz-locale-dir(ltr) {
   padding-left: 2px;
   padding-right: 16px; /* use -moz-padding-end when/if bug 631729 gets fixed */
 }
 
 #inspector-toolbar:-moz-locale-dir(rtl) {
   padding-left: 4px;
   padding-right: 18px; /* use -moz-padding-end when/if bug 631729 gets fixed */
diff --git a/browser/themes/osx/devtools/widgets.css b/browser/themes/osx/devtools/widgets.css
--- a/browser/themes/osx/devtools/widgets.css
+++ b/browser/themes/osx/devtools/widgets.css
@@ -112,17 +112,17 @@
 }
 
 .breadcrumbs-widget-item {
   background-color: transparent;
   -moz-appearance: none;
   overflow: hidden;
   min-width: 85px;
   max-width: 250px;
-  min-height: 25px;
+  min-height: 19px;
   border-style: solid;
   border-width: 1px 13px 2px 13px;
   margin: 0 -11px 0 0;
   padding: 0 9px;
   outline: none;
   color: hsl(210,30%,85%);
 }
 
diff --git a/browser/themes/shared/devtools/profiler.inc.css b/browser/themes/shared/devtools/profiler.inc.css
--- a/browser/themes/shared/devtools/profiler.inc.css
+++ b/browser/themes/shared/devtools/profiler.inc.css
@@ -7,20 +7,16 @@
 .profiler-sidebar-empty-notice {
   max-width: 176px;
   padding: 10px;
   background-color: rgb(61, 69, 76);
   color: white;
   font-weight: bold;
 }
 
-.devtools-toolbar {
-  min-height: 33px; 
-}
-
 .profiler-sidebar {
   min-width: 196px;
 }
 
 .profiler-sidebar + .devtools-side-splitter {
   -moz-border-start-color: transparent;
 }
 
@@ -52,38 +48,16 @@
 [state=completed].selected .profiler-sidebar-item > hbox > a {
   display: block;
 }
 
 .selected .profiler-sidebar-item > hbox {
   color: rgb(128, 195, 228);
 }
 
-#profiler-controls > toolbarbutton {
-  margin: 0;
-  box-shadow: none;
-  border-radius: 0;
-  border-width: 0;
-  -moz-border-end-width: 1px;
-  outline-offset: -3px;
-}
-
-#profiler-controls > toolbarbutton:last-of-type {
-  -moz-border-end-width: 0;
-}
-
-#profiler-controls {
-  box-shadow: 0 1px 0 hsla(210,16%,76%,.15) inset,
-              0 0 0 1px hsla(210,16%,76%,.15) inset,
-              0 1px 0 hsla(210,16%,76%,.15);
-  border: 1px solid hsla(210,8%,5%,.45);
-  border-radius: 3px;
-  margin: 0 3px;
-}
-
 #profiler-start {
   list-style-image: url("chrome://browser/skin/devtools/profiler-stopwatch.png");
   -moz-image-region: rect(0px,16px,16px,0px);
 }
 
 #profiler-start[checked] {
   -moz-image-region: rect(0px,32px,16px,16px);
 }
\ No newline at end of file
diff --git a/browser/themes/shared/devtools/toolbars.inc.css b/browser/themes/shared/devtools/toolbars.inc.css
--- a/browser/themes/shared/devtools/toolbars.inc.css
+++ b/browser/themes/shared/devtools/toolbars.inc.css
@@ -4,86 +4,92 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 %endif
 %filter substitution
 %define smallSeparator linear-gradient(transparent 15%, #5a6169 15%, #5a6169 85%, transparent 85%)
 %define solidSeparator linear-gradient(#2d5b7d, #2d5b7d)
 
 .devtools-toolbar {
   -moz-appearance: none;
-  padding: 4px 3px;
+  padding: 1px 3px;
   border-bottom-width: 1px;
   border-bottom-style: solid;
+  min-height: 23px;
 }
 
 .devtools-menulist,
 .devtools-toolbarbutton {
   -moz-appearance: none;
   -moz-box-align: center;
   min-width: 78px;
-  min-height: 22px;
-  text-shadow: 0 -1px 0 hsla(210,8%,5%,.45);
+  min-height: 20px;
+  padding: 1px;
+  text-shadow: none;
   border: 1px solid hsla(210,8%,5%,.45);
   border-radius: 3px;
-  background: linear-gradient(hsla(212,7%,57%,.35), hsla(212,7%,57%,.1)) padding-box;
-  box-shadow: 0 1px 0 hsla(210,16%,76%,.15) inset, 0 0 0 1px hsla(210,16%,76%,.15) inset, 0 1px 0 hsla(210,16%,76%,.15);
+  background-color: hsla(212,7%,57%,.2);
   margin: 0 3px;
   color: inherit;
 }
 
 .devtools-toolbarbutton > .toolbarbutton-menubutton-button {
   -moz-box-orient: horizontal;
+  padding: 0;
 }
 
 .devtools-menulist:-moz-focusring,
 .devtools-toolbarbutton:-moz-focusring {
   outline: 1px dotted hsla(210,30%,85%,0.7);
   outline-offset: -4px;
 }
 
 .devtools-toolbarbutton > .toolbarbutton-icon {
   margin: 0;
 }
 
+.devtools-toolbarbutton > .toolbarbutton-text {
+  margin: 0;
+}
 .devtools-toolbarbutton:not([label]) {
   min-width: 32px;
 }
 
 .devtools-toolbarbutton:not([label]) > .toolbarbutton-text {
   display: none;
 }
 
-.devtools-toolbarbutton:not([checked=true]):hover:active {
-  border-color: hsla(210,8%,5%,.6);
-  background: linear-gradient(hsla(220,6%,10%,.3), hsla(212,7%,57%,.15) 65%, hsla(212,7%,57%,.3));
-  box-shadow: 0 0 3px hsla(210,8%,5%,.25) inset, 0 1px 3px hsla(210,8%,5%,.25) inset, 0 1px 0 hsla(210,16%,76%,.15);
+.devtools-toolbarbutton:not([checked=true]):not([open=true]):hover {
+  background-color: hsla(212,7%,57%,.15);
+}
+
+.devtools-toolbarbutton:not([checked=true]):not([open=true]):hover:active {
+  background-color: hsla(212,7%,57%,.05);
 }
 
 .devtools-menulist[open=true],
 .devtools-toolbarbutton[open=true],
 .devtools-toolbarbutton[checked=true] {
-  border-color: hsla(210,8%,5%,.6) !important;
-  background: linear-gradient(hsla(220,6%,10%,.6), hsla(210,11%,18%,.45) 75%, hsla(210,11%,30%,.4));
-  box-shadow: 0 1px 3px hsla(210,8%,5%,.25) inset, 0 1px 3px hsla(210,8%,5%,.25) inset, 0 1px 0 hsla(210,16%,76%,.15);
+  background-color: #343c45;
 }
 
 .devtools-toolbarbutton[checked=true] {
   color: hsl(208,100%,60%);
 }
 
 .devtools-toolbarbutton[checked=true]:hover {
   background-color: transparent !important;
 }
 
 .devtools-toolbarbutton[checked=true]:hover:active {
   background-color: hsla(210,8%,5%,.2) !important;
 }
 
 .devtools-option-toolbarbutton {
   -moz-appearance: none;
+  padding: 1px;
   list-style-image: url("chrome://browser/skin/devtools/option-icon.png");
   -moz-image-region: rect(0px 16px 16px 0px);
   background: none;
   border: none;
 }
 
 .devtools-option-toolbarbutton[open=true] {
   -moz-image-region: rect(0px 32px 16px 16px);
@@ -101,36 +107,52 @@
   min-width: 16px;
 }
 
 .devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-button {
   -moz-appearance: none;
   color: inherit;
   border-width: 0;
   -moz-border-end: 1px solid hsla(210,8%,5%,.45);
-  box-shadow: -1px 0 0 hsla(210,16%,76%,.15) inset, 1px 0 0 hsla(210,16%,76%,.15);
 }
 
-.devtools-toolbarbutton[type=menu-button]:-moz-locale-dir(rtl) > .toolbarbutton-menubutton-button {
-  box-shadow: 1px 0 0 hsla(210,16%,76%,.15) inset, -1px 0 0 hsla(210,16%,76%,.15);
-}
 
 .devtools-toolbarbutton[type=menu-button] {
   padding: 0 1px;
   -moz-box-align: stretch;
 }
 
 .devtools-toolbarbutton[type=menu] > .toolbarbutton-menu-dropmarker,
 .devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-dropmarker {
   -moz-appearance: none !important;
   list-style-image: url("chrome://browser/skin/devtools/dropmarker.png");
   -moz-box-align: center;
   padding: 0 3px;
 }
 
+
+.devtools-button-group > toolbarbutton {
+  margin: 0;
+  border-radius: 0;
+  border-width: 0;
+  min-height: 18px;
+  -moz-border-end-width: 1px;
+  outline-offset: -3px;
+}
+
+.devtools-button-group > toolbarbutton:last-of-type {
+  -moz-border-end-width: 0;
+}
+
+.devtools-button-group {
+  border: 1px solid hsla(210,8%,5%,.45);
+  border-radius: 3px;
+  margin: 0 3px;
+}
+
 /* Text input */
 
 .devtools-textinput,
 .devtools-searchinput {
   -moz-appearance: none;
   margin: 0 3px;
   border: 1px solid rgb(88, 94, 101);
 %ifdef XP_MACOSX
@@ -139,18 +161,18 @@
   border-radius: 2px;
 %endif
   background-color: rgba(24, 29, 32, 1);
   padding: 4px 6px;
   color: rgba(184, 200, 217, 1);
 }
 
 .devtools-searchinput {
-  padding-top: 3px;
-  padding-bottom: 3px;
+  padding-top: 1px;
+  padding-bottom: 1px;
   -moz-padding-start: 22px;
   -moz-padding-end: 12px;
   background-image: url(magnifying-glass.png);
   background-position: 8px center;
   background-repeat: no-repeat;
   font-size: inherit;
 }
 
@@ -225,28 +247,23 @@
 
 .devtools-sidebar-tabs > tabs > .tabs-right,
 .devtools-sidebar-tabs > tabs > .tabs-left {
   display: none;
 }
 
 .devtools-sidebar-tabs > tabs > tab {
   -moz-appearance: none;
-  /* We want to match the height of a toolbar with a toolbarbutton
-   * First, we need to replicated the padding of toolbar (4px),
-   * then we need to take the border of the buttons into account (1px).
-   */
-  padding: 5px 3px;
+  padding: 0 3px;
   -moz-padding-start: 6px;
+  /* match height to devtools-toolbar 23px
+     - 1px bottom border on sidebar = 22px */
+  min-height: 22px;
   margin: 0;
   min-width: 78px;
-  /* toolbar's min-height is button min-height (25px) + padding (2 * 4px): 33px.
-   * -1px because the parent element (<tabs>) comes with a 1px bottom border.
-   */
-  min-height: 32px;
   text-shadow: 0 -1px 0 hsla(210,8%,5%,.45);
   text-align: center;
   color: inherit;
   -moz-box-flex: 1;
   border-width: 0;
   position: static;
   -moz-margin-start: -1px;
 }
