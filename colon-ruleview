# HG changeset patch
# Parent 7e577607c4046b3fd5cf080d582e01baebf47608
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 964255 - Impossible to add background images in rule-view. Extra space added in URLs.

diff --git a/browser/devtools/styleinspector/rule-view.js b/browser/devtools/styleinspector/rule-view.js
--- a/browser/devtools/styleinspector/rule-view.js
+++ b/browser/devtools/styleinspector/rule-view.js
@@ -2380,17 +2380,17 @@ TextPropertyEditor.prototype = {
          this.remove();
        } else {
          this.prop.setValue(this.committed.value, this.committed.priority);
        }
        return;
     }
 
     let {propertiesToAdd,firstValue} = this._getValueAndExtraProperties(aValue);
-
+console.log("Properties to add", propertiesToAdd, "First value", firstValue);
     // First, set this property value (common case, only modified a property)
     let val = parseCSSValue(firstValue);
     this.prop.setValue(val.value, val.priority);
     this.removeOnRevert = false;
     this.committed.value = this.prop.value;
     this.committed.priority = this.prop.priority;
 
     // If needed, add any new properties after this.prop.
@@ -2429,23 +2429,24 @@ TextPropertyEditor.prototype = {
 
     // The inplace editor will prevent manual typing of multiple properties,
     // but we need to deal with the case during a paste event.
     // Adding multiple properties inside of value editor sets value with the
     // first, then adds any more onto the property list (below this property).
     let properties = parseCSSText(aValue);
     let propertiesToAdd = [];
     let firstValue = aValue;
-
+    console.log("Checking property length", properties.length, properties);
     if (properties.length > 0) {
       // If text like "red; width: 1px;" was entered in, handle this as two
       // separate properties (setting value here to red and adding a new prop).
       let propertiesNoName = parseCSSText("a:" + aValue);
       let enteredValueFirst = propertiesNoName.length > properties.length;
 
+    console.log("Entered value first? ", enteredValueFirst);
       let firstProp = properties[0];
       propertiesToAdd = properties.slice(1);
 
       if (enteredValueFirst) {
         firstProp = propertiesNoName[0];
         propertiesToAdd = propertiesNoName.slice(1);
       }
 
