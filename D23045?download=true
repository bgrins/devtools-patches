diff --git a/accessible/tests/mochitest/states/test_textbox.xul b/accessible/tests/mochitest/states/test_textbox.xul
--- a/accessible/tests/mochitest/states/test_textbox.xul
+++ b/accessible/tests/mochitest/states/test_textbox.xul
@@ -113,9 +113,9 @@
     <textbox id="readonly_textbox" readonly="true"/>
     <textbox id="disabled_textbox" disabled="true"/>
 
-    <textbox id="searchbox" flex="1" type="search" results="historyTree"/>
+    <textbox id="searchbox" flex="1" is="search-textbox" results="historyTree"/>
     <textbox id="searchfield" placeholder="Search all add-ons"
-             type="search" searchbutton="true"/>
+             is="search-textbox" searchbutton="true"/>
   </vbox>
   </hbox>
 </window>
diff --git a/accessible/tests/mochitest/tree/test_txtctrl.xul b/accessible/tests/mochitest/tree/test_txtctrl.xul
--- a/accessible/tests/mochitest/tree/test_txtctrl.xul
+++ b/accessible/tests/mochitest/tree/test_txtctrl.xul
@@ -157,8 +157,8 @@
 
     <vbox flex="1">
       <textbox id="txc" value="hello"/>
-      <textbox id="txc_search" type="search" value="hello"/>
-      <textbox id="txc_search_searchbutton" searchbutton="true" type="search" value="hello"/>
+      <textbox id="txc_search" is="search-textbox" value="hello"/>
+      <textbox id="txc_search_searchbutton" searchbutton="true" is="search-textbox" value="hello"/>
       <textbox id="txc_number" type="number" value="44"/>
       <textbox id="txc_password" type="password" value="hello"/>
       <textbox id="txc_autocomplete" type="autocomplete" value="hello"/>
diff --git a/browser/base/content/test/forms/browser_selectpopup.js b/browser/base/content/test/forms/browser_selectpopup.js
--- a/browser/base/content/test/forms/browser_selectpopup.js
+++ b/browser/base/content/test/forms/browser_selectpopup.js
@@ -640,7 +640,7 @@
   let selectPopup = win.document.getElementById("ContentSelectDropdown").menupopup;
   await openSelectPopup(selectPopup, false, "select", win);
 
-  let searchElement = selectPopup.querySelector("textbox");
+  let searchElement = selectPopup.querySelector(".contentSelectDropdown-searchbox");
   searchElement.focus();
 
   EventUtils.synthesizeKey("O", {}, win);
diff --git a/browser/base/content/test/forms/browser_selectpopup_searchfocus.js b/browser/base/content/test/forms/browser_selectpopup_searchfocus.js
--- a/browser/base/content/test/forms/browser_selectpopup_searchfocus.js
+++ b/browser/base/content/test/forms/browser_selectpopup_searchfocus.js
@@ -28,7 +28,7 @@
   await BrowserTestUtils.synthesizeMouseAtCenter("#one", { type: "mousedown" }, gBrowser.selectedBrowser);
   await popupShownPromise;
 
-  let searchInput = selectPopup.querySelector("textbox[type='search']");
+  let searchInput = selectPopup.querySelector(".contentSelectDropdown-searchbox");
   searchInput.scrollIntoView();
   let searchFocused = BrowserTestUtils.waitForEvent(searchInput, "focus");
   await EventUtils.synthesizeMouseAtCenter(searchInput, {}, window);
@@ -39,4 +39,3 @@
   await hideSelectPopup(selectPopup, "escape");
   BrowserTestUtils.removeTab(tab);
 });
-
diff --git a/browser/components/places/content/bookmarksSidebar.xul b/browser/components/places/content/bookmarksSidebar.xul
--- a/browser/components/places/content/bookmarksSidebar.xul
+++ b/browser/components/places/content/bookmarksSidebar.xul
@@ -42,7 +42,7 @@
 #include bookmarksHistoryTooltip.inc.xul
 
   <hbox id="sidebar-search-container" align="center">
-    <textbox id="search-box" flex="1" type="search"
+    <textbox id="search-box" flex="1" is="search-textbox"
              placeholder="&bookmarksSearch.placeholder;"
              aria-controls="bookmarks-view"
              oncommand="searchBookmarks(this.value);"/>
diff --git a/browser/components/places/content/historySidebar.xul b/browser/components/places/content/historySidebar.xul
--- a/browser/components/places/content/historySidebar.xul
+++ b/browser/components/places/content/historySidebar.xul
@@ -51,7 +51,7 @@
 #include bookmarksHistoryTooltip.inc.xul
 
   <hbox id="sidebar-search-container">
-    <textbox id="search-box" flex="1" type="search"
+    <textbox id="search-box" flex="1" is="search-textbox"
              placeholder="&historySearch.placeholder;"
              aria-controls="historyTree"
              oncommand="searchHistory(this.value);"/>
diff --git a/browser/components/places/content/places.xul b/browser/components/places/content/places.xul
--- a/browser/components/places/content/places.xul
+++ b/browser/components/places/content/places.xul
@@ -340,7 +340,7 @@
 
       <textbox id="searchFilter"
                flex="1"
-               type="search"
+               is="search-textbox"
                aria-controls="placeContent"
                oncommand="PlacesSearchBox.search(this.value);"
                collection="bookmarks">
diff --git a/browser/components/preferences/in-content/main.xul b/browser/components/preferences/in-content/main.xul
--- a/browser/components/preferences/in-content/main.xul
+++ b/browser/components/preferences/in-content/main.xul
@@ -376,7 +376,7 @@
   <label><html:h2 data-l10n-id="applications-header"/></label>
   <description data-l10n-id="applications-description"/>
   <textbox id="filter" flex="1"
-           type="search"
+           is="search-textbox"
            data-l10n-id="applications-filter"
            aria-controls="handlersView"/>
 
diff --git a/browser/components/preferences/in-content/preferences.xul b/browser/components/preferences/in-content/preferences.xul
--- a/browser/components/preferences/in-content/preferences.xul
+++ b/browser/components/preferences/in-content/preferences.xul
@@ -177,7 +177,7 @@
             </hbox>
           </hbox>
           <textbox
-            type="search" id="searchInput"
+            is="search-textbox" id="searchInput"
             data-l10n-id="search-input-box"
             data-l10n-attrs="style"
             hidden="true" clickSelectsAll="true"/>
diff --git a/browser/components/preferences/siteDataSettings.xul b/browser/components/preferences/siteDataSettings.xul
--- a/browser/components/preferences/siteDataSettings.xul
+++ b/browser/components/preferences/siteDataSettings.xul
@@ -31,7 +31,7 @@
     <separator class="thin"/>
 
     <hbox id="searchBoxContainer">
-      <textbox id="searchBox" type="search" flex="1"
+      <textbox id="searchBox" is="search-textbox" flex="1"
         data-l10n-id="site-data-search-textbox"/>
     </hbox>
     <separator class="thin"/>
diff --git a/browser/components/preferences/sitePermissions.xul b/browser/components/preferences/sitePermissions.xul
--- a/browser/components/preferences/sitePermissions.xul
+++ b/browser/components/preferences/sitePermissions.xul
@@ -36,7 +36,7 @@
     <separator class="thin"/>
     <hbox align="start">
       <textbox id="searchBox" flex="1" data-l10n-id="permissions-searchbox"
-               type="search" oncommand="gSitePermissionsManager.buildPermissionsList();"/>
+               is="search-textbox" oncommand="gSitePermissionsManager.buildPermissionsList();"/>
     </hbox>
     <separator class="thin"/>
     <listheader>
@@ -66,7 +66,7 @@
   <checkbox id="permissionsDisableCheckbox"/>
   <description id="permissionsDisableDescription"/>
   <spacer flex="1"/>
-  <hbox id="browserNotificationsPermissionExtensionContent" 
+  <hbox id="browserNotificationsPermissionExtensionContent"
         class="extension-controlled" align="center" hidden="true">
     <description control="disableNotificationsPermissionExtension" flex="1"/>
     <button id="disableNotificationsPermissionExtension"
diff --git a/editor/reftests/xul/emptytextbox-4.xul b/editor/reftests/xul/emptytextbox-4.xul
--- a/editor/reftests/xul/emptytextbox-4.xul
+++ b/editor/reftests/xul/emptytextbox-4.xul
@@ -7,6 +7,6 @@
 
   <script type="text/javascript" src="platform.js"/>
 
-  <textbox type="search"/>
-      
+  <textbox is="search-textbox"/>
+
 </window>
diff --git a/layout/reftests/native-theme/searchfield-mirrored-when-rtl-ref.xul b/layout/reftests/native-theme/searchfield-mirrored-when-rtl-ref.xul
--- a/layout/reftests/native-theme/searchfield-mirrored-when-rtl-ref.xul
+++ b/layout/reftests/native-theme/searchfield-mirrored-when-rtl-ref.xul
@@ -4,7 +4,7 @@
 <window title="mirrored searchfield"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
   <hbox>
-    <textbox type="search" width="200" id="searchbox" style="-moz-transform: scaleX(-1);"/>
+    <textbox is="search-textbox" width="200" id="searchbox" style="-moz-transform: scaleX(-1);"/>
     <spacer flex="1"/>
   </hbox>
 </window>
diff --git a/layout/reftests/native-theme/searchfield-mirrored-when-rtl.xul b/layout/reftests/native-theme/searchfield-mirrored-when-rtl.xul
--- a/layout/reftests/native-theme/searchfield-mirrored-when-rtl.xul
+++ b/layout/reftests/native-theme/searchfield-mirrored-when-rtl.xul
@@ -4,7 +4,7 @@
 <window title="RTL searchfield"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
   <hbox>
-    <textbox type="search" width="200" id="searchbox" style="direction: rtl;"/>
+    <textbox is="search-textbox" width="200" id="searchbox" style="direction: rtl;"/>
     <spacer flex="1"/>
   </hbox>
 </window>
diff --git a/toolkit/actors/SelectChild.jsm b/toolkit/actors/SelectChild.jsm
--- a/toolkit/actors/SelectChild.jsm
+++ b/toolkit/actors/SelectChild.jsm
@@ -284,7 +284,7 @@
         }
         break;
       case "blur": {
-        if (this.element !== event.target) {
+        if (this.element !== event.target.closest("textbox")) {
           break;
         }
         this._closeAfterBlur = true;
diff --git a/toolkit/components/passwordmgr/content/passwordManager.xul b/toolkit/components/passwordmgr/content/passwordManager.xul
--- a/toolkit/components/passwordmgr/content/passwordManager.xul
+++ b/toolkit/components/passwordmgr/content/passwordManager.xul
@@ -68,7 +68,7 @@
   <vbox id="savedsignons" class="contentPane" flex="1">
     <!-- filter -->
     <hbox align="center">
-      <textbox id="filter" flex="1" type="search"
+      <textbox id="filter" flex="1" is="search-textbox"
                aria-controls="signonsTree"
                oncommand="FilterPasswords();"
                placeholder="&searchFilter.label;"
diff --git a/toolkit/components/viewconfig/content/config.xul b/toolkit/components/viewconfig/content/config.xul
--- a/toolkit/components/viewconfig/content/config.xul
+++ b/toolkit/components/viewconfig/content/config.xul
@@ -70,7 +70,7 @@
   <vbox flex="1">
     <hbox id="filterRow" align="center">
       <label data-l10n-id="config-search-prefs" control="textbox"/>
-      <textbox id="textbox" flex="1" type="search"
+      <textbox id="textbox" flex="1" is="search-textbox"
                aria-controls="configTree"
                oncommand="FilterPrefs();"/>
     </hbox>
diff --git a/toolkit/content/customElements.js b/toolkit/content/customElements.js
--- a/toolkit/content/customElements.js
+++ b/toolkit/content/customElements.js
@@ -523,6 +523,7 @@
   for (let [tag, script] of [
     ["findbar", "chrome://global/content/elements/findbar.js"],
     ["menulist", "chrome://global/content/elements/menulist.js"],
+    ["search-textbox", "chrome://global/content/elements/search-textbox.js"],
     ["stringbundle", "chrome://global/content/elements/stringbundle.js"],
     ["printpreview-toolbar", "chrome://global/content/printPreviewToolbar.js"],
     ["editor", "chrome://global/content/elements/editor.js"],
diff --git a/toolkit/content/editMenuOverlay.js b/toolkit/content/editMenuOverlay.js
--- a/toolkit/content/editMenuOverlay.js
+++ b/toolkit/content/editMenuOverlay.js
@@ -37,12 +37,13 @@
 
 // Support context menus on html textareas in the parent process:
 window.addEventListener("contextmenu", (e) => {
+  const HTML_NS = "http://www.w3.org/1999/xhtml";
   // Note that there's not a risk of e.target being XBL anonymous content for <textbox> (which manages
   // its own context menu), because e.target will be the XBL binding parent in that case.
-  let needsContextMenu = e.target.ownerDocument == document &&
-                         !e.defaultPrevented &&
-                         e.target.localName == "textarea" &&
-                         e.target.namespaceURI == "http://www.w3.org/1999/xhtml";
+  let needsContextMenu = e.target.ownerDocument == document && !e.defaultPrevented && (
+       (e.target.localName == "textarea" && e.target.namespaceURI == HTML_NS)
+    || (e.target.closest("textbox[type='search']"))
+  );
 
   if (!needsContextMenu) {
     return;
diff --git a/toolkit/content/jar.mn b/toolkit/content/jar.mn
--- a/toolkit/content/jar.mn
+++ b/toolkit/content/jar.mn
@@ -100,6 +100,7 @@
    content/global/elements/marquee.js          (widgets/marquee.js)
    content/global/elements/menulist.js         (widgets/menulist.js)
    content/global/elements/popupnotification.js  (widgets/popupnotification.js)
+   content/global/elements/search-textbox.js     (widgets/search-textbox.js)
    content/global/elements/stringbundle.js     (widgets/stringbundle.js)
    content/global/elements/tabbox.js           (widgets/tabbox.js)
    content/global/elements/textbox.js          (widgets/textbox.js)
diff --git a/toolkit/content/tests/chrome/file_edit_contextmenu.xul b/toolkit/content/tests/chrome/file_edit_contextmenu.xul
--- a/toolkit/content/tests/chrome/file_edit_contextmenu.xul
+++ b/toolkit/content/tests/chrome/file_edit_contextmenu.xul
@@ -25,4 +25,6 @@
 
 <html:textarea />
 
+<textbox is="search-textbox"></textbox>
+
 </window>
diff --git a/toolkit/content/tests/chrome/test_edit_contextmenu.html b/toolkit/content/tests/chrome/test_edit_contextmenu.html
--- a/toolkit/content/tests/chrome/test_edit_contextmenu.html
+++ b/toolkit/content/tests/chrome/test_edit_contextmenu.html
@@ -19,15 +19,25 @@
       await new Promise(r => win.addEventListener("load", r, { once: true}));
       await SimpleTest.promiseFocus(win);
 
-      let textarea = win.document.querySelector("textarea");
-      ok(textarea, "textarea exists");
+      const elements = [
+        win.document.querySelector("textarea"),
+        win.document.querySelector("textbox[type=search]"),
+      ];
+      for (const element of elements) {
+        await testElement(element, win);
+      }
+      SimpleTest.finish();
+    }
+
+    async function testElement(element, win) {
+      ok(element, "element exists");
 
       info("Synthesizing a key so 'Undo' will be enabled");
-      textarea.focus();
+      element.focus();
       synthesizeKey("x", {}, win);
-      is(textarea.value, "x", "initial value");
+      is(element.value, "x", "initial value");
 
-      textarea.select();
+      element.select();
       synthesizeKey("c", { accelKey: true }, win); // copy to clipboard
       synthesizeKey("KEY_ArrowRight", {}, win); // drop selection to disable cut and copy context menu items
 
@@ -35,11 +45,11 @@
         info("Calling prevent default on the first contextmenu event");
         e.preventDefault();
       }, { once: true });
-      synthesizeMouseAtCenter(textarea, {type: "contextmenu"}, win);
+      synthesizeMouseAtCenter(element, {type: "contextmenu"}, win);
       ok(!win.document.getElementById("textbox-contextmenu"), "contextmenu with preventDefault() doesn't run");
 
       let popupshown = new Promise(r => win.addEventListener("popupshown", r, { once: true }));
-      synthesizeMouseAtCenter(textarea, {type: "contextmenu"}, win);
+      synthesizeMouseAtCenter(element, {type: "contextmenu"}, win);
       let contextmenu = win.document.getElementById("textbox-contextmenu");
       ok(contextmenu, "context menu exists after right click");
       await popupshown;
@@ -52,11 +62,8 @@
       ok(!contextmenu.querySelector("[command=cmd_selectAll]").hasAttribute("disabled"), "select all enabled");
 
       contextmenu.querySelector("[command=cmd_undo]").click();
-      is(textarea.value, "", "undo worked");
-
-      SimpleTest.finish();
+      is(element.value, "", "undo worked");
     }
-
   </script>
 </head>
 <body onload="runTest()">
diff --git a/toolkit/content/widgets/textbox.xml b/toolkit/content/widgets/search-textbox.js
copy from toolkit/content/widgets/textbox.xml
copy to toolkit/content/widgets/search-textbox.js
--- a/toolkit/content/widgets/textbox.xml
+++ b/toolkit/content/widgets/search-textbox.js
@@ -1,398 +1,182 @@
-<?xml version="1.0"?>
-<!-- This Source Code Form is subject to the terms of the Mozilla Public
-   - License, v. 2.0. If a copy of the MPL was not distributed with this
-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
-
-<!-- This files relies on these specific Chrome/XBL globals -->
-<!-- globals ChromeWindow -->
-
-
-<!DOCTYPE bindings [
-  <!ENTITY % textcontextDTD SYSTEM "chrome://global/locale/textcontext.dtd" >
-  %textcontextDTD;
-]>
-
-<bindings id="textboxBindings"
-   xmlns="http://www.mozilla.org/xbl"
-   xmlns:html="http://www.w3.org/1999/xhtml"
-   xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-   xmlns:xbl="http://www.mozilla.org/xbl">
-
-  <binding id="textbox">
-    <content>
-      <children/>
-      <xul:moz-input-box anonid="moz-input-box" flex="1" xbl:inherits="context,spellcheck">
-        <html:input class="textbox-input" anonid="input"
-                    xbl:inherits="value,type,maxlength,disabled,size,readonly,placeholder,tabindex,accesskey,noinitialfocus,mozactionhint,spellcheck"/>
-      </xul:moz-input-box>
-    </content>
-
-    <implementation>
-      <!-- nsIDOMXULLabeledControlElement -->
-      <field name="crop">""</field>
-      <field name="image">""</field>
-      <field name="command">""</field>
-      <field name="accessKey">""</field>
-
-      <field name="mInputField">null</field>
-      <field name="mIgnoreClick">false</field>
-      <field name="mIgnoreFocus">false</field>
-      <field name="mEditor">null</field>
-
-      <property name="inputField" readonly="true">
-        <getter><![CDATA[
-          if (!this.mInputField)
-            this.mInputField = document.getAnonymousElementByAttribute(this, "anonid", "input");
-          return this.mInputField;
-        ]]></getter>
-      </property>
-
-      <property name="value"      onset="this.inputField.value = val; return val;"
-                                  onget="return this.inputField.value;"/>
-      <property name="defaultValue" onset="this.inputField.defaultValue = val; return val;"
-                                  onget="return this.inputField.defaultValue;"/>
-      <property name="label"      onset="this.setAttribute('label', val); return val;"
-                                  onget="return this.getAttribute('label') || this.placeholder;" />
-      <property name="placeholder" onset="this.inputField.placeholder = val; return val;"
-                                  onget="return this.inputField.placeholder;"/>
-      <property name="emptyText"  onset="this.placeholder = val; return val;"
-                                  onget="return this.placeholder;"/>
-      <property name="type"       onset="if (val) this.setAttribute('type', val);
-                                         else this.removeAttribute('type'); return val;"
-                                  onget="return this.getAttribute('type');"/>
-      <property name="maxLength"  onset="this.inputField.maxLength = val; return val;"
-                                  onget="return this.inputField.maxLength;"/>
-      <property name="disabled"   onset="this.inputField.disabled = val;
-                                         if (val) this.setAttribute('disabled', 'true');
-                                         else this.removeAttribute('disabled'); return val;"
-                                  onget="return this.inputField.disabled;"/>
-      <property name="tabIndex"   onget="return parseInt(this.getAttribute('tabindex'));"
-                                  onset="this.inputField.tabIndex = val;
-                                         if (val) this.setAttribute('tabindex', val);
-                                         else this.removeAttribute('tabindex'); return val;"/>
-      <property name="size"       onset="this.inputField.size = val; return val;"
-                                  onget="return this.inputField.size;"/>
-      <property name="readOnly"   onset="this.inputField.readOnly = val;
-                                         if (val) this.setAttribute('readonly', 'true');
-                                         else this.removeAttribute('readonly'); return val;"
-                                  onget="return this.inputField.readOnly;"/>
-      <property name="clickSelectsAll"
-                onget="return this.getAttribute('clickSelectsAll') == 'true';"
-                onset="if (val) this.setAttribute('clickSelectsAll', 'true');
-                       else this.removeAttribute('clickSelectsAll'); return val;" />
-
-      <property name="editor" readonly="true">
-        <getter><![CDATA[
-          if (!this.mEditor) {
-            this.mEditor = this.inputField.editor;
-          }
-          return this.mEditor;
-        ]]></getter>
-      </property>
+/* This Source Code Form is subject to the terms of the Mozilla Public
+  * License, v. 2.0. If a copy of the MPL was not distributed with this
+  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
-      <method name="reset">
-        <body><![CDATA[
-          this.value = this.defaultValue;
-          try {
-            this.editor.transactionManager.clear();
-            return true;
-          } catch (e) {}
-          return false;
-        ]]></body>
-      </method>
-
-      <method name="select">
-        <body>
-          this.inputField.select();
-        </body>
-      </method>
-
-      <method name="setUserInput">
-        <parameter name="value"/>
-        <body><![CDATA[
-          this.inputField.setUserInput(value);
-        ]]></body>
-      </method>
-
-      <property name="controllers"    readonly="true" onget="return this.inputField.controllers"/>
-      <property name="textLength"     readonly="true"
-                                      onget="return this.inputField.textLength;"/>
-      <property name="selectionStart" onset="this.inputField.selectionStart = val; return val;"
-                                      onget="return this.inputField.selectionStart;"/>
-      <property name="selectionEnd"   onset="this.inputField.selectionEnd = val; return val;"
-                                      onget="return this.inputField.selectionEnd;"/>
-
-      <method name="setSelectionRange">
-        <parameter name="aSelectionStart"/>
-        <parameter name="aSelectionEnd"/>
-        <body>
-          // According to https://html.spec.whatwg.org/#do-not-apply,
-          // setSelectionRange() is only available on a limited set of input types.
-          if (this.inputField.type == "text") {
-            this.inputField.setSelectionRange( aSelectionStart, aSelectionEnd );
-          }
-        </body>
-      </method>
+"use strict";
 
-      <method name="_setNewlineHandling">
-        <body><![CDATA[
-          var str = this.getAttribute("newlines");
-          if (str && this.editor) {
-            const nsIPlaintextEditor = Ci.nsIPlaintextEditor;
-            for (var x in nsIPlaintextEditor) {
-              if (/^eNewlines/.test(x)) {
-                if (str == RegExp.rightContext.toLowerCase()) {
-                  this.editor.QueryInterface(nsIPlaintextEditor)
-                      .newlineHandling = nsIPlaintextEditor[x];
-                  break;
-                }
-              }
-            }
-          }
-        ]]></body>
-      </method>
-
-      <method name="_maybeSelectAll">
-        <body><![CDATA[
-          if (!this.mIgnoreClick && this.clickSelectsAll &&
-              document.activeElement == this.inputField &&
-              this.inputField.selectionStart == this.inputField.selectionEnd)
-            this.editor.selectAll();
-        ]]></body>
-      </method>
-
-      <constructor><![CDATA[
-        var str = this._cachedInputFieldValue;
-        if (str) {
-          this.inputField.value = str;
-          delete this._cachedInputFieldValue;
-        }
-
-        this._setNewlineHandling();
-
-        if (this.hasAttribute("emptytext"))
-          this.placeholder = this.getAttribute("emptytext");
-      ]]></constructor>
-
-      <destructor>
-        <![CDATA[
-          var field = this.inputField;
-          if (field && field.value) {
-            this._cachedInputFieldValue = field.value;
-          }
-
-          this.mInputField = null;
-        ]]>
-      </destructor>
-
-    </implementation>
+// This is loaded into all XUL windows. Wrap in a block to prevent
+// leaking to window scope.
+{
+const HTML_NS = "http://www.w3.org/1999/xhtml";
 
-    <handlers>
-      <handler event="focus" phase="capturing">
-        <![CDATA[
-          if (this.hasAttribute("focused"))
-            return;
-
-          switch (event.originalTarget) {
-            case this:
-              // Forward focus to actual HTML input
-              this.inputField.focus();
-              this.setAttribute("focused", "true");
-              break;
-            case this.inputField:
-              if (this.mIgnoreFocus) {
-                this.mIgnoreFocus = false;
-              } else if (this.clickSelectsAll) {
-                try {
-                  if (!this.editor || !this.editor.composing)
-                    this.editor.selectAll();
-                } catch (e) {}
-              }
-              this.setAttribute("focused", "true");
-              break;
-            default:
-              // Otherwise, allow other children (e.g. URL bar buttons) to get focus
-              break;
-          }
-        ]]>
-      </handler>
-
-      <handler event="blur" phase="capturing">
-        <![CDATA[
-          this.removeAttribute("focused");
-
-          // don't trigger clickSelectsAll when switching application windows
-          if (window == window.top &&
-              window.isChromeWindow &&
-              document.activeElement == this.inputField)
-            this.mIgnoreFocus = true;
-        ]]>
-      </handler>
-
-      <handler event="mousedown">
-        <![CDATA[
-          this.mIgnoreClick = this.hasAttribute("focused");
-
-          if (!this.mIgnoreClick) {
-            this.mIgnoreFocus = true;
-            this.setSelectionRange(0, 0);
-            if (event.originalTarget == this ||
-                event.originalTarget == this.inputField.parentNode)
-              this.inputField.focus();
-          }
-        ]]>
-      </handler>
-
-      <handler event="click" action="this._maybeSelectAll();"/>
-
-#ifndef XP_WIN
-      <handler event="contextmenu">
-        // Only care about context clicks on the textbox itself.
-        if (event.target != this)
-          return;
-
-        if (!event.button) // context menu opened via keyboard shortcut
-          return;
-        this._maybeSelectAll();
-        // see bug 576135 comment 4
-        let box = this.inputField.parentNode;
-        box._doPopupItemEnabling(box.menupopup);
-      </handler>
-#endif
-    </handlers>
-  </binding>
+class MozSearchTextbox extends MozXULElement {
+  constructor() {
+    super();
+    this.addEventListener("input", (event) => {
+      if (this.searchButton) {
+        this._searchIcons.selectedIndex = 0;
+        return;
+      }
+      if (this._timer) {
+        clearTimeout(this._timer);
+      }
+      this._timer = this.timeout && setTimeout(this._fireCommand, this.timeout, this);
+      this._searchIcons.selectedIndex = this.value ? 1 : 0;
+    });
 
-  <binding id="search-textbox" extends="chrome://global/content/bindings/textbox.xml#textbox">
-    <content>
-      <children/>
-      <xul:moz-input-box anonid="moz-input-box" flex="1" xbl:inherits="context,spellcheck" align="center">
-        <xul:image class="textbox-search-sign"/>
-        <html:input class="textbox-input" anonid="input" mozactionhint="search"
-                    xbl:inherits="value,type,maxlength,disabled,size,readonly,placeholder,tabindex,accesskey,mozactionhint,spellcheck"/>
-        <xul:deck class="textbox-search-icons" anonid="search-icons">
-          <xul:image class="textbox-search-icon" anonid="searchbutton-icon"
-                     xbl:inherits="src=image,label=searchbuttonlabel,searchbutton,disabled"/>
-          <xul:image class="textbox-search-clear"
-                     onclick="document.getBindingParent(this)._clearSearch();"
-                     label="&searchTextBox.clear.label;"
-                     xbl:inherits="disabled"/>
-        </xul:deck>
-      </xul:moz-input-box>
-    </content>
-    <implementation>
-      <field name="_timer">null</field>
-      <field name="_searchIcons">
-        document.getAnonymousElementByAttribute(this, "anonid", "search-icons");
-      </field>
-      <field name="_searchButtonIcon">
-        document.getAnonymousElementByAttribute(this, "anonid", "searchbutton-icon");
-      </field>
-      <property name="timeout"
-                onset="this.setAttribute('timeout', val); return val;"
-                onget="return parseInt(this.getAttribute('timeout')) || 500;"/>
-      <property name="searchButton"
-                onget="return this.getAttribute('searchbutton') == 'true';">
-        <setter><![CDATA[
-          if (val) {
-            this.setAttribute("searchbutton", "true");
-            this.removeAttribute("aria-autocomplete");
-            // Hack for the button to get the right accessible:
-            this._searchButtonIcon.setAttribute("onclick", "true");
-          } else {
-            this.removeAttribute("searchbutton");
-            this._searchButtonIcon.removeAttribute("onclick");
-            this.setAttribute("aria-autocomplete", "list");
-          }
-          return val;
-        ]]></setter>
-      </property>
-      <property name="value"
-                onget="return this.inputField.value;">
-        <setter><![CDATA[
-          this.inputField.value = val;
-
-          if (val)
-            this._searchIcons.selectedIndex = this.searchButton ? 0 : 1;
-          else
-            this._searchIcons.selectedIndex = 0;
-
-          if (this._timer)
-            clearTimeout(this._timer);
-
-          return val;
-        ]]></setter>
-      </property>
-      <constructor><![CDATA[
-        // Ensure the button state is up to date:
-        this.searchButton = this.searchButton;
-        this._searchButtonIcon.addEventListener("click", (e) => this._iconClick(e));
-      ]]></constructor>
-      <method name="_fireCommand">
-        <parameter name="me"/>
-        <body><![CDATA[
-          if (me._timer)
-            clearTimeout(me._timer);
-          me._timer = null;
-          me.doCommand();
-        ]]></body>
-      </method>
-      <method name="_iconClick">
-        <body><![CDATA[
-          if (this.searchButton)
-            this._enterSearch();
-          else
-            this.focus();
-        ]]></body>
-      </method>
-      <method name="_enterSearch">
-        <body><![CDATA[
-          if (this.disabled)
-            return;
-          if (this.searchButton && this.value && !this.readOnly)
-            this._searchIcons.selectedIndex = 1;
-          this._fireCommand(this);
-        ]]></body>
-      </method>
-      <method name="_clearSearch">
-        <body><![CDATA[
-          if (!this.disabled && !this.readOnly && this.value) {
-            this.value = "";
-            this._fireCommand(this);
-            this._searchIcons.selectedIndex = 0;
-            return true;
-          }
-          return false;
-        ]]></body>
-      </method>
-    </implementation>
-    <handlers>
-      <handler event="input">
-        <![CDATA[
-          if (this.searchButton) {
-            this._searchIcons.selectedIndex = 0;
-            return;
-          }
-          if (this._timer)
-            clearTimeout(this._timer);
-          this._timer = this.timeout && setTimeout(this._fireCommand, this.timeout, this);
-          this._searchIcons.selectedIndex = this.value ? 1 : 0;
-        ]]>
-      </handler>
-      <handler event="keypress" keycode="VK_ESCAPE">
-        <![CDATA[
+    this.addEventListener("keypress", (event) => {
+      switch (event.keyCode) {
+        case KeyEvent.DOM_VK_ESCAPE:
           if (this._clearSearch()) {
             event.preventDefault();
             event.stopPropagation();
           }
-        ]]>
-      </handler>
-      <handler event="keypress" keycode="VK_RETURN">
-        <![CDATA[
+          break;
+        case KeyEvent.DOM_VK_RETURN:
           this._enterSearch();
           event.preventDefault();
           event.stopPropagation();
-        ]]>
-      </handler>
-    </handlers>
-  </binding>
-</bindings>
+          break;
+      }
+    });
+  }
+
+  static get inheritedAttributes() {
+    return {
+      ".textbox-input": "value,maxlength,disabled,size,readonly,placeholder,tabindex,accesskey,mozactionhint,spellcheck",
+      ".textbox-search-icon": "src=image,label=searchbuttonlabel,searchbutton,disabled",
+      ".textbox-search-clear": "disabled",
+    };
+  }
+
+  connectedCallback() {
+    if (this.delayConnectedCallback()) {
+      return;
+    }
+    this.textContent = "";
+
+    const textboxSign = document.createXULElement("image");
+    textboxSign.className = "textbox-search-sign";
+
+    const input = this.inputField = document.createElementNS(HTML_NS, "input");
+    input.className = "textbox-input";
+    input.setAttribute("mozactionhint", "search");
+    input.addEventListener("focus", () => this.setAttribute("focused", "true"));
+    input.addEventListener("blur", () => this.removeAttribute("focused"));
+
+    const searchBtn = this._searchButtonIcon = document.createXULElement("image");
+    searchBtn.className = "textbox-search-icon";
+    searchBtn.addEventListener("click", (e) => this._iconClick(e));
+
+    // TODO: Bug 1534799 - Convert string to Fluent and use manual DOM construction
+    let clearBtn = MozXULElement.parseXULToFragment(`
+      <image class="textbox-search-clear" label="&searchTextBox.clear.label;"/>
+    `, ["chrome://global/locale/textcontext.dtd"]);
+    clearBtn = this._searchClearIcon = clearBtn.querySelector(".textbox-search-clear");
+    clearBtn.addEventListener("click", () => this._clearSearch());
+
+    const deck = this._searchIcons = document.createXULElement("deck");
+    deck.className = "textbox-search-icons";
+    deck.append(searchBtn, clearBtn);
+    this.append(textboxSign, input, deck);
+
+    this._timer = null;
+
+    // Ensure the button state is up to date:
+    this.searchButton = this.searchButton;
+
+    // Set some attributes for styling
+    this.setAttribute("type", "search");
+
+    this.initializeAttributeInheritance();
+  }
+
+  focus() {
+    this.inputField.focus();
+  }
+
+  set timeout(val) {
+    this.setAttribute("timeout", val);
+    return val;
+  }
+
+  get timeout() {
+    return parseInt(this.getAttribute("timeout")) || 500;
+  }
+
+  set searchButton(val) {
+    if (val) {
+      this.setAttribute("searchbutton", "true");
+      this.removeAttribute("aria-autocomplete");
+      // Hack for the button to get the right accessible:
+      this._searchButtonIcon.setAttribute("onclick", "true");
+    } else {
+      this.removeAttribute("searchbutton");
+      this._searchButtonIcon.removeAttribute("onclick");
+      this.setAttribute("aria-autocomplete", "list");
+    }
+    return val;
+  }
+
+  get searchButton() {
+    return this.getAttribute("searchbutton") == "true";
+  }
+
+  set value(val) {
+    this.inputField.value = val;
+
+    if (val) {
+      this._searchIcons.selectedIndex = this.searchButton ? 0 : 1;
+    } else {
+      this._searchIcons.selectedIndex = 0;
+    }
+
+    if (this._timer) {
+      clearTimeout(this._timer);
+    }
+    return val;
+  }
+
+  get value() {
+    return this.inputField.value;
+  }
+
+  _fireCommand(me) {
+    if (me._timer) {
+      clearTimeout(me._timer);
+    }
+    me._timer = null;
+    me.doCommand();
+  }
+
+  _iconClick() {
+    if (this.searchButton) {
+      this._enterSearch();
+    } else {
+      this.focus();
+    }
+  }
+
+  _enterSearch() {
+    if (this.disabled) {
+      return;
+    }
+    if (this.searchButton && this.value && !this.readOnly) {
+      this._searchIcons.selectedIndex = 1;
+    }
+    this._fireCommand(this);
+  }
+
+  _clearSearch() {
+    if (!this.disabled && !this.readOnly && this.value) {
+      this.value = "";
+      this._fireCommand(this);
+      this._searchIcons.selectedIndex = 0;
+      return true;
+    }
+    return false;
+  }
+}
+
+customElements.define("search-textbox", MozSearchTextbox, { extends: "textbox" });
+}
diff --git a/toolkit/content/widgets/textbox.xml b/toolkit/content/widgets/textbox.xml
--- a/toolkit/content/widgets/textbox.xml
+++ b/toolkit/content/widgets/textbox.xml
@@ -261,138 +261,4 @@
 #endif
     </handlers>
   </binding>
-
-  <binding id="search-textbox" extends="chrome://global/content/bindings/textbox.xml#textbox">
-    <content>
-      <children/>
-      <xul:moz-input-box anonid="moz-input-box" flex="1" xbl:inherits="context,spellcheck" align="center">
-        <xul:image class="textbox-search-sign"/>
-        <html:input class="textbox-input" anonid="input" mozactionhint="search"
-                    xbl:inherits="value,type,maxlength,disabled,size,readonly,placeholder,tabindex,accesskey,mozactionhint,spellcheck"/>
-        <xul:deck class="textbox-search-icons" anonid="search-icons">
-          <xul:image class="textbox-search-icon" anonid="searchbutton-icon"
-                     xbl:inherits="src=image,label=searchbuttonlabel,searchbutton,disabled"/>
-          <xul:image class="textbox-search-clear"
-                     onclick="document.getBindingParent(this)._clearSearch();"
-                     label="&searchTextBox.clear.label;"
-                     xbl:inherits="disabled"/>
-        </xul:deck>
-      </xul:moz-input-box>
-    </content>
-    <implementation>
-      <field name="_timer">null</field>
-      <field name="_searchIcons">
-        document.getAnonymousElementByAttribute(this, "anonid", "search-icons");
-      </field>
-      <field name="_searchButtonIcon">
-        document.getAnonymousElementByAttribute(this, "anonid", "searchbutton-icon");
-      </field>
-      <property name="timeout"
-                onset="this.setAttribute('timeout', val); return val;"
-                onget="return parseInt(this.getAttribute('timeout')) || 500;"/>
-      <property name="searchButton"
-                onget="return this.getAttribute('searchbutton') == 'true';">
-        <setter><![CDATA[
-          if (val) {
-            this.setAttribute("searchbutton", "true");
-            this.removeAttribute("aria-autocomplete");
-            // Hack for the button to get the right accessible:
-            this._searchButtonIcon.setAttribute("onclick", "true");
-          } else {
-            this.removeAttribute("searchbutton");
-            this._searchButtonIcon.removeAttribute("onclick");
-            this.setAttribute("aria-autocomplete", "list");
-          }
-          return val;
-        ]]></setter>
-      </property>
-      <property name="value"
-                onget="return this.inputField.value;">
-        <setter><![CDATA[
-          this.inputField.value = val;
-
-          if (val)
-            this._searchIcons.selectedIndex = this.searchButton ? 0 : 1;
-          else
-            this._searchIcons.selectedIndex = 0;
-
-          if (this._timer)
-            clearTimeout(this._timer);
-
-          return val;
-        ]]></setter>
-      </property>
-      <constructor><![CDATA[
-        // Ensure the button state is up to date:
-        this.searchButton = this.searchButton;
-        this._searchButtonIcon.addEventListener("click", (e) => this._iconClick(e));
-      ]]></constructor>
-      <method name="_fireCommand">
-        <parameter name="me"/>
-        <body><![CDATA[
-          if (me._timer)
-            clearTimeout(me._timer);
-          me._timer = null;
-          me.doCommand();
-        ]]></body>
-      </method>
-      <method name="_iconClick">
-        <body><![CDATA[
-          if (this.searchButton)
-            this._enterSearch();
-          else
-            this.focus();
-        ]]></body>
-      </method>
-      <method name="_enterSearch">
-        <body><![CDATA[
-          if (this.disabled)
-            return;
-          if (this.searchButton && this.value && !this.readOnly)
-            this._searchIcons.selectedIndex = 1;
-          this._fireCommand(this);
-        ]]></body>
-      </method>
-      <method name="_clearSearch">
-        <body><![CDATA[
-          if (!this.disabled && !this.readOnly && this.value) {
-            this.value = "";
-            this._fireCommand(this);
-            this._searchIcons.selectedIndex = 0;
-            return true;
-          }
-          return false;
-        ]]></body>
-      </method>
-    </implementation>
-    <handlers>
-      <handler event="input">
-        <![CDATA[
-          if (this.searchButton) {
-            this._searchIcons.selectedIndex = 0;
-            return;
-          }
-          if (this._timer)
-            clearTimeout(this._timer);
-          this._timer = this.timeout && setTimeout(this._fireCommand, this.timeout, this);
-          this._searchIcons.selectedIndex = this.value ? 1 : 0;
-        ]]>
-      </handler>
-      <handler event="keypress" keycode="VK_ESCAPE">
-        <![CDATA[
-          if (this._clearSearch()) {
-            event.preventDefault();
-            event.stopPropagation();
-          }
-        ]]>
-      </handler>
-      <handler event="keypress" keycode="VK_RETURN">
-        <![CDATA[
-          this._enterSearch();
-          event.preventDefault();
-          event.stopPropagation();
-        ]]>
-      </handler>
-    </handlers>
-  </binding>
 </bindings>
diff --git a/toolkit/content/xul.css b/toolkit/content/xul.css
--- a/toolkit/content/xul.css
+++ b/toolkit/content/xul.css
@@ -519,8 +519,14 @@
   text-shadow: none;
 }
 
+/*
+  We need to include textbox[is="search-textbox"], because not all textboxes
+  have the type="search" attribute, which means the textbox binding will shortly
+  apply on search textboxes, causing the search textbox CE to break.
+*/
+textbox[is="search-textbox"],
 textbox[type="search"] {
-  -moz-binding: url("chrome://global/content/bindings/textbox.xml#search-textbox");
+  -moz-binding: none;
 }
 
 /* Prefix with (xul|*):root to workaround HTML tests loading xul.css */
diff --git a/toolkit/modules/SelectParentHelper.jsm b/toolkit/modules/SelectParentHelper.jsm
--- a/toolkit/modules/SelectParentHelper.jsm
+++ b/toolkit/modules/SelectParentHelper.jsm
@@ -425,8 +425,10 @@
   if (Services.prefs.getBoolPref("dom.forms.selectSearch") && addSearch
       && element.childElementCount > SEARCH_MINIMUM_ELEMENTS) {
     // Add a search text field as the first element of the dropdown
-    let searchbox = element.ownerDocument.createXULElement("textbox");
-    searchbox.setAttribute("type", "search");
+    let searchbox = element.ownerDocument.createXULElement("textbox", {
+      is: "search-textbox",
+    });
+    searchbox.className = "contentSelectDropdown-searchbox";
     searchbox.addEventListener("input", onSearchInput);
     searchbox.addEventListener("focus", onSearchFocus);
     searchbox.addEventListener("blur", onSearchBlur);
diff --git a/toolkit/mozapps/extensions/content/extensions.xul b/toolkit/mozapps/extensions/content/extensions.xul
--- a/toolkit/mozapps/extensions/content/extensions.xul
+++ b/toolkit/mozapps/extensions/content/extensions.xul
@@ -224,7 +224,7 @@
                       class="warning" data-l10n-id="show-unsigned-extensions-button"
                       command="cmd_showUnsignedExtensions"/>
               <label id="search-label" control="header-search"/>
-              <textbox id="header-search" type="search" searchbutton="true"
+              <textbox id="header-search" is="search-textbox" searchbutton="true"
                        data-l10n-id="search-header"
                        data-l10n-attrs="searchbuttonlabel" maxlength="100"/>
             </hbox>
diff --git a/toolkit/themes/linux/global/textbox.css b/toolkit/themes/linux/global/textbox.css
--- a/toolkit/themes/linux/global/textbox.css
+++ b/toolkit/themes/linux/global/textbox.css
@@ -70,7 +70,7 @@
 
 /* ::::: search textbox ::::: */
 
-textbox:not([searchbutton]) > moz-input-box > .textbox-search-sign {
+textbox:not([searchbutton]) > .textbox-search-sign {
   list-style-image: url(chrome://global/skin/icons/search-textbox.svg);
   margin-inline-end: 5px;
 }
diff --git a/toolkit/themes/osx/global/in-content/common.css b/toolkit/themes/osx/global/in-content/common.css
--- a/toolkit/themes/osx/global/in-content/common.css
+++ b/toolkit/themes/osx/global/in-content/common.css
@@ -74,7 +74,7 @@
   padding-inline-end: 8px;
 }
 
-xul|textbox[type="search"] > moz-input-box > .textbox-search-sign {
+xul|textbox[type="search"] > .textbox-search-sign {
   list-style-image: url(chrome://global/skin/icons/search-textbox.svg);
   margin-inline-end: 5px;
 }
diff --git a/toolkit/themes/windows/global/textbox.css b/toolkit/themes/windows/global/textbox.css
--- a/toolkit/themes/windows/global/textbox.css
+++ b/toolkit/themes/windows/global/textbox.css
@@ -76,7 +76,7 @@
 
 /* ::::: search textbox ::::: */
 
-textbox:not([searchbutton]) > moz-input-box > .textbox-search-sign {
+textbox:not([searchbutton]) > .textbox-search-sign {
   list-style-image: url(chrome://global/skin/icons/search-textbox.svg);
   margin-inline-end: 5px;
 }

