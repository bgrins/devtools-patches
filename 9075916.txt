# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  d2edd256c3aadb1cea48da0c8f62f725bd53cb76
Bug 1429857 - Override -moz-appearance on menuitem and descendants, and padding on menuitem-iconic-left;r=dao

This is needed because menu.css is now loaded as a document style and rules there are overriding some in
panelUI.inc.css. There are plans to deprioritize menu.css in Bug 1420229, at which point this code can be removed.

MozReview-Commit-ID: CF9Ixgqob8

diff --git a/browser/themes/shared/customizableui/panelUI.inc.css b/browser/themes/shared/customizableui/panelUI.inc.css
--- a/browser/themes/shared/customizableui/panelUI.inc.css
+++ b/browser/themes/shared/customizableui/panelUI.inc.css
@@ -1249,16 +1249,33 @@ toolbarpaletteitem[place="menu-panel"] >
   padding-inline-start: .5em;
 }
 
 .subviewbutton > .menu-iconic-left {
   -moz-appearance: none;
   margin-inline-end: 0;
 }
 
+%ifdef XP_WIN
+/* Overrides from menu.css to prevent items in the bookmarks popup from being too tall.
+   These won't be necessary once menu.css is loaded aa UA style (Bug 1420229). */
+menu.menu-iconic.subviewbutton > .menu-iconic-left,
+menuitem.menuitem-iconic.subviewbutton > .menu-iconic-left {
+  padding-top: 0;
+  -moz-appearance: none;
+}
+
+menuitem.subviewbutton,
+menuitem[type="checkbox"].subviewbutton,
+menuitem[type="checkbox"].subviewbutton > .menu-iconic-left,
+menuitem.subviewbutton > .menu-iconic-left > .menu-iconic-icon {
+  -moz-appearance: none;
+}
+%endif
+
 menuitem[checked="true"].subviewbutton > .menu-iconic-left {
   visibility: hidden;
 }
 
 #PanelUI-panicView > .panel-subview-body,
 #PanelUI-panicView {
   overflow: visible;
 }
