# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  17c314f6930d2b8d6e456aa9e9d41407a45c3008

diff --git a/browser/base/content/test-radiogroup.xul b/browser/base/content/test-radiogroup.xul
new file mode 100644
--- /dev/null
+++ b/browser/base/content/test-radiogroup.xul
@@ -0,0 +1,37 @@
+<?xml version="1.0"?>
+<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
+<wizard xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
+  
+  <wizardpage pageid="page1" next="page2">
+    <description>page1</description>
+    <radiogroup>
+        <radio value="foo" label="foo" selected="true"/>
+        <radio value="bar" label="bar"/>
+    </radiogroup>
+  </wizardpage>
+  
+  <wizardpage pageid="page2" next="page3">
+    <description>page2</description>
+  </wizardpage>
+  
+  <wizardpage pageid="page3" next="page4">
+    <description>page3</description>
+    <radiogroup>
+      <radio value="baz" label="baz" selected="true" />
+      <radio value="quux" label="quux"/>
+    </radiogroup>
+  </wizardpage>
+  
+  <wizardpage pageid="page4" next="page5">
+    <description>page4</description>
+  </wizardpage>
+  
+  <wizardpage pageid="page5">
+    <description>page5</description>
+    <radiogroup>
+      <radio value="foobar" label="foobar" selected="true" />
+      <radio value="bazquux" label="bazquux"/>
+    </radiogroup>
+  </wizardpage>
+
+</wizard>
diff --git a/browser/base/jar.mn b/browser/base/jar.mn
--- a/browser/base/jar.mn
+++ b/browser/base/jar.mn
@@ -28,16 +28,17 @@ browser.jar:
         content/browser/aboutTabCrashed.js            (content/aboutTabCrashed.js)
         content/browser/aboutTabCrashed.xhtml         (content/aboutTabCrashed.xhtml)
 *       content/browser/browser.css                   (content/browser.css)
         content/browser/browser.js                    (content/browser.js)
 #ifdef MOZ_BROWSER_XHTML
 *       content/browser/browser.xhtml                 (content/browser.xhtml)
 #endif
 *       content/browser/browser.xul                   (content/browser.xul)
+*       content/browser/test-radiogroup.xul                   (content/test-radiogroup.xul)
         content/browser/browser-addons.js             (content/browser-addons.js)
         content/browser/browser-allTabsMenu.js        (content/browser-allTabsMenu.js)
         content/browser/browser-captivePortal.js      (content/browser-captivePortal.js)
         content/browser/browser-ctrlTab.js            (content/browser-ctrlTab.js)
         content/browser/browser-customization.js      (content/browser-customization.js)
         content/browser/browser-data-submission-info-bar.js (content/browser-data-submission-info-bar.js)
         content/browser/browser-compacttheme.js       (content/browser-compacttheme.js)
         content/browser/browser-contentblocking.js    (content/browser-contentblocking.js)
diff --git a/toolkit/content/widgets/radio.js b/toolkit/content/widgets/radio.js
--- a/toolkit/content/widgets/radio.js
+++ b/toolkit/content/widgets/radio.js
@@ -109,16 +109,18 @@ class MozRadiogroup extends MozBaseContr
       this.removeAttribute("focused");
       this.focusedItem = null;
     });
   }
 
   connectedCallback() {
     this._radioChildren = null;
 
+    console.log("XBL CHILDREN?", this.innerHTML);
+
     if (this.getAttribute("disabled") == "true")
       this.disabled = true;
 
     var children = this._getRadioChildren();
     var length = children.length;
     for (var i = 0; i < length; i++) {
       if (children[i].getAttribute("selected") == "true") {
         this.selectedIndex = i;
