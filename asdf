# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  0d946b76b429de63c1da7b3e6eafa3875cb7a66a
temp

diff --git a/browser/components/controlcenter/content/panel.inc.xul b/browser/components/controlcenter/content/panel.inc.xul
--- a/browser/components/controlcenter/content/panel.inc.xul
+++ b/browser/components/controlcenter/content/panel.inc.xul
@@ -33,16 +33,62 @@
           <label class="identity-popup-connection-internal identity-popup-text"
                  value="&identity.connectionInternal;"/>
         </vbox>
         <button class="identity-popup-expander"
                 oncommand="gIdentityHandler.showSubView('security', this)"/>
       </hbox>
 
       <!-- Tracking Protection Section -->
+      <hbox id="tracking-protection-container" class="identity-popup-section">
+        <hbox align="top">
+          <image id="tracking-protection-image" />
+          <box style="display:block">
+            <vbox id="tracking-protection-content-box">
+              <label class="identity-popup-text identity-popup-headline"
+                     crop="end"
+                     value="&trackingProtection.title;">
+              </label>
+
+              <label id="tracking-blocked"
+                     class="identity-popup-text tracking-protection-label"
+                     crop="end">
+                &trackingProtection.detectedBlocked;
+              </label>
+              <label id="tracking-loaded"
+                     class="identity-popup-text tracking-protection-label"
+                     crop="end">
+                &trackingProtection.detectedNotBlocked;
+              </label>
+              <label id="tracking-not-detected"
+                     class="identity-popup-text tracking-protection-label"
+                     crop="end">
+                &trackingProtection.notDetected;
+              </label>
+
+              <button id="tracking-actions"
+                type="menu" label="&trackingContentBlocked.options;"
+                sizetopopup="none">
+                <menupopup>
+                  <menuitem
+                    id="tracking-action-unblock"
+                    label="&trackingProtection.unblock.label;"
+                    accesskey="&trackingProtection.unblock.accesskey;"
+                    oncommand="TrackingProtection.disableForCurrentPage();"/>
+                  <menuitem
+                    id="tracking-action-block"
+                    label="&trackingProtection.block.label;"
+                    accesskey="&trackingProtection.block.accesskey;"
+                    oncommand="TrackingProtection.enableForCurrentPage();"/>
+                </menupopup>
+              </button>
+            </vbox>
+          </box>
+        </hbox>
+      </hbox>
 
 
       <!-- Permissions Section -->
       <hbox id="identity-popup-permissions" class="identity-popup-section">
         <vbox id="identity-popup-permissions-content" flex="1">
           <label class="identity-popup-text identity-popup-headline"
                  value="&identity.permissions;"/>
           <vbox id="identity-popup-permission-list"/>
@@ -71,65 +117,16 @@
                    class="identity-popup-text"/>
       <description id="identity-popup-content-supplemental"
                    class="identity-popup-text"/>
       <description id="identity-popup-content-verifier"
                    class="identity-popup-text"/>
     </panelview>
   </panelmultiview>
 
-  <separator class="groove" />
-
-  <!-- Tracking protection -->
-  <hbox id="tracking-protection-container">
-    <hbox align="top">
-      <image id="tracking-protection-image" />
-      <box style="display:block">
-        <vbox id="tracking-protection-content-box">
-          <label class="identity-popup-headline"
-                 crop="end"
-                 value="&trackingProtection.title;">
-          </label>
-
-          <label id="tracking-blocked"
-                 class="tracking-protection-label"
-                 crop="end">
-            &trackingProtection.detectedBlocked;
-          </label>
-          <label id="tracking-loaded"
-                 class="tracking-protection-label"
-                 crop="end">
-            &trackingProtection.detectedNotBlocked;
-          </label>
-          <label id="tracking-not-detected"
-                 class="tracking-protection-label"
-                 crop="end">
-            &trackingProtection.notDetected;
-          </label>
-
-          <button id="tracking-actions"
-            type="menu" label="&trackingContentBlocked.options;"
-            sizetopopup="none">
-            <menupopup>
-              <menuitem
-                id="tracking-action-unblock"
-                label="&trackingProtection.unblock.label;"
-                accesskey="&trackingProtection.unblock.accesskey;"
-                oncommand="TrackingProtection.disableForCurrentPage();"/>
-              <menuitem
-                id="tracking-action-block"
-                label="&trackingProtection.block.label;"
-                accesskey="&trackingProtection.block.accesskey;"
-                oncommand="TrackingProtection.enableForCurrentPage();"/>
-            </menupopup>
-          </button>
-        </vbox>
-      </box>
-    </hbox>
-  </hbox>
 
   <spacer flex="1"/>
 
   <!-- More Information Button -->
   <hbox id="identity-popup-button-container" align="center">
     <button id="identity-popup-more-info-button" flex="1"
             label="&identity.moreInfoLinkText2;"
             oncommand="gIdentityHandler.handleMoreInfoClick(event);"/>
diff --git a/browser/themes/shared/controlcenter/panel.inc.css b/browser/themes/shared/controlcenter/panel.inc.css
--- a/browser/themes/shared/controlcenter/panel.inc.css
+++ b/browser/themes/shared/controlcenter/panel.inc.css
@@ -231,46 +231,39 @@
 }
 
 #identity-popup-more-info-button:hover:active {
   color: inherit;
   background-color: hsla(210,4%,10%,.12);
   box-shadow: 0 1px 0 hsla(210,4%,10%,.05) inset;
 }
 
-#identity-popup separator {
-  margin: 0;
-}
-
 /* Tracking protection changes */
 
-#identity-popup-multiView[viewtype="subview"] ~ * {
-  display: none;
-}
-
-#tracking-protection-container {
-  padding: 10px;
-}
-
 .tracking-protection-label {
-  font-size: 110%;
+  white-space: normal;
   max-width: 260px;
   margin: 5px 0;
 }
 
 #tracking-protection-content-box {
   -moz-padding-start: 10px;
 }
 
 #tracking-actions {
   margin: 0;
 }
+#tracking-protection-container {
+  background-image: url("chrome://browser/skin/controlcenter/tracking-protection.svg");
+}
+
 
 /* Tracking protection icons */
 #tracking-protection-image {
+  display: none;
   height: 24px;
   width: 24px;
   padding: 0;
   list-style-image: url("chrome://browser/skin/controlcenter/tracking-protection.svg");
 }
 
 #tracking-protection-container[block-disabled] #tracking-protection-image  {
   list-style-image: url("chrome://browser/skin/controlcenter/tracking-protection-disabled.svg");
