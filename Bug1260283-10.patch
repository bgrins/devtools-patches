# vim: se ft=diff :
# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 2016-04-29 13:18
Bug 1260283 - Implement new console output frontend behind a pref. r=linclark

diff --git a/devtools/client/webconsole/new-console-output/main.js b/devtools/client/webconsole/new-console-output/main.js
index 66e99e1..c930604 100644
--- a/devtools/client/webconsole/new-console-output/main.js
+++ b/devtools/client/webconsole/new-console-output/main.js
@@ -9,18 +9,16 @@
 var { utils: Cu } = Components;
 
 Cu.import("resource://gre/modules/XPCOMUtils.jsm");
 Cu.import("resource://devtools/client/shared/browser-loader.js");
 
 // Initialize module loader and load all modules of the new inline
 // preview feature. The entire code-base doesn't need any extra
 // privileges and runs entirely in content scope.
-const rootUrl = "resource://devtools/client/webconsole/new-console-output/";
-const require = BrowserLoader({
-  baseURI: rootUrl,
-  window: this}).require;
-const NewConsoleOutputWrapper = require("./new-console-output-wrapper");
+const NewConsoleOutputWrapper = BrowserLoader({
+  baseURI: "resource://devtools/client/webconsole/new-console-output/",
+  window: this}).require("./new-console-output-wrapper");
 
 this.NewConsoleOutput = function(parentNode, jsterm) {
   console.log("Creating NewConsoleOutput", parentNode, NewConsoleOutputWrapper);
   return new NewConsoleOutputWrapper(parentNode, jsterm);
 };
