# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1539110080 25200
#      Tue Oct 09 11:34:40 2018 -0700
# Node ID 9ec55c72f8642779ac5aad7d9a0ee7c43b18dfa8
# Parent  a9616aaeff87448588d57c295e16eb4caec420fb
Bug 1497601 - Test case for crash with empty Custom Element on label

Run with `./mach talos-test -a tresize`

Differential Revision: https://phabricator.services.mozilla.com/D8127

diff --git a/toolkit/content/customElements.js b/toolkit/content/customElements.js
--- a/toolkit/content/customElements.js
+++ b/toolkit/content/customElements.js
@@ -233,16 +233,20 @@ class MozBaseControl extends MozXULEleme
 }
 
 MozXULElement.implementCustomInterface(MozBaseControl, [Ci.nsIDOMXULControlElement]);
 
 // Attach the base class to the window so other scripts can use it:
 window.MozXULElement = MozXULElement;
 window.MozBaseControl = MozBaseControl;
 
+customElements.define("label", class MozLabel extends XULTextElement {
+
+});
+
 // For now, don't load any elements in the extension dummy document.
 // We will want to load <browser> when that's migrated (bug 1441935).
 const isDummyDocument = document.documentURI == "chrome://extensions/content/dummy.xul";
 if (!isDummyDocument) {
   for (let script of [
     "chrome://global/content/elements/general.js",
     "chrome://global/content/elements/progressmeter.js",
     "chrome://global/content/elements/radio.js",
