# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1575312011 28800
#      Mon Dec 02 10:40:11 2019 -0800
# Node ID 9e9bafd30eba3fde043ee2e7edfaada471842e62
# Parent  778b6b11194c072d2603e58118aaf6959e98902f
Bug 1600281 - Rewrite horizontal boxes that were incorrectly translated from align=right to align=end to use pack=end

- align="left" maps to pack="start" for horizontal boxes and align="start" for vertical boxes.
- align="right" maps to pack="end" for horizontal boxes and align="end" for vertical boxes.

Differential Revision: https://phabricator.services.mozilla.com/D55528

diff --git a/browser/components/preferences/blocklists.xhtml b/browser/components/preferences/blocklists.xhtml
--- a/browser/components/preferences/blocklists.xhtml
+++ b/browser/components/preferences/blocklists.xhtml
@@ -42,15 +42,15 @@
                  type="checkbox"/>
         <treecol id="listCol" data-l10n-id="blocklist-treehead-list" flex="80"
                  sortable="false"/>
       </treecols>
       <treechildren/>
     </tree>
   </vbox>
 
-  <hbox class="actionButtons" align="end" flex="1">
+  <hbox class="actionButtons" pack="end" flex="1">
     <button oncommand="window.close();" icon="close"
             data-l10n-id="blocklist-button-cancel"/>
     <button id="btnApplyChanges" oncommand="gBlocklistManager.onApplyChanges();" icon="save"
             data-l10n-id="blocklist-button-ok"/>
   </hbox>
 </window>
diff --git a/browser/components/preferences/clearSiteData.xhtml b/browser/components/preferences/clearSiteData.xhtml
--- a/browser/components/preferences/clearSiteData.xhtml
+++ b/browser/components/preferences/clearSiteData.xhtml
@@ -36,15 +36,15 @@
       </vbox>
       <vbox class="option">
         <checkbox data-l10n-id="clear-site-data-cache-empty" id="clearCache" checked="true"/>
         <description class="option-description indent" data-l10n-id="clear-site-data-cache-info"/>
       </vbox>
     </vbox>
   </vbox>
 
-  <hbox class="actionButtons" align="end" flex="1">
+  <hbox class="actionButtons" pack="end" flex="1">
     <button id="cancelButton" icon="close"
             data-l10n-id="clear-site-data-cancel"/>
     <button id="clearButton" icon="save"
             data-l10n-id="clear-site-data-clear"/>
   </hbox>
 </window>
diff --git a/browser/components/preferences/containers.xhtml b/browser/components/preferences/containers.xhtml
--- a/browser/components/preferences/containers.xhtml
+++ b/browser/components/preferences/containers.xhtml
@@ -40,13 +40,13 @@
     </hbox>
     <hbox align="center" id="iconWrapper">
       <label id="iconLabel" control="icon"
              data-l10n-id="containers-icon-label"
              data-l10n-attrs="style"/>
     </hbox>
   </vbox>
 
-  <hbox class="actionButtons" align="end" flex="1">
+  <hbox class="actionButtons" pack="end" flex="1">
     <button id="btnApplyChanges" disabled="true" oncommand="gContainersManager.onApplyChanges();" icon="save"
             data-l10n-id="containers-button-done"/>
   </hbox>
 </window>
diff --git a/browser/components/preferences/in-content/containers.js b/browser/components/preferences/in-content/containers.js
--- a/browser/components/preferences/in-content/containers.js
+++ b/browser/components/preferences/in-content/containers.js
@@ -60,17 +60,17 @@ let gContainersPane = {
       label.textContent = ContextualIdentityService.getUserContextLabel(
         container.userContextId
       );
       outer.appendChild(label);
 
       let containerButtons = document.createXULElement("hbox");
       containerButtons.className = "container-buttons";
       containerButtons.setAttribute("flex", 1);
-      containerButtons.setAttribute("align", "end");
+      containerButtons.setAttribute("pack", "end");
       item.appendChild(containerButtons);
 
       let prefsButton = document.createXULElement("button");
       prefsButton.addEventListener("command", function(event) {
         gContainersPane.onPreferenceCommand(event.originalTarget);
       });
       prefsButton.setAttribute("value", container.userContextId);
       document.l10n.setAttributes(prefsButton, "containers-preferences-button");
diff --git a/browser/components/preferences/permissions.xhtml b/browser/components/preferences/permissions.xhtml
--- a/browser/components/preferences/permissions.xhtml
+++ b/browser/components/preferences/permissions.xhtml
@@ -54,26 +54,26 @@
                data-isCurrentSortCol="true"
                onclick="gPermissionManager.buildPermissionsList(event.target);"/>
     </listheader>
     <richlistbox id="permissionsBox" flex="1" selected="false"
                  onkeypress="gPermissionManager.onPermissionKeyPress(event);"
                  onselect="gPermissionManager.onPermissionSelect();"/>
   </vbox>
 
-  <hbox class="actionButtons" align="start" flex="1">
+  <hbox class="actionButtons" flex="1">
     <button id="removePermission" disabled="true"
             data-l10n-id="permissions-remove"
             icon="remove"
             oncommand="gPermissionManager.onPermissionDelete();"/>
     <button id="removeAllPermissions"
             data-l10n-id="permissions-remove-all"
             icon="clear"
             oncommand="gPermissionManager.onAllPermissionsDelete();"/>
   </hbox>
   <spacer flex="1"/>
-  <hbox class="actionButtons" align="end" flex="1">
+  <hbox class="actionButtons" pack="end" flex="1">
     <button oncommand="window.close();" icon="close"
             data-l10n-id="permissions-button-cancel" />
     <button id="btnApplyChanges" oncommand="gPermissionManager.onApplyChanges();" icon="save"
             data-l10n-id="permissions-button-ok" />
   </hbox>
 </window>
diff --git a/browser/components/preferences/sitePermissions.xhtml b/browser/components/preferences/sitePermissions.xhtml
--- a/browser/components/preferences/sitePermissions.xhtml
+++ b/browser/components/preferences/sitePermissions.xhtml
@@ -52,17 +52,17 @@
                data-isCurrentSortCol="true"
                onclick="gSitePermissionsManager.buildPermissionsList(event.target);"/>
     </listheader>
     <richlistbox id="permissionsBox" flex="1" selected="false"
                  onkeypress="gSitePermissionsManager.onPermissionKeyPress(event);"
                  onselect="gSitePermissionsManager.onPermissionSelect();"/>
   </vbox>
 
-  <hbox class="actionButtons" align="start" flex="1">
+  <hbox class="actionButtons" flex="1">
     <button id="removePermission" disabled="true"
             data-l10n-id="permissions-remove"
             icon="remove"
             oncommand="gSitePermissionsManager.onPermissionDelete();"/>
     <button id="removeAllPermissions"
             data-l10n-id="permissions-remove-all"
             icon="clear"
             oncommand="gSitePermissionsManager.onAllPermissionsDelete();"/>
@@ -74,15 +74,15 @@
   <spacer flex="1"/>
   <hbox id="browserNotificationsPermissionExtensionContent"
         class="extension-controlled" align="center" hidden="true">
     <description control="disableNotificationsPermissionExtension" flex="1"/>
     <button id="disableNotificationsPermissionExtension"
             class="extension-controlled-button accessory-button"
             data-l10n-id="disable-extension"/>
   </hbox>
-  <hbox class="actionButtons" align="end" flex="1">
+  <hbox class="actionButtons" pack="end" flex="1">
     <button oncommand="window.close();" icon="close" id="cancel"
             data-l10n-id="permissions-button-cancel" />
     <button id="btnApplyChanges" oncommand="gSitePermissionsManager.onApplyChanges();" icon="save"
             data-l10n-id="permissions-button-ok" />
   </hbox>
 </window>
diff --git a/browser/components/preferences/translation.xhtml b/browser/components/preferences/translation.xhtml
--- a/browser/components/preferences/translation.xhtml
+++ b/browser/components/preferences/translation.xhtml
@@ -39,17 +39,17 @@
             onkeypress="gTranslationExceptions.onLanguageKeyPress(event)"
             onselect="gTranslationExceptions.onLanguageSelected();">
         <treecols>
           <treecol id="languageCol" data-l10n-id="translation-languages-column" flex="1"/>
         </treecols>
         <treechildren/>
       </tree>
     </vbox>
-    <hbox class="actionButtons" align="end">
+    <hbox class="actionButtons" pack="end">
       <button id="removeLanguage" disabled="true"
               data-l10n-id="translation-languages-button-remove"
               icon="remove"
               oncommand="gTranslationExceptions.onLanguageDeleted();"/>
       <button id="removeAllLanguages"
               data-l10n-id="translation-languages-button-remove-all"
               icon="clear"
               oncommand="gTranslationExceptions.onAllLanguagesDeleted();"/>
@@ -68,17 +68,17 @@
         <treecols>
           <treecol id="siteCol" data-l10n-id="translation-sites-column" flex="1"/>
         </treecols>
         <treechildren/>
       </tree>
     </vbox>
   </vbox>
 
-  <hbox class="actionButtons" align="end">
+  <hbox class="actionButtons" pack="end">
     <button id="removeSite" disabled="true"
             data-l10n-id="translation-sites-button-remove"
             icon="remove"
             oncommand="gTranslationExceptions.onSiteDeleted();"/>
     <button id="removeAllSites"
             data-l10n-id="translation-sites-button-remove-all"
             icon="clear"
             oncommand="gTranslationExceptions.onAllSitesDeleted();"/>
diff --git a/browser/components/shell/content/setDesktopBackground.xul b/browser/components/shell/content/setDesktopBackground.xul
--- a/browser/components/shell/content/setDesktopBackground.xul
+++ b/browser/components/shell/content/setDesktopBackground.xul
@@ -71,17 +71,17 @@
         </vbox>
       </stack>
       <image id="monitor-base"/>
     </vbox>
 
 #ifdef XP_MACOSX
     <separator/>
 
-    <hbox align="end">
+    <hbox pack="end">
       <button id="setDesktopBackground"
               label="&setDesktopBackground.title;"
               oncommand="gSetBackground.setDesktopBackground();"/>
       <button id="showDesktopPreferences"
               label="&openDesktopPrefs.label;"
               oncommand="gSetBackground.showDesktopPrefs();"
               hidden="true"/>
     </hbox>
