From ae3605711f2d0de2032c9e9a2f62c441790b59d9 Mon Sep 17 00:00:00 2001
From: "Helen V. Holmes" <helen.v.holmes@gmail.com>
Date: Thu, 17 Mar 2016 08:58:32 -0400
Subject: [PATCH] Bug 1246313, changing code mirror colors to be higher
 contrast, r=bgrins

Move some classes around to address Style Editor and Debugger

Add back in .cm-def, remove extra redundant rule, add
--theme-highlight-gray to all themes, r=bgrins
---
 devtools/client/themes/dark-theme.css        | 20 ++++++++++----------
 devtools/client/themes/light-theme.css       | 17 ++++++++++-------
 devtools/client/themes/variables.css         | 13 ++++++++-----
 devtools/client/webconsole/console-output.js |  2 +-
 4 files changed, 29 insertions(+), 23 deletions(-)

diff --git a/devtools/client/themes/dark-theme.css b/devtools/client/themes/dark-theme.css
index 9acf790..d1b74eb 100644
--- a/devtools/client/themes/dark-theme.css
+++ b/devtools/client/themes/dark-theme.css
@@ -42,8 +42,9 @@ body {
 }
 
 .theme-link,
-.cm-s-mozilla .cm-link {
-  color: var(--theme-highlight-blue);
+.cm-s-mozilla .cm-link,
+.cm-s-mozilla .cm-keyword {
+  color: var(--theme-highlight-green);
 }
 
 /*
@@ -82,7 +83,7 @@ body {
 .variable-or-property .token-number,
 .variable-or-property[return] > .title > .name,
 .variable-or-property[scope] > .title > .name {
-  color: var(--theme-highlight-green);
+  color: var(--theme-highlight-red);
 }
 
 .CodeMirror-Tern-completion-number:before {
@@ -91,12 +92,11 @@ body {
 
 .theme-fg-color2,
 .cm-s-mozilla .cm-attribute,
-.cm-s-mozilla .cm-variable,
 .cm-s-mozilla .cm-def,
 .cm-s-mozilla .cm-property,
 .cm-s-mozilla .cm-qualifier,
 .variables-view-variable > .title > .name {
-  color: var(--theme-highlight-blue);
+  color: var(--theme-highlight-purple);
 }
 
 .CodeMirror-Tern-completion-object:before {
@@ -118,7 +118,7 @@ body {
 .cm-s-mozilla .cm-header,
 .cm-s-mozilla .cm-bracket,
 .variables-view-property > .title > .name {
-  color: var(--theme-highlight-pink);
+  color: var(--theme-highlight-green);
 }
 
 .CodeMirror-Tern-completion-array:before {
@@ -129,17 +129,17 @@ body {
   color: var(--theme-highlight-purple);
 }
 
-.theme-fg-color5,
-.cm-s-mozilla .cm-keyword {
-  color: var(--theme-highlight-lightorange);
+.theme-fg-color5 {
+  color: var(--theme-highlight-purple);
 }
 
 .theme-fg-color6,
 .cm-s-mozilla .cm-string,
 .cm-s-mozilla .cm-string-2,
 .variable-or-property .token-string,
+.cm-s-mozilla .cm-variable,
 .CodeMirror-Tern-farg {
-  color: var(--theme-highlight-orange);
+  color: var(--theme-highlight-gray);
 }
 
 .CodeMirror-Tern-completion-string:before,
diff --git a/devtools/client/themes/light-theme.css b/devtools/client/themes/light-theme.css
index ab37a18..70c8fea 100644
--- a/devtools/client/themes/light-theme.css
+++ b/devtools/client/themes/light-theme.css
@@ -90,7 +90,7 @@ body {
 .variable-or-property .token-number,
 .variable-or-property[return] > .title > .name,
 .variable-or-property[scope] > .title > .name {
-  color: var(--theme-highlight-green);
+  color: var(--theme-highlight-purple);
 }
 
 .CodeMirror-Tern-completion-number:before {
@@ -100,11 +100,13 @@ body {
 .theme-fg-color2,
 .cm-s-mozilla .cm-attribute,
 .cm-s-mozilla .cm-builtin,
-.cm-s-mozilla .cm-def,
 .cm-s-mozilla .cm-property,
-.cm-s-mozilla .cm-qualifier,
 .variables-view-variable > .title > .name {
-  color: var(--theme-highlight-blue);
+  color: var(--theme-highlight-red);
+}
+
+.cm-s-mozilla .cm-def {
+  color: var(--theme-body-color);
 }
 
 .CodeMirror-Tern-completion-object:before {
@@ -116,8 +118,9 @@ body {
 .cm-s-mozilla .cm-tag,
 .cm-s-mozilla .cm-header,
 .cm-s-mozilla .cm-bracket,
+.cm-s-mozilla .cm-qualifier,
 .variables-view-property > .title > .name {
-  color: var(--theme-highlight-bluegrey);
+  color: var(--theme-highlight-blue);
 }
 
 .CodeMirror-Tern-completion-array:before {
@@ -130,7 +133,7 @@ body {
 
 .theme-fg-color5,
 .cm-s-mozilla .cm-keyword {
-  color: var(--theme-highlight-lightorange);
+  color: var(--theme-highlight-red);
 }
 
 .theme-fg-color6,
@@ -138,7 +141,7 @@ body {
 .cm-s-mozilla .cm-string-2,
 .variable-or-property .token-string,
 .CodeMirror-Tern-farg {
-  color: var(--theme-highlight-orange);
+  color: var(--theme-highlight-purple);
 }
 
 .CodeMirror-Tern-completion-string:before,
diff --git a/devtools/client/themes/variables.css b/devtools/client/themes/variables.css
index fdccb21..f0e55dd 100644
--- a/devtools/client/themes/variables.css
+++ b/devtools/client/themes/variables.css
@@ -35,13 +35,14 @@
   --theme-content-color3: #667380;
 
   --theme-highlight-green: #2cbb0f;
-  --theme-highlight-blue: #0088cc;
+  --theme-highlight-blue: #3455db;
   --theme-highlight-bluegrey: #0072ab;
-  --theme-highlight-purple: #5b5fff;
+  --theme-highlight-purple: #887ce6;
   --theme-highlight-lightorange: #d97e00;
   --theme-highlight-orange: #f13c00;
-  --theme-highlight-red: #ed2655;
+  --theme-highlight-red: #e22f6f;
   --theme-highlight-pink: #b82ee5;
+  --theme-highlight-gray: #dde1e4;
 
   /* Colors used in Graphs, like performance tools. Similar colors to Chrome's timeline. */
   --theme-graphs-green: #85d175;
@@ -80,14 +81,15 @@
   --theme-content-color2: #8fa1b2;
   --theme-content-color3: #5f7387;
 
-  --theme-highlight-green: #70bf53;
+  --theme-highlight-green: #00ff7f;
   --theme-highlight-blue: #46afe3;
   --theme-highlight-bluegrey: #5e88b0;
-  --theme-highlight-purple: #6b7abb;
+  --theme-highlight-purple: #bcb8db;
   --theme-highlight-lightorange: #d99b28;
   --theme-highlight-orange: #d96629;
   --theme-highlight-red: #eb5368;
   --theme-highlight-pink: #df80ff;
+  --theme-highlight-gray: #e9f4fe;
 
   /* Colors used in Graphs, like performance tools. Mostly similar to some "highlight-*" colors. */
   --theme-graphs-green: #70bf53;
@@ -133,6 +135,7 @@
   --theme-highlight-orange: #f13c00;
   --theme-highlight-red: #ed2655;
   --theme-highlight-pink: #b82ee5;
+  --theme-highlight-gray: #dde1e4;
 
   /* Colors used in Graphs, like performance tools. Similar colors to Chrome's timeline. */
   --theme-graphs-green: #85d175;
diff --git a/devtools/client/webconsole/console-output.js b/devtools/client/webconsole/console-output.js
index b4e41f8..5406ad0 100644
--- a/devtools/client/webconsole/console-output.js
+++ b/devtools/client/webconsole/console-output.js
@@ -2981,7 +2981,7 @@ Widgets.ObjectRenderers.add({
 
     if (!this.options.concise) {
       this._text(" ");
-      this.element.appendChild(this.el("span.console-string",
+      this.element.appendChild(this.el("span.theme-fg-color6",
                                        VariablesView.getString(preview.text)));
     }
   },
-- 
2.6.4

