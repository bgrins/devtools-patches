# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  e0595117ff5bda3a63a72ad7b3b8754fec4fb4f0
Bug 1466833 - Extra logging for CE/XBL constructor race

diff --git a/browser/components/search/content/search.xml b/browser/components/search/content/search.xml
--- a/browser/components/search/content/search.xml
+++ b/browser/components/search/content/search.xml
@@ -1254,17 +1254,17 @@
           return this.getAttribute("compact") == "true";
         ]]></getter>
       </property>
 
       <field name="buttons" readonly="true">
         document.getAnonymousElementByAttribute(this, "anonid", "search-panel-one-offs");
       </field>
       <field name="header" readonly="true">
-        document.getAnonymousElementByAttribute(this, "anonid", "search-panel-one-offs-header");
+        (console.log("Getting header") || console.trace() || document.getAnonymousElementByAttribute(this, "anonid", "search-panel-one-offs-header"))
       </field>
       <field name="addEngines" readonly="true">
         document.getAnonymousElementByAttribute(this, "anonid", "add-engines");
       </field>
       <field name="settingsButton" readonly="true">
         document.getAnonymousElementByAttribute(this, "anonid", "search-settings");
       </field>
       <field name="settingsButtonCompact" readonly="true">
diff --git a/toolkit/content/widgets/general.js b/toolkit/content/widgets/general.js
--- a/toolkit/content/widgets/general.js
+++ b/toolkit/content/widgets/general.js
@@ -2,16 +2,23 @@
  * License, v. 2.0. If a copy of the MPL was not distributed with this
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 "use strict";
 
 {
 
 class MozDeck extends MozXULElement {
+  constructor() {
+    super();
+    console.log("Custom Element constructed", this, this.hasOwnProperty("selectedIndex"));
+  }
+  connectedCallback() {
+    console.log("Custom Element connectedCallback", this, this.hasOwnProperty("selectedIndex"));
+  }
   set selectedIndex(val) {
     if (this.selectedIndex == val) return val;
     this.setAttribute("selectedIndex", val);
     var event = document.createEvent("Events");
     event.initEvent("select", true, true);
     this.dispatchEvent(event);
     return val;
   }
