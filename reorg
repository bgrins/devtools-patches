# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  24644a6f7a5166e528072af115f23f03f0d67402

diff --git a/browser/base/content/browser.css b/browser/base/content/browser.css
--- a/browser/base/content/browser.css
+++ b/browser/base/content/browser.css
@@ -54,16 +54,32 @@
   min-width: -moz-fit-content;
 }
 
 .search-one-offs[compact=true] .search-setting-button,
 .search-one-offs:not([compact=true]) .search-setting-button-compact {
   display: none;
 }
 
+.browserStack > * {
+  grid-area: 1/1;
+  inline-size: 100%;
+}
+.browserStack {
+  display: grid;
+  flex-direction: column;
+}
+.browserStack > tabmodalprompt {
+  display: flex;
+}
+.browserStack > tabmodalprompt > hbox {
+  align-self: center;
+  margin: 0 auto;
+}
+
 /* Prevent shrinking the page content to 0 height and width */
 .browserStack > browser {
   min-height: 25px;
   min-width: 25px;
 }
 
 %ifdef MENUBAR_CAN_AUTOHIDE
 #toolbar-menubar[autohide="true"] {
diff --git a/browser/base/content/tabbrowser.js b/browser/base/content/tabbrowser.js
--- a/browser/base/content/tabbrowser.js
+++ b/browser/base/content/tabbrowser.js
@@ -2179,17 +2179,17 @@
       notificationbox.setAttribute("notificationside", "top");
 
       // We set large flex on both containers to allow the devtools toolbox to
       // set a flex attribute. We don't want the toolbox to actually take up free
       // space, but we do want it to collapse when the window shrinks, and with
       // flex=0 it can't. When the toolbox is on the bottom it's a sibling of
       // browserStack, and when it's on the side it's a sibling of
       // browserContainer.
-      let stack = document.createXULElement("stack");
+      let stack = document.createXULElement("box");
       stack.className = "browserStack";
       stack.appendChild(b);
       stack.setAttribute("flex", "10000");
 
       let browserContainer = document.createXULElement("vbox");
       browserContainer.className = "browserContainer";
       browserContainer.appendChild(notificationbox);
       browserContainer.appendChild(stack);
