# HG changeset patch
# User Gabriel Luong <gabriel.luong@gmail.com>
# Parent  d49937a2e5fe27e469781ea09c42aa2a142cf77d
Bug 1254786 - Add a line outlining the parent-child relationship in the markup view r=bgrins

diff --git a/devtools/client/themes/markup.css b/devtools/client/themes/markup.css
--- a/devtools/client/themes/markup.css
+++ b/devtools/client/themes/markup.css
@@ -1,12 +1,20 @@
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
+.theme-light {
+  --markup-outline: var(--theme-splitter-color);
+}
+
+.theme-dark {
+  --markup-outline: var(--theme-highlight-pink);
+}
+
 * {
   padding: 0;
   margin: 0;
 }
 
 :root {
   -moz-control-character-visibility: visible;
 }
@@ -18,16 +26,21 @@ body {
 /* Force height and width (possibly overflowing) from inline elements.
  * This allows long overflows of text or input fields to still be styled with
  * the container, rather than the background disappearing when scrolling */
 #root {
   float: left;
   min-width: 100%;
 }
 
+/* Don't display a parent-child outline for the root elements */
+#root > ul > li > .children::before {
+  display: none;
+}
+
 body.dragging .tag-line {
   cursor: grabbing;
 }
 
 #root-wrapper:after {
    content: "";
    display: block;
    clear: both;
@@ -61,16 +74,17 @@ body.dragging .tag-line {
   margin: 0;
   padding: 0;
 }
 
 .children {
   list-style: none;
   padding: 0;
   margin: 0;
+  position: relative;
 }
 
 /* Tags are organized in a UL/LI tree and indented thanks to a left padding.
  * A very large padding is used in combination with a slightly smaller margin
  * to make sure childs actually span from edge-to-edge. */
 .child {
   margin-left: -1000em;
   padding-left: 1001em;
@@ -113,16 +127,35 @@ body.dragging .tag-line {
 ul.children + .tag-line::before {
   margin-left: 14px;
 }
 
 .tag-line {
   min-height: 1.4em;
   line-height: 1.4em;
   position: relative;
+  cursor: default;
+  padding-left: 2px;
+}
+
+.tag-line:hover + .children::before,
+.tag-line[selected] + .children::before {
+  content: "";
+  background: var(--markup-outline);
+  width: 1.5px;
+  height: calc(100% - 4px);
+  left: -6px;
+  top: 2px;
+  border-radius: 2px;
+  position: absolute;
+  display: block;
+}
+
+.tag-line:hover + .children::before {
+  opacity: 0.5;
 }
 
 .html-editor-container {
   position: relative;
   min-height: 200px;
 }
 
 /* This extra element placed in each tag is positioned absolutely to cover the
@@ -184,20 +217,16 @@ ul.children + .tag-line::before {
 .newattr:focus {
   margin-right: 0;
 }
 
 .flash-out {
   transition: background .5s;
 }
 
-.tag-line {
-  cursor: default;
-}
-
 .markupview-events {
   display: none;
   cursor: pointer;
 }
 
 .editor {
   /* Make sure the editor still appears above the tag-state */
   position: relative;
@@ -250,20 +279,16 @@ ul.children + .tag-line::before {
 }
 
 /* In case a node isn't displayed in the page, we fade the syntax highlighting */
 .not-displayed .open,
 .not-displayed .close {
   opacity: .7;
 }
 
-.tag-line {
-  padding-left: 2px;
-}
-
 /* Events */
 .markupview-events {
   font-size: 8px;
   font-weight: bold;
   line-height: 10px;
   border-radius: 3px;
   padding: 0px 2px;
   -moz-margin-start: 5px;
