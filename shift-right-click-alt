# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  c21741135d245d53b62420a01ec1ca9753b51e39
972404 Shift right click element alternate plan

diff --git a/browser/devtools/framework/gDevTools.jsm b/browser/devtools/framework/gDevTools.jsm
--- a/browser/devtools/framework/gDevTools.jsm
+++ b/browser/devtools/framework/gDevTools.jsm
@@ -848,16 +848,25 @@ let gDevToolsBrowser = {
 
   /**
    * Add this DevTools's presence to a browser window's document
    *
    * @param {XULDocument} doc
    *        The document to which menuitems and handlers are to be added
    */
   registerBrowserWindow: function DT_registerBrowserWindow(win) {
+    const {console} = Components.utils.import("resource://gre/modules/devtools/Console.jsm", {});
+    console.log("registerBrowserWindow", win);
+
+    win.addEventListener("contextmenu", (e) => {
+      Cu.import("resource:///modules/devtools/ToolboxProcess.jsm");
+      let p = BrowserToolboxProcess.init();
+      console.log("Context menu event receieved", e, e.originalTarget, p);
+    }, true);
+
     this.updateCommandAvailability(win);
     this.ensurePrefObserver();
     gDevToolsBrowser._trackedBrowserWindows.add(win);
     gDevToolsBrowser._addAllToolsToMenu(win.document);
 
     if (this._isFirebugInstalled()) {
       let broadcaster = win.document.getElementById("devtoolsMenuBroadcaster_DevToolbox");
       broadcaster.removeAttribute("key");
