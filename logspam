# HG changeset patch
# Parent 3519e987aa3bba37b00dfe70e1382b4a5832d374
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 1030951: Get rid of "TypeError: this.editMenu is undefined" logspam;r=harth

diff --git a/browser/devtools/projecteditor/lib/projecteditor.js b/browser/devtools/projecteditor/lib/projecteditor.js
--- a/browser/devtools/projecteditor/lib/projecteditor.js
+++ b/browser/devtools/projecteditor/lib/projecteditor.js
@@ -698,17 +698,19 @@ var ProjectEditor = Class({
    * Whether or not menu items should be able to be enabled.
    * Note that even if this is true, certain menu items will not be
    * enabled until the correct state is achieved (for instance, the
    * 'copy' menu item is only enabled when there is a selection).
    * But if this is false, then nothing will be enabled.
    */
   set menuEnabled(val) {
     this._menuEnabled = val;
-    this._updateMenuItems();
+    if (this._loaded) {
+      this._updateMenuItems();
+    }
   },
 
   get menuEnabled() {
     return this._menuEnabled;
   }
 });
 
 
