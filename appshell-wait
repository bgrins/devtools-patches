# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  ca9df8b302950643ea723b66945eb224a7542fc8

diff --git a/browser/components/nsBrowserGlue.js b/browser/components/nsBrowserGlue.js
--- a/browser/components/nsBrowserGlue.js
+++ b/browser/components/nsBrowserGlue.js
@@ -1018,16 +1018,23 @@ BrowserGlue.prototype = {
     // apply distribution customizations
     this._distributionCustomizer.applyCustomizations();
 
     // handle any UI migration
     this._migrateUI();
 
     listeners.init();
 
+    let d = Date.now();
+    Services.appShell.hiddenDOMWindow.addEventListener("DOMContentLoaded", () => {
+      console.log("Took", Date.now() - d);
+    });
+
+    console.trace("Initializing sessionstore", Services.appShell.hiddenDOMWindow.browserContents);
+
     SessionStore.init();
 
     let vendorShortName = gBrandBundle.GetStringFromName("vendorShortName");
 
     LightweightThemeManager.addBuiltInTheme({
       id: "firefox-compact-light@mozilla.org",
       name: gBrowserBundle.GetStringFromName("lightTheme.name"),
       description: gBrowserBundle.GetStringFromName("lightTheme.description"),
