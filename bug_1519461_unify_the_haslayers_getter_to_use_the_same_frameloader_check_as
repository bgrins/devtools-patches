# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1547253208 28800
#      Fri Jan 11 16:33:28 2019 -0800
# Node ID b7d621aacdce8dce9cae6ed75f1ba69c81b4d780
# Parent  d732904d4829214b63d97c03d97a51d2b1540ad6
Bug 1519461 - Unify the hasLayers getter to use the same frameLoader check as renderLayers and docShellIsActive;r=mconley

Differential Revision: https://phabricator.services.mozilla.com/D16369

diff --git a/toolkit/content/widgets/browser-custom-element.js b/toolkit/content/widgets/browser-custom-element.js
--- a/toolkit/content/widgets/browser-custom-element.js
+++ b/toolkit/content/widgets/browser-custom-element.js
@@ -419,17 +419,17 @@ class MozBrowser extends MozElementMixin
       return false;
     }
     return this.docShellIsActive;
   }
 
   get hasLayers() {
     if (this.isRemoteBrowser) {
       let { frameLoader } = this;
-      if (frameLoader.tabParent) {
+      if (frameLoader && frameLoader.tabParent) {
         return frameLoader.tabParent.hasLayers;
       }
       return false;
     }
 
     return this.docShellIsActive;
   }
 
