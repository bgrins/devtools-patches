# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1547253208 28800
#      Fri Jan 11 16:33:28 2019 -0800
# Node ID 8172d84afc5b0516216c4987180c321805f45a2a
# Parent  2f98e24db5de499f74daf79a87b8dfd68217e04b
Bug 1519461 - Unify the hasLayers getter to use the same frameLoader check as renderLayers and docShellIsActive;r=mconley

Differential Revision: https://phabricator.services.mozilla.com/D16369

diff --git a/toolkit/content/widgets/browser-custom-element.js b/toolkit/content/widgets/browser-custom-element.js
--- a/toolkit/content/widgets/browser-custom-element.js
+++ b/toolkit/content/widgets/browser-custom-element.js
@@ -419,17 +419,17 @@ class MozBrowser extends MozElementMixin
       return false;
     }
     return this.docShellIsActive;
   }
 
   get hasLayers() {
     if (this.isRemoteBrowser) {
       let { frameLoader } = this;
-      if (frameLoader.tabParent) {
+      if (frameLoader && frameLoader.tabParent) {
         return frameLoader.tabParent.hasLayers;
       }
       return false;
     }
 
     return this.docShellIsActive;
   }
 
