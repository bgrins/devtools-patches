# HG changeset patch
# Parent 5279cefb6d0dbac1c69e34977627eb285bc94c8b
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 1053434 - add ui to disable dev edition


diff --git a/browser/components/preferences/in-content/main.xul b/browser/components/preferences/in-content/main.xul
--- a/browser/components/preferences/in-content/main.xul
+++ b/browser/components/preferences/in-content/main.xul
@@ -13,16 +13,20 @@
     <preference id="browser.tabs.remote.autostart"
                 name="browser.tabs.remote.autostart"
                 type="bool"/>
     <preference id="e10sTempPref"
                 name="browser.tabs.remote.autostart.1"
                 type="bool"/>
 #endif
 
+    <preference id="browser.devedition.theme.enabled"
+                name="browser.devedition.theme.enabled"
+                type="bool"/>
+
     <!-- Startup -->
     <preference id="browser.startup.page"
                 name="browser.startup.page"
                 type="int"/>
     <preference id="browser.startup.homepage"
                 name="browser.startup.homepage"
                 type="wstring"/>
 
@@ -117,16 +121,20 @@
           hidden="true">
   <caption><label>&startup.label;</label></caption>
 
 #ifdef E10S_TESTING_ONLY
   <checkbox id="e10sAutoStart"
             label="Enable E10S (multi-process)"/>
 #endif
 
+  <checkbox id="deveditionTheme"
+            label="&disableDeveditionTheme.label;"
+            preference="browser.devedition.theme.enabled"/>
+
 #ifdef HAVE_SHELL_SERVICE
   <vbox id="defaultBrowserBox">
     <hbox align="center">
       <checkbox id="alwaysCheckDefault" preference="browser.shell.checkDefaultBrowser"
                 label="&alwaysCheckDefault.label;" accesskey="&alwaysCheckDefault2.accesskey;"/>
     </hbox>
     <deck id="setDefaultPane">
       <hbox align="center" class="indent">
diff --git a/browser/components/preferences/main.xul b/browser/components/preferences/main.xul
--- a/browser/components/preferences/main.xul
+++ b/browser/components/preferences/main.xul
@@ -22,16 +22,20 @@
             helpTopic="prefs-main">
 
     <script type="application/javascript" src="chrome://browser/content/preferences/main.js"/>
 
     <preferences id="mainPreferences">
       <!-- XXX Button preferences -->
 
       <!-- Startup -->
+      <preference id="browser.devedition.theme.enabled"
+                  name="browser.devedition.theme.enabled"
+                  type="bool"/>
+
       <preference id="browser.startup.page"
                   name="browser.startup.page"
                   type="int"/>
       <preference id="browser.startup.homepage"
                   name="browser.startup.homepage"
                   type="wstring"/>
 
 #ifdef HAVE_SHELL_SERVICE
@@ -72,16 +76,22 @@
     </preferences>
     
     <stringbundle id="bundlePreferences" src="chrome://browser/locale/preferences/preferences.properties"/>
 
     <!-- Startup -->
     <groupbox id="startupGroup">
       <caption label="&startup.label;"/>
 
+      <hbox align="center">
+        <checkbox id="deveditionTheme"
+                  label="&disableDeveditionTheme.label;"
+                  preference="browser.devedition.theme.enabled"/>
+      </hbox>
+
 #ifdef HAVE_SHELL_SERVICE
       <vbox id="defaultBrowserBox">
         <hbox align="center">
           <checkbox id="alwaysCheckDefault" preference="browser.shell.checkDefaultBrowser"
                     label="&alwaysCheckDefault.label;" accesskey="&alwaysCheckDefault2.accesskey;"/>
         </hbox>
         <deck id="setDefaultPane">
           <hbox align="center" class="indent">
