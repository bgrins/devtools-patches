# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  9f06d4c4da0fab0ab858421047d2d97bd7908c34
Bug 1184447 - Convert CC to flex;r=ttaubert

diff --git a/browser/components/controlcenter/content/panel.inc.xul b/browser/components/controlcenter/content/panel.inc.xul
--- a/browser/components/controlcenter/content/panel.inc.xul
+++ b/browser/components/controlcenter/content/panel.inc.xul
@@ -1,15 +1,16 @@
 <!-- This Source Code Form is subject to the terms of the Mozilla Public
    - License, v. 2.0. If a copy of the MPL was not distributed with this
    - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
 
 <panel id="identity-popup"
        type="arrow"
        hidden="true"
+       noautohide="true"
        onpopupshown="gIdentityHandler.onPopupShown(event);"
        onpopuphidden="gIdentityHandler.onPopupHidden(event);"
        orient="vertical">
 
   <broadcasterset>
     <broadcaster id="identity-popup-content-host" value=""/>
   </broadcasterset>
 
diff --git a/browser/themes/shared/controlcenter/panel.inc.css b/browser/themes/shared/controlcenter/panel.inc.css
--- a/browser/themes/shared/controlcenter/panel.inc.css
+++ b/browser/themes/shared/controlcenter/panel.inc.css
@@ -87,16 +87,69 @@
 
 #identity-popup-securityView:-moz-locale-dir(rtl),
 #identity-popup-security-content:-moz-locale-dir(rtl),
 #identity-popup-permissions-content:-moz-locale-dir(rtl),
 #tracking-protection-content:-moz-locale-dir(rtl) {
   background-position: calc(100% - 1em) 1em;
 }
 
+/* Use CSS flexbox for the mainview to work around clipped 'more information' button -
+   see Bug 1184447 */
+#identity-popup-mainView,
+#identity-popup-mainView * {
+  display: flex;
+}
+
+#identity-popup-mainView,
+#identity-popup-mainView vbox {
+  flex-flow: column;
+}
+
+#identity-popup-mainView [hidden="true"] {
+  display: none;
+}
+
+#identity-popup-mainView [flex="1"] {
+  flex-grow: 1;
+}
+
+#identity-popup-mainView [align="start"] {
+  align-items: flex-start;
+}
+
+#identity-popup-mainView [align="center"] {
+  align-items: center;
+}
+
+#identity-popup-mainView [align="end"] {
+  align-items: flex-end;
+}
+
+#identity-popup-mainView [align="baseline"] {
+  align-items: baseline;
+}
+
+#identity-popup-mainView [align="stretch"] {
+  align-items: stretch;
+}
+
+#identity-popup-mainView [pack="start"] {
+  justify-content: flex-start;
+}
+
+#identity-popup-mainView [pack="center"] {
+  justify-content: center;
+}
+
+#identity-popup-mainView [pack="end"] {
+  justify-content: flex-end;
+}
+
+
 /* EXPAND BUTTON */
 
 .identity-popup-expander {
   margin: 0;
   padding: 4px 0;
   min-width: auto;
   width: 38px;
   border: 0 none;
