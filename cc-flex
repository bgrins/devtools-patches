# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  6f47e7896ce5e3e9ea67ec7014736c5778bd23fe
Bug 1184447 - Convert CC to flex;r=ttaubert

diff --git a/browser/components/controlcenter/content/panel.inc.xul b/browser/components/controlcenter/content/panel.inc.xul
--- a/browser/components/controlcenter/content/panel.inc.xul
+++ b/browser/components/controlcenter/content/panel.inc.xul
@@ -1,15 +1,16 @@
 <!-- This Source Code Form is subject to the terms of the Mozilla Public
    - License, v. 2.0. If a copy of the MPL was not distributed with this
    - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
 
 <panel id="identity-popup"
        type="arrow"
        hidden="true"
+       noautohide="true"
        onpopupshown="gIdentityHandler.onPopupShown(event);"
        onpopuphidden="gIdentityHandler.onPopupHidden(event);"
        orient="vertical">
 
   <broadcasterset>
     <broadcaster id="identity-popup-content-host" value=""/>
   </broadcasterset>
 
diff --git a/browser/themes/shared/controlcenter/panel.inc.css b/browser/themes/shared/controlcenter/panel.inc.css
--- a/browser/themes/shared/controlcenter/panel.inc.css
+++ b/browser/themes/shared/controlcenter/panel.inc.css
@@ -19,16 +19,67 @@
 #identity-popup-security-content.chromeUI + .identity-popup-expander,
 /* Hide the tracking protection section for whitelisted chromeUI pages. */
 #identity-popup-mainView.chromeUI > #tracking-protection-container {
   display: none;
 }
 
 /* PANEL */
 
+#identity-popup-mainView,
+#identity-popup-mainView * {
+  display: flex;
+}
+
+#identity-popup-mainView,
+#identity-popup-mainView vbox {
+  flex-flow: column;
+}
+
+#identity-popup-mainView [hidden="true"] {
+  display: none;
+}
+
+
+#identity-popup-mainView [flex="1"] {
+  flex-grow: 1;
+}
+#identity-popup-mainView [flex="2"] {
+  flex-grow: 2;
+}
+
+#identity-popup-mainView [align="start"] {
+  align-items: flex-start;
+}
+#identity-popup-mainView [align="center"] {
+  align-items: center;
+}
+#identity-popup-mainView [align="end"] {
+  align-items: flex-end;
+}
+
+#identity-popup-mainView [align="baseline"] {
+  align-items: baseline;
+}
+
+#identity-popup-mainView [align="stretch"] {
+  align-items: stretch;
+}
+
+#identity-popup-mainView [pack="start"] {
+  justify-content: flex-start;
+}
+#identity-popup-mainView [pack="center"] {
+  justify-content: center;
+}
+#identity-popup-mainView [pack="end"] {
+  justify-content: flex-end;
+}
+
+
 #identity-popup,
 .panel-viewstack[viewtype="main"]:not([transitioning]) > .panel-mainview[panelid=identity-popup] > #identity-popup-mainView {
   /* Tiny hack to ensure the panel shrinks back to its original
      size after closing a subview that is bigger than the main view. */
   max-height: 0;
 }
 
 .panel-mainview[panelid=identity-popup][viewtype=subview] > #identity-popup-mainView menulist,
