# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  e039326b2334030fa7b80ea4c052489393714589
Bug 1154363

diff --git a/browser/devtools/inspector/inspector-panel.js b/browser/devtools/inspector/inspector-panel.js
--- a/browser/devtools/inspector/inspector-panel.js
+++ b/browser/devtools/inspector/inspector-panel.js
@@ -966,16 +966,17 @@ InspectorPanel.prototype = {
   /**
    * Show DOM properties
    */
   showDOMProperties: function() {
     this._toolbox.openSplitConsole().then(() => {
       let panel = this._toolbox.getPanel("webconsole");
       let jsterm = panel.hud.jsterm;
 
+      jsterm.$p = this.selection.nodeFront;
       jsterm.execute("inspect($0)");
       jsterm.inputNode.focus();
     });
   },
 
   /**
    * Clear any pseudo-class locks applied to the current hierarchy.
    */
diff --git a/toolkit/devtools/webconsole/utils.js b/toolkit/devtools/webconsole/utils.js
--- a/toolkit/devtools/webconsole/utils.js
+++ b/toolkit/devtools/webconsole/utils.js
@@ -1695,16 +1695,29 @@ WebConsoleCommands._registerOriginal("$x
  */
 WebConsoleCommands._registerOriginal("$0", {
   get: function(aOwner) {
     return aOwner.makeDebuggeeValue(aOwner.selectedNode);
   }
 });
 
 /**
+ * Returns the currently selected object in the highlighter.
+ *
+ * @return Object representing the current selection in the
+ *         Inspector, or null if no selection exists.
+ */
+WebConsoleCommands._registerOriginal("$p", {
+  get: function(aOwner) {
+    console.log("HERE", aOwner)
+    return aOwner.makeDebuggeeValue(aOwner.selectedNode);
+  }
+});
+
+/**
  * Clears the output of the WebConsole.
  */
 WebConsoleCommands._registerOriginal("clear", function JSTH_clear(aOwner)
 {
   aOwner.helperResult = {
     type: "clearOutput",
   };
 });
