# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  f3822a67fe4c5ab9fd1dca79e9d6c0916670f77d

diff --git a/dom/base/nsDocument.cpp b/dom/base/nsDocument.cpp
--- a/dom/base/nsDocument.cpp
+++ b/dom/base/nsDocument.cpp
@@ -8442,16 +8442,17 @@ nsDocument::UnblockOnload(bool aFireSync
       }
     } else if (mIsBeingUsedAsImage) {
       // To correctly unblock onload for a document that contains an SVG
       // image, we need to know when all of the SVG document's resources are
       // done loading, in a way comparable to |window.onload|. We fire this
       // event to indicate that the SVG should be considered fully loaded.
       // Because scripting is disabled on SVG-as-image documents, this event
       // is not accessible to content authors. (See bug 837315.)
+printf("%s\n", GetDocumentURI()->GetSpecOrDefault().get());
       RefPtr<AsyncEventDispatcher> asyncDispatcher =
         new AsyncEventDispatcher(this,
                                  NS_LITERAL_STRING("MozSVGAsImageDocumentLoad"),
                                  CanBubble::eNo,
                                  ChromeOnlyDispatch::eNo);
       asyncDispatcher->PostDOMEvent();
     }
   }
