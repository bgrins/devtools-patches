# HG changeset patch
# Parent a1663501b36bdde4d98bceb02ba67a94d21fb2d9
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 1111091 - Move tab separator to the start of the last tab with separated tab button;r=MattN

diff --git a/browser/themes/shared/tabs.inc.css b/browser/themes/shared/tabs.inc.css
--- a/browser/themes/shared/tabs.inc.css
+++ b/browser/themes/shared/tabs.inc.css
@@ -311,13 +311,21 @@
   background-position: left bottom @tabToolbarNavbarOverlap@;
   background-repeat: no-repeat;
   background-size: 3px 100%;
   content: "";
   display: -moz-box;
   width: 3px;
 }
 
+/* Handle a case where the last separator in a customized tab bar with a
+   separated new tab button causes the width of the tab to extend and causes
+   jittering with a small tab curve width (Bug 1100578). */
+#TabsToolbar[currentset]:not([currentset*="tabbrowser-tabs,new-tab-button"]) #tabbrowser-tabs:not([overflow]) > .tabbrowser-tab[last-visible-tab]:not([selected]):not([beforehovered]):not(:hover)::after {
+  -moz-margin-start: -3px;
+  -moz-margin-end: 0;
+}
+
 /* New tab button */
 
 .tabs-newtab-button {
   width: calc(36px + @tabCurveWidth@);
 }
