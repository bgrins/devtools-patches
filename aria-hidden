# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  4fefde8f40b59102cfa7524197118a055a75350b

diff --git a/toolkit/content/widgets/menu.js b/toolkit/content/widgets/menu.js
--- a/toolkit/content/widgets/menu.js
+++ b/toolkit/content/widgets/menu.js
@@ -122,21 +122,21 @@ class MozMenuCaption extends MozMenuBase
       ".menu-iconic-text": "value=label,crop,highlightable",
       ".menu-iconic-highlightable-text": "text=label,crop,highlightable",
     };
   }
 
   connectedCallback() {
     this.textContent = "";
     this.appendChild(MozXULElement.parseXULToFragment(`
-      <hbox class="menu-iconic-left" align="center" pack="center" role="none">
-        <image class="menu-iconic-icon" role="none"></image>
+      <hbox class="menu-iconic-left" align="center" pack="center" aria-hidden="true">
+        <image class="menu-iconic-icon" aria-hidden="true"></image>
       </hbox>
-      <label class="menu-iconic-text" flex="1" crop="right" role="none"></label>
-      <label class="menu-iconic-highlightable-text" crop="right" role="none"></label>
+      <label class="menu-iconic-text" flex="1" crop="right" aria-hidden="true"></label>
+      <label class="menu-iconic-highlightable-text" crop="right" aria-hidden="true"></label>
     `));
     this.initializeAttributeInheritance();
   }
 }
 
 customElements.define("menucaption", MozMenuCaption);
 
 // In general, don't render menus inside menupopups until they are going to be visible:
@@ -188,61 +188,61 @@ class MozMenu extends MozMenuBaseMixin(M
     // during a change, but it's not a feature we use anywhere currently.
     if (this.renderedOnce) {
       return;
     }
     this.renderedOnce = true;
 
     let {isInMenubar, isIconic} = this;
     let frag = null;
-    // Add role="none" on all DOM, since XULMenuAccessible handles accessibility here.
+    // Add aria-hidden="true" on all DOM, since XULMenuAccessible handles accessibility here.
     if (isInMenubar && isIconic) {
       if (!MozMenu.menubarIconicFrag) {
         MozMenu.menubarIconicFrag = MozXULElement.parseXULToFragment(`
-          <image class="menubar-left" role="none"/>
-          <label class="menubar-text" crop="right" role="none"/>
+          <image class="menubar-left" aria-hidden="true"/>
+          <label class="menubar-text" crop="right" aria-hidden="true"/>
         `);
       }
       frag = MozMenu.menubarIconicFrag;
     }
     if (isInMenubar && !isIconic) {
       if (!MozMenu.menubarFrag) {
         MozMenu.menubarFrag = MozXULElement.parseXULToFragment(`
-        <label class="menubar-text" crop="right" role="none"/>
+        <label class="menubar-text" crop="right" aria-hidden="true"/>
       `);
       }
       frag = MozMenu.menubarFrag;
     }
     if (!isInMenubar && isIconic) {
       if (!MozMenu.normalIconicFrag) {
         MozMenu.normalIconicFrag = MozXULElement.parseXULToFragment(`
-        <hbox class="menu-iconic-left" align="center" pack="center" role="none">
-          <image class="menu-iconic-icon" role="none"/>
+        <hbox class="menu-iconic-left" align="center" pack="center" aria-hidden="true">
+          <image class="menu-iconic-icon"/>
         </hbox>
-        <label class="menu-iconic-text" flex="1" crop="right" role="none"/>
-        <label class="menu-iconic-highlightable-text" crop="right" role="none"/>
-        <hbox class="menu-accel-container" anonid="accel" role="none">
-          <label class="menu-iconic-accel" role="none"/>
+        <label class="menu-iconic-text" flex="1" crop="right" aria-hidden="true"/>
+        <label class="menu-iconic-highlightable-text" crop="right" aria-hidden="true"/>
+        <hbox class="menu-accel-container" anonid="accel" aria-hidden="true">
+          <label class="menu-iconic-accel"/>
         </hbox>
-        <hbox align="center" class="menu-right" role="none">
-          <image role="none"/>
+        <hbox align="center" class="menu-right" aria-hidden="true">
+          <image/>
         </hbox>
       `);
       }
       frag = MozMenu.normalIconicFrag;
     }
     if (!isInMenubar && !isIconic) {
       if (!MozMenu.normalFrag) {
         MozMenu.normalFrag = MozXULElement.parseXULToFragment(`
-        <label class="menu-text" crop="right" role="none"/>
-        <hbox class="menu-accel-container" anonid="accel" role="none">
-          <label class="menu-accel" role="none"/>
+        <label class="menu-text" crop="right" aria-hidden="true"/>
+        <hbox class="menu-accel-container" anonid="accel" aria-hidden="true">
+          <label class="menu-accel"/>
         </hbox>
-        <hbox align="center" class="menu-right" role="none">
-          <image role="none"/>
+        <hbox align="center" class="menu-right" aria-hidden="true">
+          <image/>
         </hbox>
       `);
       }
       frag = MozMenu.normalFrag;
     }
 
     // There will be a <menupopup /> already. Don't clear it out, just put our markup before it.
     this.prepend(document.importNode(frag, true));
