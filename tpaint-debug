# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  6a23526fe5168087d7e4132c0705aefcaed5f571
Bug 1331449 - Debug tpaint

diff --git a/devtools/client/framework/devtools-browser.js b/devtools/client/framework/devtools-browser.js
--- a/devtools/client/framework/devtools-browser.js
+++ b/devtools/client/framework/devtools-browser.js
@@ -150,24 +150,24 @@ var gDevToolsBrowser = exports.gDevTools
 
     // If the toolbox color changes and we have the opposite compact theme applied,
     // change it to match.  For example:
     // 1) toolbox changes to dark, and the light compact theme was applied.
     //    Switch to the dark compact theme.
     // 2) toolbox changes to light or firebug, and the dark compact theme was applied.
     //    Switch to the light compact theme.
     // 3) No compact theme was applied. Do nothing.
-    let currentTheme = LightweightThemeManager.currentTheme;
-    let currentThemeID = currentTheme && currentTheme.id;
-    if (currentThemeID == COMPACT_LIGHT_ID && devtoolsTheme == "dark") {
-      LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme(COMPACT_DARK_ID);
-    }
-    if (currentThemeID == COMPACT_DARK_ID && devtoolsTheme == "light") {
-      LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme(COMPACT_LIGHT_ID);
-    }
+    // let currentTheme = LightweightThemeManager.currentTheme;
+    // let currentThemeID = currentTheme && currentTheme.id;
+    // if (currentThemeID == COMPACT_LIGHT_ID && devtoolsTheme == "dark") {
+    //   LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme(COMPACT_DARK_ID);
+    // }
+    // if (currentThemeID == COMPACT_DARK_ID && devtoolsTheme == "light") {
+    //   LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme(COMPACT_LIGHT_ID);
+    // }
   },
 
   observe: function (subject, topic, prefName) {
     switch (topic) {
       case "browser-delayed-startup-finished":
         this._registerBrowserWindow(subject);
         break;
       case "nsPref:changed":
@@ -188,28 +188,28 @@ var gDevToolsBrowser = exports.gDevTools
       case "sdk:loader:destroy":
         // This event is fired when the devtools loader unloads, which happens
         // only when the add-on workflow ask devtools to be reloaded.
         if (subject.wrappedJSObject == require('@loader/unload')) {
           gDevToolsBrowser.destroy({ shuttingDown: false });
         }
         break;
       case "lightweight-theme-changed":
-        let currentTheme = LightweightThemeManager.currentTheme;
-        let currentThemeID = currentTheme && currentTheme.id;
-        let devtoolsTheme = Services.prefs.getCharPref("devtools.theme");
+        // let currentTheme = LightweightThemeManager.currentTheme;
+        // let currentThemeID = currentTheme && currentTheme.id;
+        // let devtoolsTheme = Services.prefs.getCharPref("devtools.theme");
 
-        // If the current lightweight theme changes to one of the compact themes, then
-        // keep the devtools color in sync.
-        if (currentThemeID == COMPACT_LIGHT_ID && devtoolsTheme == "dark") {
-          Services.prefs.setCharPref("devtools.theme", "light");
-        }
-        if (currentThemeID == COMPACT_DARK_ID && devtoolsTheme == "light") {
-            Services.prefs.setCharPref("devtools.theme", "dark");
-        }
+        // // If the current lightweight theme changes to one of the compact themes, then
+        // // keep the devtools color in sync.
+        // if (currentThemeID == COMPACT_LIGHT_ID && devtoolsTheme == "dark") {
+        //   Services.prefs.setCharPref("devtools.theme", "light");
+        // }
+        // if (currentThemeID == COMPACT_DARK_ID && devtoolsTheme == "light") {
+        //     Services.prefs.setCharPref("devtools.theme", "dark");
+        // }
         break;
     }
   },
 
   _prefObserverRegistered: false,
 
   ensurePrefObserver: function () {
     if (!this._prefObserverRegistered) {
