# vim: se ft=diff :
# HG changeset patch
# User Gabriel Luong <gabriel.luong@gmail.com>
# Date 2015-09-25 02:51
Bug 1132557 - Part 9: Editor should emit a cursorActivity on setCursor r=bgrins

diff --git a/devtools/client/sourceeditor/editor.js b/devtools/client/sourceeditor/editor.js
--- a/devtools/client/sourceeditor/editor.js
+++ b/devtools/client/sourceeditor/editor.js
@@ -601,16 +601,17 @@ Editor.prototype = {
    * Sets the cursor to the specified {line, ch} position with an additional
    * option to align the line at the "top", "center" or "bottom" of the editor
    * with "top" being default value.
    */
   setCursor: function ({line, ch}, align) {
     let cm = editors.get(this);
     this.alignLine(line, align);
     cm.setCursor({line: line, ch: ch});
+    this.emit("cursorActivity");
   },
 
   /**
    * Aligns the provided line to either "top", "center" or "bottom" of the
    * editor view with a maximum margin of MAX_VERTICAL_OFFSET lines from top or
    * bottom.
    */
   alignLine: function(line, align) {
