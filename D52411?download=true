diff --git a/browser/base/content/safeMode.js b/browser/base/content/safeMode.js
--- a/browser/base/content/safeMode.js
+++ b/browser/base/content/safeMode.js
@@ -69,6 +69,7 @@
 }
 
 function onLoad() {
+  const dialog = document.getElementById("safeModeDialog");
   if (appStartup.automaticSafeModeNecessary) {
     document.getElementById("autoSafeMode").hidden = false;
     document.getElementById("safeMode").hidden = true;
@@ -76,11 +77,11 @@
       document.getElementById("resetProfile").hidden = false;
     } else {
       // Hide the reset button is it's not supported.
-      document.documentElement.getButton("extra1").hidden = true;
+      dialog.getButton("extra1").hidden = true;
     }
   } else if (!ResetProfile.resetSupported()) {
     // Hide the reset button and text if it's not supported.
-    document.documentElement.getButton("extra1").hidden = true;
+    dialog.getButton("extra1").hidden = true;
     document.getElementById("resetProfileInstead").hidden = true;
   }
   document.addEventListener("dialogaccept", onDefaultButton);
diff --git a/browser/base/content/safeMode.xul b/browser/base/content/safeMode.xul
--- a/browser/base/content/safeMode.xul
+++ b/browser/base/content/safeMode.xul
@@ -7,15 +7,15 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://browser/content/safeMode.css"?>
 
-<dialog id="safeModeDialog"
-            xmlns:html="http://www.w3.org/1999/xhtml"
+<window xmlns:html="http://www.w3.org/1999/xhtml"
             xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
             data-l10n-id="safe-mode-window"
             data-l10n-attrs="title,style"
+            onload="onLoad()">
+<dialog id="safeModeDialog"
             buttons="accept,extra1"
             buttonidaccept="start-safe-mode"
-            buttonidextra1="refresh-profile"
-            onload="onLoad()">
+            buttonidextra1="refresh-profile">
 
   <linkset>
     <html:link rel="localization" href="branding/brand.ftl"/>
@@ -43,3 +43,4 @@
 
   <separator class="thin"/>
 </dialog>
+</window>
diff --git a/browser/base/content/sanitize.xul b/browser/base/content/sanitize.xul
--- a/browser/base/content/sanitize.xul
+++ b/browser/base/content/sanitize.xul
@@ -12,17 +12,17 @@
 
 <?xml-stylesheet href="chrome://browser/content/sanitizeDialog.css"?>
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
-<dialog id="SanitizeDialog" type="child"
+<window type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
-        buttons="accept,cancel"
         persist="lastSelected screenX screenY"
-        role="dialog"
         data-l10n-id="dialog-title"
         data-l10n-attrs="style"
         onload="gSanitizePromptDialog.init();">
+<dialog id="SanitizeDialog"
+        buttons="accept,cancel">
 
   <linkset>
     <html:link rel="localization" href="browser/sanitize.ftl"/>
@@ -101,3 +101,4 @@
     </hbox>
   </groupbox>
 </dialog>
+</window>
diff --git a/browser/base/content/sanitizeDialog.js b/browser/base/content/sanitizeDialog.js
--- a/browser/base/content/sanitizeDialog.js
+++ b/browser/base/content/sanitizeDialog.js
@@ -33,8 +33,9 @@
   init() {
     // This is used by selectByTimespan() to determine if the window has loaded.
     this._inited = true;
+    this._dialog = document.getElementById("SanitizeDialog");
 
-    let OKButton = document.documentElement.getButton("accept");
+    let OKButton = this._dialog.getButton("accept");
     document.l10n.setAttributes(OKButton, "sanitize-button-ok");
 
     document.addEventListener("dialogaccept", function(e) {
@@ -114,11 +115,10 @@
     // the 'accept' button to indicate things are happening and return false -
     // once the async operation completes (either with or without errors)
     // we close the window.
-    let docElt = document.documentElement;
-    let acceptButton = docElt.getButton("accept");
+    let acceptButton = this._dialog.getButton("accept");
     acceptButton.disabled = true;
     document.l10n.setAttributes(acceptButton, "sanitize-button-clearing");
-    docElt.getButton("cancel").disabled = true;
+    this._dialog.getButton("cancel").disabled = true;
 
     try {
       let range = Sanitizer.getClearRange(this.selectedTimespan);
@@ -175,7 +175,7 @@
     );
 
     try {
-      document.documentElement.getButton("accept").disabled = !found;
+      this._dialog.getButton("accept").disabled = !found;
     } catch (e) {}
 
     // Update the warning prompt if needed
diff --git a/browser/components/places/content/bookmarkProperties.js b/browser/components/places/content/bookmarkProperties.js
--- a/browser/components/places/content/bookmarkProperties.js
+++ b/browser/components/places/content/bookmarkProperties.js
@@ -247,7 +247,9 @@
     });
 
     // Disable the buttons until we have all the information required.
-    let acceptButton = document.documentElement.getButton("accept");
+    let acceptButton = document
+      .getElementById("bookmarkproperties")
+      .getButton("accept");
     acceptButton.disabled = true;
 
     // Allow initialization to complete in a truely async manner so that we're
@@ -262,7 +264,9 @@
    * will enable the accept button (if appropraite) when it is complete.
    */
   async _initDialog() {
-    let acceptButton = document.documentElement.getButton("accept");
+    let acceptButton = document
+      .getElementById("bookmarkproperties")
+      .getButton("accept");
     acceptButton.label = this._getAcceptLabel();
     let acceptButtonDisabled = false;
 
@@ -364,9 +368,9 @@
           target.id == "editBMPanel_keywordField"
         ) {
           // Check uri fields to enable accept button if input is valid
-          document.documentElement.getButton(
-            "accept"
-          ).disabled = !this._inputIsValid();
+          document
+            .getElementById("bookmarkproperties")
+            .getButton("accept").disabled = !this._inputIsValid();
         }
         break;
       case "resize":
diff --git a/browser/components/places/content/bookmarkProperties.xul b/browser/components/places/content/bookmarkProperties.xul
--- a/browser/components/places/content/bookmarkProperties.xul
+++ b/browser/components/places/content/bookmarkProperties.xul
@@ -9,20 +9,20 @@
 <?xml-stylesheet href="chrome://browser/skin/places/tree-icons.css"?>
 <?xml-stylesheet href="chrome://browser/content/places/places.css"?>
 
-<!DOCTYPE dialog [
+<!DOCTYPE window [
   <!ENTITY % editBookmarkOverlayDTD SYSTEM "chrome://browser/locale/places/editBookmarkOverlay.dtd">
   %editBookmarkOverlayDTD;
 ]>
 
-<dialog id="bookmarkproperties"
-        buttons="accept, cancel"
-        buttoniconaccept="save"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         onload="BookmarkPropertiesPanel.onDialogLoad();"
         onunload="BookmarkPropertiesPanel.onDialogUnload();"
         style="min-width: 30em;"
         persist="screenX screenY width">
+<dialog id="bookmarkproperties"
+        buttons="accept, cancel"
+        buttoniconaccept="save">
 
   <stringbundleset id="stringbundleset">
     <stringbundle id="stringBundle"
@@ -39,3 +39,4 @@
 #include editBookmarkPanel.inc.xhtml
 
 </dialog>
+</window>
diff --git a/browser/components/preferences/applicationManager.xhtml b/browser/components/preferences/applicationManager.xhtml
--- a/browser/components/preferences/applicationManager.xhtml
+++ b/browser/components/preferences/applicationManager.xhtml
@@ -6,14 +6,14 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://browser/skin/preferences/applications.css"?>
 
-<dialog id="appManager"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
-        buttons="accept,cancel"
         onload="gAppManagerDialog.onLoad();"
         data-l10n-id="app-manager-window"
         data-l10n-attrs="title, style"
         persist="screenX screenY">
+<dialog id="appManager"
+        buttons="accept,cancel">
 
   <linkset>
     <html:link rel="localization" href="browser/preferences/applicationManager.ftl"/>
@@ -50,3 +50,4 @@
     <html:input type="text" id="appLocation" readonly="readonly" style="margin-inline: 0;"/>
   </vbox>
 </dialog>
+</window>
diff --git a/browser/components/preferences/browserLanguages.js b/browser/components/preferences/browserLanguages.js
--- a/browser/components/preferences/browserLanguages.js
+++ b/browser/components/preferences/browserLanguages.js
@@ -30,10 +30,9 @@
   "resource:///modules/SelectionChangedMenulist.jsm"
 );
 
-document.documentElement.addEventListener(
-  "dialoghelp",
-  window.top.openPrefsHelp
-);
+document
+  .getElementById("BrowserLanguagesDialog")
+  .addEventListener("dialoghelp", window.top.openPrefsHelp);
 
 /* This dialog provides an interface for managing what language the browser is
  * displayed in.
@@ -384,9 +383,9 @@
   },
 
   async onLoad() {
-    document.documentElement.addEventListener("beforeaccept", () =>
-      this.beforeAccept()
-    );
+    document
+      .getElementById("BrowserLanguagesDialog")
+      .addEventListener("beforeaccept", () => this.beforeAccept());
     // Maintain the previously selected locales even if we cancel out.
     let { telemetryId, selected, search } = window.arguments[0];
     this.telemetryId = telemetryId;
diff --git a/browser/components/preferences/browserLanguages.xhtml b/browser/components/preferences/browserLanguages.xhtml
--- a/browser/components/preferences/browserLanguages.xhtml
+++ b/browser/components/preferences/browserLanguages.xhtml
@@ -7,15 +7,15 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://browser/skin/preferences/preferences.css"?>
 
-<dialog id="BrowserLanguagesDialog" type="child"
+<window type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="browser-languages-window"
         data-l10n-attrs="title, style"
+        persist="screenX screenY"
+        onload="gBrowserLanguagesDialog.onLoad();">
+<dialog id="BrowserLanguagesDialog"
         buttons="accept,cancel,help"
-        persist="screenX screenY"
-        role="dialog"
-        onload="gBrowserLanguagesDialog.onLoad();"
         helpTopic="change-language">
 
   <linkset>
@@ -53,3 +53,4 @@
     <description class="message-bar-description" data-l10n-id="browser-languages-error"/>
   </hbox>
 </dialog>
+</window>
diff --git a/browser/components/preferences/colors.js b/browser/components/preferences/colors.js
--- a/browser/components/preferences/colors.js
+++ b/browser/components/preferences/colors.js
@@ -4,10 +4,9 @@
 
 /* import-globals-from ../../../toolkit/content/preferencesBindings.js */
 
-document.documentElement.addEventListener(
-  "dialoghelp",
-  window.top.openPrefsHelp
-);
+document
+  .getElementById("ColorsDialog")
+  .addEventListener("dialoghelp", window.top.openPrefsHelp);
 
 Preferences.addAll([
   { id: "browser.display.document_color_use", type: "int" },
diff --git a/browser/components/preferences/colors.xhtml b/browser/components/preferences/colors.xhtml
--- a/browser/components/preferences/colors.xhtml
+++ b/browser/components/preferences/colors.xhtml
@@ -8,14 +8,14 @@
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 <?xml-stylesheet href="chrome://browser/skin/preferences/preferences.css"?>
 
-<dialog id="ColorsDialog" type="child" class="prefwindow"
+<window type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="colors-window"
         data-l10n-attrs="title, style"
+        persist="lastSelected screenX screenY">
+<dialog id="ColorsDialog"
         buttons="accept,cancel,help"
-        persist="lastSelected screenX screenY"
-        role="dialog"
         helpTopic="prefs-fonts-and-colors">
 
   <linkset>
@@ -90,3 +90,4 @@
   <!-- Load the script after the elements for layout issues (bug 1501755). -->
   <script src="chrome://browser/content/preferences/colors.js"/>
 </dialog>
+</window>
diff --git a/browser/components/preferences/connection.js b/browser/components/preferences/connection.js
--- a/browser/components/preferences/connection.js
+++ b/browser/components/preferences/connection.js
@@ -7,10 +7,9 @@
 /* import-globals-from ../../../toolkit/content/preferencesBindings.js */
 /* import-globals-from in-content/extensionControlled.js */
 
-document.documentElement.addEventListener(
-  "dialoghelp",
-  window.top.openPrefsHelp
-);
+document
+  .getElementById("ConnectionsDialog")
+  .addEventListener("dialoghelp", window.top.openPrefsHelp);
 
 Preferences.addAll([
   // Add network.proxy.autoconfig_url before network.proxy.type so they're
@@ -85,9 +84,11 @@
     gConnectionsDialog.updateProxySettingsUI();
     initializeProxyUI(gConnectionsDialog);
     gConnectionsDialog.registerSyncPrefListeners();
-    document.documentElement.addEventListener("beforeaccept", e =>
-      gConnectionsDialog.beforeAccept(e)
-    );
+    document
+      .getElementById("ConnectionsDialog")
+      .addEventListener("beforeaccept", e =>
+        gConnectionsDialog.beforeAccept(e)
+      );
   },
   { once: true, capture: true }
 );
diff --git a/browser/components/preferences/connection.xhtml b/browser/components/preferences/connection.xhtml
--- a/browser/components/preferences/connection.xhtml
+++ b/browser/components/preferences/connection.xhtml
@@ -7,15 +7,15 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://browser/skin/preferences/preferences.css"?>
 
-<dialog id="ConnectionsDialog" type="child"
+<window type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="connection-window"
         data-l10n-attrs="title, style"
+        persist="lastSelected screenX screenY"
+        onload="gConnectionsDialog.checkForSystemProxy();">
+<dialog id="ConnectionsDialog"
         buttons="accept,cancel,help"
-        persist="lastSelected screenX screenY"
-        role="dialog"
-        onload="gConnectionsDialog.checkForSystemProxy();"
         helpTopic="prefs-connection-settings">
 
   <!-- Used for extension-controlled lockdown message -->
@@ -164,3 +164,4 @@
     </box>
   </groupbox>
 </dialog>
+</window>
diff --git a/browser/components/preferences/fonts.js b/browser/components/preferences/fonts.js
--- a/browser/components/preferences/fonts.js
+++ b/browser/components/preferences/fonts.js
@@ -18,10 +18,9 @@
 const kFontSizeFmtFixed = "font.size.monospace.%LANG%";
 const kFontMinSizeFmt = "font.minimum-size.%LANG%";
 
-document.documentElement.addEventListener(
-  "dialoghelp",
-  window.top.openPrefsHelp
-);
+document
+  .getElementById("FontsDialog")
+  .addEventListener("dialoghelp", window.top.openPrefsHelp);
 window.addEventListener("load", () => gFontsDialog.onLoad());
 
 Preferences.addAll([
diff --git a/browser/components/preferences/fonts.xhtml b/browser/components/preferences/fonts.xhtml
--- a/browser/components/preferences/fonts.xhtml
+++ b/browser/components/preferences/fonts.xhtml
@@ -8,14 +8,14 @@
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 <?xml-stylesheet href="chrome://browser/skin/preferences/preferences.css"?>
 
-<dialog id="FontsDialog" type="child"
+<window type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="fonts-window"
         data-l10n-attrs="title"
+        persist="lastSelected screenX screenY">
+<dialog id="FontsDialog"
         buttons="accept,cancel,help"
-        persist="lastSelected screenX screenY"
-        role="dialog"
         helpTopic="prefs-fonts-and-colors">
 
   <linkset>
@@ -271,3 +271,4 @@
   <script src="chrome://mozapps/content/preferences/fontbuilder.js"/>
   <script src="chrome://browser/content/preferences/fonts.js"/>
 </dialog>
+</window>
diff --git a/browser/components/preferences/in-content/subdialogs.js b/browser/components/preferences/in-content/subdialogs.js
--- a/browser/components/preferences/in-content/subdialogs.js
+++ b/browser/components/preferences/in-content/subdialogs.js
@@ -240,10 +240,9 @@
     }
 
     // Provide the ability for the dialog to know that it is being loaded "in-content".
-    this._frame.contentDocument.documentElement.setAttribute(
-      "subdialog",
-      "true"
-    );
+    for (let dialog of this._frame.contentDocument.querySelectorAll("dialog")) {
+      dialog.setAttribute("subdialog", "true");
+    }
 
     this._frame.contentWindow.addEventListener("dialogclosing", this);
 
diff --git a/browser/components/preferences/in-content/syncChooseWhatToSync.js b/browser/components/preferences/in-content/syncChooseWhatToSync.js
--- a/browser/components/preferences/in-content/syncChooseWhatToSync.js
+++ b/browser/components/preferences/in-content/syncChooseWhatToSync.js
@@ -32,7 +32,9 @@
       });
     } else {
       // no "disconnect" - hide the button.
-      document.documentElement.getButton("extra2").hidden = true;
+      document
+        .getElementById("syncChooseOptions")
+        .getButton("extra2").hidden = true;
     }
   },
 
diff --git a/browser/components/preferences/in-content/syncChooseWhatToSync.xhtml b/browser/components/preferences/in-content/syncChooseWhatToSync.xhtml
--- a/browser/components/preferences/in-content/syncChooseWhatToSync.xhtml
+++ b/browser/components/preferences/in-content/syncChooseWhatToSync.xhtml
@@ -7,15 +7,16 @@
 
 <?xml-stylesheet href="chrome://global/skin/"?>
 
-<dialog id="syncChooseOptions"
-        type="child"
+<window type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
-        role="dialog"
-        buttons="accept,cancel,extra2"
         onload="gSyncChooseWhatToSync.init();"
         data-l10n-id="sync-choose-what-to-sync-dialog"
-        data-l10n-attrs="title, style, buttonlabelaccept, buttonlabelextra2">
+        data-l10n-attrs="title, style">
+<dialog id="syncChooseOptions"
+        buttons="accept,cancel,extra2"
+        data-l10n-id="sync-choose-what-to-sync-dialog"
+        data-l10n-attrs="buttonlabelaccept, buttonlabelextra2">
 
   <linkset>
     <html:link rel="localization" href="browser/branding/sync-brand.ftl"/>
@@ -59,3 +60,4 @@
     </html:div>
   </html:div>
 </dialog>
+</window>
diff --git a/browser/components/preferences/languages.js b/browser/components/preferences/languages.js
--- a/browser/components/preferences/languages.js
+++ b/browser/components/preferences/languages.js
@@ -7,10 +7,9 @@
 
 var { Services } = ChromeUtils.import("resource://gre/modules/Services.jsm");
 
-document.documentElement.addEventListener(
-  "dialoghelp",
-  window.top.openPrefsHelp
-);
+document
+  .getElementById("LanguagesDialog")
+  .addEventListener("dialoghelp", window.top.openPrefsHelp);
 
 Preferences.addAll([
   { id: "intl.accept_languages", type: "wstring" },
diff --git a/browser/components/preferences/languages.xhtml b/browser/components/preferences/languages.xhtml
--- a/browser/components/preferences/languages.xhtml
+++ b/browser/components/preferences/languages.xhtml
@@ -7,15 +7,15 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://browser/skin/preferences/preferences.css"?>
 
-<dialog id="LanguagesDialog" type="child"
+<window type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="webpage-languages-window"
         data-l10n-attrs="title, style"
+        persist="lastSelected screenX screenY"
+        onload="gLanguagesDialog.onLoad();">
+<dialog id="LanguagesDialog"
         buttons="accept,cancel,help"
-        persist="lastSelected screenX screenY"
-        role="dialog"
-        onload="gLanguagesDialog.onLoad();"
         helpTopic="prefs-languages">
 
   <linkset>
@@ -64,3 +64,4 @@
             data-l10n-id="languages-customize-add"/>
   </box>
 </dialog>
+</window>
diff --git a/browser/components/preferences/sanitize.js b/browser/components/preferences/sanitize.js
--- a/browser/components/preferences/sanitize.js
+++ b/browser/components/preferences/sanitize.js
@@ -5,10 +5,9 @@
 
 /* import-globals-from ../../../toolkit/content/preferencesBindings.js */
 
-document.documentElement.addEventListener(
-  "dialoghelp",
-  window.top.openPrefsHelp
-);
+document
+  .getElementById("SanitizeDialog")
+  .addEventListener("dialoghelp", window.top.openPrefsHelp);
 
 Preferences.addAll([
   { id: "privacy.clearOnShutdown.history", type: "bool" },
diff --git a/browser/components/preferences/sanitize.xhtml b/browser/components/preferences/sanitize.xhtml
--- a/browser/components/preferences/sanitize.xhtml
+++ b/browser/components/preferences/sanitize.xhtml
@@ -8,18 +8,18 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://browser/skin/preferences/preferences.css"?>
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
-<dialog id="SanitizeDialog" type="child"
+<window type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
-        buttons="accept,cancel,help"
         persist="lastSelected screenX screenY"
-        role="dialog"
         data-l10n-id="sanitize-prefs"
         data-l10n-attrs="style"
-        helpTopic="prefs-clear-private-data"
         onload="gSanitizeDialog.init();">
+<dialog id="SanitizeDialog"
+        buttons="accept,cancel,help"
+        helpTopic="prefs-clear-private-data">
 
   <linkset>
     <html:link rel="localization" href="browser/sanitize.ftl"/>
@@ -70,3 +70,4 @@
     </hbox>
   </groupbox>
 </dialog>
+</window>
diff --git a/browser/components/preferences/selectBookmark.js b/browser/components/preferences/selectBookmark.js
--- a/browser/components/preferences/selectBookmark.js
+++ b/browser/components/preferences/selectBookmark.js
@@ -54,7 +54,9 @@
    * selection within the view.
    */
   selectionChanged: function SBD_selectionChanged() {
-    var accept = document.documentElement.getButton("accept");
+    var accept = document
+      .getElementById("selectBookmarkDialog")
+      .getButton("accept");
     var bookmarks = document.getElementById("bookmarks");
     var disableAcceptButton = true;
     if (bookmarks.hasSelection) {
@@ -73,7 +75,10 @@
        * The user has double clicked on a tree row that is a link. Take this to
        * mean that they want that link to be their homepage, and close the dialog.
        */
-      document.documentElement.getButton("accept").click();
+      document
+        .getElementById("selectBookmarkDialog")
+        .getButton("accept")
+        .click();
     }
   },
 
diff --git a/browser/components/preferences/selectBookmark.xhtml b/browser/components/preferences/selectBookmark.xhtml
--- a/browser/components/preferences/selectBookmark.xhtml
+++ b/browser/components/preferences/selectBookmark.xhtml
@@ -9,13 +9,13 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://browser/skin/places/tree-icons.css"?>
 
-<dialog id="selectBookmarkDialog"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="select-bookmark-window"
         data-l10n-attrs="title, style"
         persist="screenX screenY width height" screenX="24" screenY="24"
         onload="SelectBookmarkDialog.init();">
+<dialog id="selectBookmarkDialog">
 
   <linkset>
     <html:link rel="localization" href="browser/preferences/selectBookmark.ftl"/>
@@ -46,3 +46,4 @@
   <separator class="thin"/>
 
 </dialog>
+</window>
diff --git a/browser/components/preferences/siteDataRemoveSelected.xhtml b/browser/components/preferences/siteDataRemoveSelected.xhtml
--- a/browser/components/preferences/siteDataRemoveSelected.xhtml
+++ b/browser/components/preferences/siteDataRemoveSelected.xhtml
@@ -8,14 +8,16 @@
 <?xml-stylesheet href="chrome://browser/content/preferences/siteDataSettings.css" type="text/css"?>
 <?xml-stylesheet href="chrome://browser/skin/preferences/in-content/siteDataSettings.css" type="text/css"?>
 
-<dialog id="SiteDataRemoveSelectedDialog"
-        windowtype="Browser:SiteDataRemoveSelected"
+<window windowtype="Browser:SiteDataRemoveSelected"
         width="500"
         data-l10n-id="site-data-removing-dialog"
-        data-l10n-attrs="title, buttonlabelaccept"
+        data-l10n-attrs="title"
         onload="gSiteDataRemoveSelected.init();"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml">
+<dialog id="SiteDataRemoveSelectedDialog"
+        data-l10n-id="site-data-removing-dialog"
+        data-l10n-attrs="buttonlabelaccept">
 
   <linkset>
     <html:link rel="localization" href="browser/preferences/siteDataSettings.ftl"/>
@@ -47,3 +49,4 @@
   <!-- Load the script after the elements for layout issues (bug 1501755). -->
   <script src="chrome://browser/content/preferences/siteDataRemoveSelected.js"/>
 </dialog>
+</window>
diff --git a/browser/components/shell/content/setDesktopBackground.js b/browser/components/shell/content/setDesktopBackground.js
--- a/browser/components/shell/content/setDesktopBackground.js
+++ b/browser/components/shell/content/setDesktopBackground.js
@@ -31,7 +31,9 @@
       this._canvas.width + "px";
 
     if (AppConstants.platform == "macosx") {
-      document.documentElement.getButton("accept").hidden = true;
+      document
+        .getElementById("SetDesktopBackgroundDialog")
+        .getButton("accept").hidden = true;
     } else {
       let multiMonitors = false;
       if (AppConstants.platform == "linux") {
diff --git a/browser/components/shell/content/setDesktopBackground.xul b/browser/components/shell/content/setDesktopBackground.xul
--- a/browser/components/shell/content/setDesktopBackground.xul
+++ b/browser/components/shell/content/setDesktopBackground.xul
@@ -16,18 +16,19 @@
 #endif
 ]>
 
-<dialog xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         windowtype="Shell:SetDesktopBackground"
+        onload="gSetBackground.load();"
+        title="&setDesktopBackground.title;"
+        style="width: 30em;">
+<dialog id="SetDesktopBackgroundDialog"
 #ifndef XP_MACOSX
         buttons="accept,cancel"
 #else
         buttons="accept"
 #endif
-        buttonlabelaccept="&setDesktopBackground.title;"
-        onload="gSetBackground.load();"
-        title="&setDesktopBackground.title;"
-        style="width: 30em;">
+        buttonlabelaccept="&setDesktopBackground.title;">
 
 #ifdef XP_MACOSX
 #include ../../../base/content/macWindow.inc.xhtml
@@ -88,3 +89,4 @@
 #endif
 
 </dialog>
+</window>
diff --git a/browser/extensions/formautofill/skin/linux/editDialog.css b/browser/extensions/formautofill/skin/linux/editDialog.css
--- a/browser/extensions/formautofill/skin/linux/editDialog.css
+++ b/browser/extensions/formautofill/skin/linux/editDialog.css
@@ -3,6 +3,6 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 /* Linux specific rules */
-:root[subdialog] body {
+dialog[subdialog] body {
   font-size: 0.85rem;
 }
diff --git a/browser/extensions/formautofill/skin/shared/editAddress.css b/browser/extensions/formautofill/skin/shared/editAddress.css
--- a/browser/extensions/formautofill/skin/shared/editAddress.css
+++ b/browser/extensions/formautofill/skin/shared/editAddress.css
@@ -9,7 +9,7 @@
   justify-content: space-between;
 }
 
-:root:not([subdialog]) .editAddressForm {
+dialog:not([subdialog]) .editAddressForm {
   margin-inline-start: calc(var(--grid-column-row-gap) / -2);
   margin-inline-end: calc(var(--grid-column-row-gap) / -2);
 }
@@ -120,6 +120,6 @@
   padding-inline-start: 1em;
 }
 
-:root:not([subdialog]) #country-warning-message {
+dialog:not([subdialog]) #country-warning-message {
   display: none;
 }
diff --git a/browser/extensions/formautofill/skin/shared/editDialog-shared.css b/browser/extensions/formautofill/skin/shared/editDialog-shared.css
--- a/browser/extensions/formautofill/skin/shared/editDialog-shared.css
+++ b/browser/extensions/formautofill/skin/shared/editDialog-shared.css
@@ -9,7 +9,7 @@
   --animation-easing-function: cubic-bezier(.07,.95,0,1);
 }
 
-:root[subdialog] form {
+dialog[subdialog] form {
   /* Add extra space to ensure invalid input box is displayed properly */
   padding: 2px;
 }
@@ -85,7 +85,7 @@
   margin-bottom: var(--grid-column-row-gap);
 }
 
-:root[subdialog] form {
+dialog[subdialog] form {
   /* Match the margin-inline-start of the #controls-container buttons
      and provide enough padding at the top of the form so button outlines
      don't get clipped. */
diff --git a/browser/themes/linux/preferences/in-content/dialog.css b/browser/themes/linux/preferences/in-content/dialog.css
--- a/browser/themes/linux/preferences/in-content/dialog.css
+++ b/browser/themes/linux/preferences/in-content/dialog.css
@@ -4,7 +4,7 @@
 
 %include ../../../shared/incontentprefs/dialog.inc.css
 
-:root > * {
+dialog > * {
   font-size: 1.05em;
 }
 
diff --git a/browser/themes/osx/preferences/in-content/dialog.css b/browser/themes/osx/preferences/in-content/dialog.css
--- a/browser/themes/osx/preferences/in-content/dialog.css
+++ b/browser/themes/osx/preferences/in-content/dialog.css
@@ -8,6 +8,6 @@
   font: message-box !important;
 }
 
-:root > * {
+dialog > * {
   font-size: 1.18em;
 }
diff --git a/browser/themes/windows/preferences/in-content/dialog.css b/browser/themes/windows/preferences/in-content/dialog.css
--- a/browser/themes/windows/preferences/in-content/dialog.css
+++ b/browser/themes/windows/preferences/in-content/dialog.css
@@ -4,6 +4,6 @@
 
 %include ../../../shared/incontentprefs/dialog.inc.css
 
-:root > * {
+dialog > * {
   font-size: 1.12em;
 }
diff --git a/security/manager/pki/resources/content/certManager.xhtml b/security/manager/pki/resources/content/certManager.xhtml
--- a/security/manager/pki/resources/content/certManager.xhtml
+++ b/security/manager/pki/resources/content/certManager.xhtml
@@ -5,17 +5,17 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
-<dialog id="certmanager"
-	windowtype="mozilla:certmanager"
-	xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  xmlns:html="http://www.w3.org/1999/xhtml"
+<window windowtype="mozilla:certmanager"
+        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+        xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="certmgr-title"
         onload="LoadCerts();"
-        buttons="accept"
         style="width: 40em; height: 32em;"
         persist="screenX screenY width height">
+<dialog id="certmanager"
+        buttons="accept">
 
   <linkset>
     <html:link rel="localization" href="security/certificates/certManager.ftl"/>
@@ -191,3 +191,4 @@
   </vbox>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/certViewer.xhtml b/security/manager/pki/resources/content/certViewer.xhtml
--- a/security/manager/pki/resources/content/certViewer.xhtml
+++ b/security/manager/pki/resources/content/certViewer.xhtml
@@ -5,16 +5,19 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
+<window
+  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+  xmlns:html="http://www.w3.org/1999/xhtml"
+  data-l10n-id="certmgr-cert-detail"
+  data-l10n-attrs="title"
+  onload="setWindowName();">
 <dialog id="certDetails"
   data-l10n-id="certmgr-cert-detail"
   data-l10n-attrs="buttonlabelaccept, buttonaccesskeyaccept"
-  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  xmlns:html="http://www.w3.org/1999/xhtml"
-  buttons="accept"
-  onload="setWindowName();">
+  buttons="accept">
 
 
 <linkset>
@@ -163,3 +166,4 @@
   </tabbox>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/changepassword.js b/security/manager/pki/resources/content/changepassword.js
--- a/security/manager/pki/resources/content/changepassword.js
+++ b/security/manager/pki/resources/content/changepassword.js
@@ -14,7 +14,7 @@
 }
 
 function onLoad() {
-  document.documentElement.getButton("accept").disabled = true;
+  document.getElementById("set_password").getButton("accept").disabled = true;
   document.addEventListener("dialogaccept", setPassword);
 
   pw1 = document.getElementById("pw1");
@@ -197,10 +197,13 @@
       // was called with the intention to change the password.
       // The token currently uses an empty password.
       // We will not allow changing the password from empty to empty.
-      document.documentElement.getButton("accept").disabled = true;
+      document
+        .getElementById("set_password")
+        .getButton("accept").disabled = true;
       return;
     }
   }
 
-  document.documentElement.getButton("accept").disabled = pw1 != pw2;
+  document.getElementById("set_password").getButton("accept").disabled =
+    pw1 != pw2;
 }
diff --git a/security/manager/pki/resources/content/changepassword.xhtml b/security/manager/pki/resources/content/changepassword.xhtml
--- a/security/manager/pki/resources/content/changepassword.xhtml
+++ b/security/manager/pki/resources/content/changepassword.xhtml
@@ -5,13 +5,14 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog SYSTEM "chrome://pippki/locale/pippki.dtd">
+<!DOCTYPE window SYSTEM "chrome://pippki/locale/pippki.dtd">
 
-<dialog id="set_password" title="&setPassword.title;"
+<window title="&setPassword.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:html="http://www.w3.org/1999/xhtml"
-  buttons="accept,cancel"
   onload="onLoad();">
+<dialog id="set_password"
+  buttons="accept,cancel">
 
 <stringbundle id="pippki_bundle" src="chrome://pippki/locale/pippki.properties"/>
 
@@ -57,3 +58,4 @@
 </vbox>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/clientauthask.xhtml b/security/manager/pki/resources/content/clientauthask.xhtml
--- a/security/manager/pki/resources/content/clientauthask.xhtml
+++ b/security/manager/pki/resources/content/clientauthask.xhtml
@@ -5,17 +5,18 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog [
+<!DOCTYPE window [
 <!ENTITY % pippkiDTD SYSTEM "chrome://pippki/locale/pippki.dtd" >
 %pippkiDTD;
 ]>
 
 
-<dialog id="certAuthAsk" title="&clientAuthAsk.title;"
+<window title="&clientAuthAsk.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:html="http://www.w3.org/1999/xhtml"
-  buttons="accept,cancel"
   onload="onLoad();">
+<dialog id="certAuthAsk"
+  buttons="accept,cancel">
 
 <stringbundleset id="stringbundleset">
   <stringbundle id="pippki_bundle" src="chrome://pippki/locale/pippki.properties"/>
@@ -43,3 +44,4 @@
 <checkbox id="rememberBox" checked="true"/>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/deletecert.xhtml b/security/manager/pki/resources/content/deletecert.xhtml
--- a/security/manager/pki/resources/content/deletecert.xhtml
+++ b/security/manager/pki/resources/content/deletecert.xhtml
@@ -5,14 +5,14 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
-<dialog id="deleteCertificate"
-  data-l10n-id="certmgr-delete-cert"
+<window data-l10n-id="certmgr-delete-cert"
   data-l10n-attrs="style"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:html="http://www.w3.org/1999/xhtml"
-  onload="onLoad();"
+  onload="onLoad();">
+<dialog id="deleteCertificate"
   buttons="accept,cancel">
 
   <linkset>
@@ -28,3 +28,4 @@
   <description id="impact" style="width: 400px;"/>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/device_manager.xhtml b/security/manager/pki/resources/content/device_manager.xhtml
--- a/security/manager/pki/resources/content/device_manager.xhtml
+++ b/security/manager/pki/resources/content/device_manager.xhtml
@@ -7,14 +7,14 @@
 
 <!DOCTYPE dialog>
 
-<dialog id="devicemanager"
-        windowtype="mozilla:devicemanager"
+<window windowtype="mozilla:devicemanager"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="devmgr"
         data-l10n-attrs="style"
         persist="screenX screenY width height"
-        onload="LoadModules();"
+        onload="LoadModules();">
+<dialog id="devicemanager"
         buttons="accept">
 
 <linkset>
@@ -67,3 +67,4 @@
 </hbox>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/downloadcert.xhtml b/security/manager/pki/resources/content/downloadcert.xhtml
--- a/security/manager/pki/resources/content/downloadcert.xhtml
+++ b/security/manager/pki/resources/content/downloadcert.xhtml
@@ -5,14 +5,14 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog SYSTEM "chrome://pippki/locale/pippki.dtd">
+<!DOCTYPE window SYSTEM "chrome://pippki/locale/pippki.dtd">
 
-<dialog id="download_cert"
-        title="&downloadCert.title;"
+<window title="&downloadCert.title;"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         style="width: 46em;"
-        buttons="accept,cancel"
         onload="onLoad();">
+<dialog id="download_cert"
+        buttons="accept,cancel">
 
 <stringbundle id="pippki_bundle" src="chrome://pippki/locale/pippki.properties"/>
 
@@ -54,3 +54,4 @@
   </vbox>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/editcacert.xhtml b/security/manager/pki/resources/content/editcacert.xhtml
--- a/security/manager/pki/resources/content/editcacert.xhtml
+++ b/security/manager/pki/resources/content/editcacert.xhtml
@@ -5,15 +5,15 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
-<dialog id="editCaCert"
-        data-l10n-id="certmgr-edit-ca-cert"
+<window data-l10n-id="certmgr-edit-ca-cert"
         data-l10n-attrs="style"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
-        buttons="accept,cancel"
         onload="onLoad();">
+<dialog id="editCaCert"
+        buttons="accept,cancel">
 
   <linkset>
     <html:link rel="localization" href="security/certificates/certManager.ftl"/>
@@ -33,3 +33,4 @@
   </vbox>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/exceptionDialog.js b/security/manager/pki/resources/content/exceptionDialog.js
--- a/security/manager/pki/resources/content/exceptionDialog.js
+++ b/security/manager/pki/resources/content/exceptionDialog.js
@@ -18,7 +18,7 @@
 
 function initExceptionDialog() {
   gNeedReset = false;
-  gDialog = document.documentElement;
+  gDialog = document.getElementById("exceptiondialog");
   gSecHistogram = Services.telemetry.getHistogramById("SECURITY_UI");
   let warningText = document.getElementById("warningText");
   document.l10n.setAttributes(warningText, "add-exception-branded-warning");
diff --git a/security/manager/pki/resources/content/exceptionDialog.xhtml b/security/manager/pki/resources/content/exceptionDialog.xhtml
--- a/security/manager/pki/resources/content/exceptionDialog.xhtml
+++ b/security/manager/pki/resources/content/exceptionDialog.xhtml
@@ -6,16 +6,16 @@
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 <?xml-stylesheet href="chrome://pippki/content/exceptionDialog.css" type="text/css"?>
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
-<dialog id="exceptiondialog"
-        windowtype="mozilla:exceptiondialog"
+<window windowtype="mozilla:exceptiondialog"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="exception-mgr"
+        onload="initExceptionDialog();">
+<dialog id="exceptiondialog"
         buttonidextra1="exception-mgr-extra-button"
         buttons="cancel,extra1,extra2"
-        onload="initExceptionDialog();"
         defaultButton="extra2">
 
   <linkset>
@@ -85,3 +85,4 @@
             disabled="true"
             data-l10n-id="exception-mgr-permanent"/>
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/load_device.xhtml b/security/manager/pki/resources/content/load_device.xhtml
--- a/security/manager/pki/resources/content/load_device.xhtml
+++ b/security/manager/pki/resources/content/load_device.xhtml
@@ -5,12 +5,12 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+        xmlns:html="http://www.w3.org/1999/xhtml"
+        data-l10n-id="load-device">
 <dialog id="loaddevice"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        xmlns:html="http://www.w3.org/1999/xhtml"
-        data-l10n-id="load-device"
         buttons="accept,cancel">
 
   <linkset>
@@ -50,3 +50,4 @@
   <label id="helpText" value=""/>
 
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/resetpassword.xhtml b/security/manager/pki/resources/content/resetpassword.xhtml
--- a/security/manager/pki/resources/content/resetpassword.xhtml
+++ b/security/manager/pki/resources/content/resetpassword.xhtml
@@ -5,14 +5,15 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog SYSTEM "chrome://pippki/locale/pippki.dtd">
+<!DOCTYPE window SYSTEM "chrome://pippki/locale/pippki.dtd">
 
-<dialog id="reset_password" title="&resetPassword.title;"
+<window title="&resetPassword.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+  style="width: 40em;">
+<dialog id="reset_password"
   buttons="accept,cancel"
   buttonlabelaccept="&resetPasswordButtonLabel;"
-  defaultButton="cancel"
-  style="width: 40em;">
+  defaultButton="cancel">
 
   <stringbundle id="pippki_bundle" src="chrome://pippki/locale/pippki.properties"/>
 
@@ -32,3 +33,4 @@
     </vbox>
   </hbox>
 </dialog>
+</window>
diff --git a/security/manager/pki/resources/content/setp12password.js b/security/manager/pki/resources/content/setp12password.js
--- a/security/manager/pki/resources/content/setp12password.js
+++ b/security/manager/pki/resources/content/setp12password.js
@@ -122,5 +122,6 @@
   // Disable the accept button if the two passwords don't match, and enable it
   // if the passwords do match.
   let pw2 = document.getElementById("pw2").value;
-  document.documentElement.getButton("accept").disabled = pw1 != pw2;
+  document.getElementById("setp12password").getButton("accept").disabled =
+    pw1 != pw2;
 }
diff --git a/security/manager/pki/resources/content/setp12password.xhtml b/security/manager/pki/resources/content/setp12password.xhtml
--- a/security/manager/pki/resources/content/setp12password.xhtml
+++ b/security/manager/pki/resources/content/setp12password.xhtml
@@ -5,15 +5,15 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<!DOCTYPE dialog SYSTEM "chrome://pippki/locale/pippki.dtd">
+<!DOCTYPE window SYSTEM "chrome://pippki/locale/pippki.dtd">
 
-<dialog id="setp12password"
-        title="&pkcs12.setpassword.title;"
+<window title="&pkcs12.setpassword.title;"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         style="width: 48em;"
-        buttons="accept,cancel"
         onload="onLoad();">
+<dialog id="setp12password"
+        buttons="accept,cancel">
 
   <script src="chrome://global/content/globalOverlay.js"/>
   <script src="chrome://global/content/editMenuOverlay.js"/>
@@ -41,3 +41,4 @@
     <html:progress id="pwmeter" value="0" max="100"/>
   </vbox>
 </dialog>
+</window>
diff --git a/toolkit/components/apppicker/content/appPicker.xul b/toolkit/components/apppicker/content/appPicker.xul
--- a/toolkit/components/apppicker/content/appPicker.xul
+++ b/toolkit/components/apppicker/content/appPicker.xul
@@ -7,16 +7,17 @@
   <?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
   <?xml-stylesheet href="chrome://global/skin/appPicker.css" type="text/css"?>
 
-  <!DOCTYPE dialog SYSTEM "chrome://global/locale/appPicker.dtd" >
+  <!DOCTYPE window SYSTEM "chrome://global/locale/appPicker.dtd" >
 
-  <dialog id="app-picker"
+  <window
     xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
     onload="g_dialog.appPickerLoad();"
+    aria-describedby="content-description suggested-filename"
+    persist="screenX screenY">
+  <dialog id="app-picker"
     buttons="accept,cancel,extra2"
     buttonlabelextra2="&BrowseButton.label;"
-    defaultButton="cancel"
-    aria-describedby="content-description suggested-filename"
-    persist="screenX screenY">
+    defaultButton="cancel">
 
     <script src="chrome://global/content/appPicker.js"/>
 
@@ -35,3 +36,4 @@
 
     <label id="app-picker-notfound" value="&NoAppFound.label;" hidden="true"/>
   </dialog>
+  </window>
diff --git a/toolkit/components/printing/content/printPageSetup.xul b/toolkit/components/printing/content/printPageSetup.xul
--- a/toolkit/components/printing/content/printPageSetup.xul
+++ b/toolkit/components/printing/content/printPageSetup.xul
@@ -7,14 +7,14 @@
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 <?xml-stylesheet href="chrome://global/skin/printPageSetup.css" type="text/css"?>
 
-<dialog xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:html="http://www.w3.org/1999/xhtml"
-  id="printPageSetupDialog"
   onload="onLoad();"
   oncancel="return onCancel();"
   data-l10n-id="print-setup"
   persist="screenX screenY"
   screenX="24" screenY="24">
+<dialog id="printPageSetupDialog">
 
   <linkset>
     <html:link rel="localization" href="toolkit/printing/printDialogs.ftl"/>
@@ -209,3 +209,4 @@
     </tabpanels>
   </tabbox>
 </dialog>
+</window>
diff --git a/toolkit/components/printing/content/printPreviewProgress.xul b/toolkit/components/printing/content/printPreviewProgress.xul
--- a/toolkit/components/printing/content/printPreviewProgress.xul
+++ b/toolkit/components/printing/content/printPreviewProgress.xul
@@ -6,14 +6,14 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<dialog xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         data-l10n-id="print-preview-window"
         style="width: 36em;"
-        buttons="cancel"
         oncancel="onCancel()"
         onload="onLoad()"
         onunload="onUnload()">
+<dialog buttons="cancel">
 
   <linkset>
     <html:link rel="localization" href="toolkit/printing/printDialogs.ftl"/>
@@ -31,3 +31,4 @@
     <label id="dialog.progressLabel" data-l10n-id="print-progress"/>
   </box>
 </dialog>
+</window>
diff --git a/toolkit/components/printing/content/printProgress.xul b/toolkit/components/printing/content/printProgress.xul
--- a/toolkit/components/printing/content/printProgress.xul
+++ b/toolkit/components/printing/content/printProgress.xul
@@ -6,13 +6,13 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<dialog xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
-        buttons="cancel"
         data-l10n-id="print-window"
         style="width: 36em;"
         onload="onLoad()"
         onunload="onUnload()">
+<dialog buttons="cancel">
 
   <linkset>
     <html:link rel="localization" href="toolkit/printing/printDialogs.ftl"/>
@@ -44,3 +44,4 @@
     </hbox>
   </box>
 </dialog>
+</window>
diff --git a/toolkit/components/prompts/content/commonDialog.js b/toolkit/components/prompts/content/commonDialog.js
--- a/toolkit/components/prompts/content/commonDialog.js
+++ b/toolkit/components/prompts/content/commonDialog.js
@@ -18,7 +18,7 @@
     args[prop.name] = prop.value;
   }
 
-  let dialog = document.documentElement;
+  let dialog = document.getElementById("commonDialog");
 
   let ui = {
     prompt: window,
diff --git a/toolkit/components/prompts/content/commonDialog.xul b/toolkit/components/prompts/content/commonDialog.xul
--- a/toolkit/components/prompts/content/commonDialog.xul
+++ b/toolkit/components/prompts/content/commonDialog.xul
@@ -8,14 +8,15 @@
 <?xml-stylesheet href="chrome://global/content/commonDialog.css" type="text/css"?>
 <?xml-stylesheet href="chrome://global/skin/commonDialog.css" type="text/css"?>
 
-<!DOCTYPE dialog SYSTEM "chrome://global/locale/commonDialog.dtd">
+<!DOCTYPE window SYSTEM "chrome://global/locale/commonDialog.dtd">
 
-<dialog id="commonDialog"
+<window id="commonDialogWindow"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         aria-describedby="infoBody"
-        onunload="commonDialogOnUnload();"
+        onunload="commonDialogOnUnload();">
+<dialog id="commonDialog"
         buttonpack="center">
 
   <script src="chrome://global/content/commonDialog.js"/>
@@ -83,3 +84,4 @@
     </div>
   </div>
 </dialog>
+</window>
diff --git a/toolkit/components/prompts/content/selectDialog.xul b/toolkit/components/prompts/content/selectDialog.xul
--- a/toolkit/components/prompts/content/selectDialog.xul
+++ b/toolkit/components/prompts/content/selectDialog.xul
@@ -5,10 +5,11 @@
    - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
 
 <?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
-<!DOCTYPE dialog SYSTEM "chrome://global/locale/commonDialog.dtd">
+<!DOCTYPE window SYSTEM "chrome://global/locale/commonDialog.dtd">
 
-<dialog xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
       onload="dialogOnLoad()">
+<dialog>
 
   <script src="chrome://global/content/selectDialog.js" />
   <keyset id="dialogKeys"/>
@@ -19,3 +20,4 @@
     </vbox>
   </vbox>
 </dialog>
+</window>
diff --git a/toolkit/content/preferencesBindings.js b/toolkit/content/preferencesBindings.js
--- a/toolkit/content/preferencesBindings.js
+++ b/toolkit/content/preferencesBindings.js
@@ -263,7 +263,11 @@
     },
 
     onDialogAccept(event) {
-      if (!this._fireEvent("beforeaccept", document.documentElement)) {
+      let dialog = document.querySelector("dialog");
+      if (!dialog) {
+        dialog = document.documentElement;
+      }
+      if (!this._fireEvent("beforeaccept", dialog)) {
         event.preventDefault();
         return false;
       }
diff --git a/toolkit/content/resetProfile.xul b/toolkit/content/resetProfile.xul
--- a/toolkit/content/resetProfile.xul
+++ b/toolkit/content/resetProfile.xul
@@ -7,15 +7,15 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://global/content/resetProfile.css"?>
 
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+        xmlns:html="http://www.w3.org/1999/xhtml"
+        data-l10n-id="refresh-profile-dialog"
+        onload="">
 <dialog id="resetProfileDialog"
-            xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-            xmlns:html="http://www.w3.org/1999/xhtml"
-            data-l10n-id="refresh-profile-dialog"
-            buttons="accept,cancel"
-            defaultButton="cancel"
-            buttonidaccept="refresh-profile-dialog-button"
-            onload="">
-	<!-- The empty onload event handler is a hack to get the accept button text applied by Fluent. -->
+        buttons="accept,cancel"
+        defaultButton="cancel"
+        buttonidaccept="refresh-profile-dialog-button">
+  <!-- The empty onload event handler is a hack to get the accept button text applied by Fluent. -->
 
   <linkset>
     <html:link rel="localization" href="branding/brand.ftl"/>
@@ -32,3 +32,4 @@
     <label class="migratedLabel" data-l10n-id="refresh-profile-restore"/>
   </vbox>
 </dialog>
+</window>
diff --git a/toolkit/content/widgets/dialog.js b/toolkit/content/widgets/dialog.js
--- a/toolkit/content/widgets/dialog.js
+++ b/toolkit/content/widgets/dialog.js
@@ -60,7 +60,7 @@
 
       // listen for when window is closed via native close buttons
       window.addEventListener("close", event => {
-        if (!document.documentElement.cancelDialog()) {
+        if (!this.cancelDialog()) {
           event.preventDefault();
         }
       });
@@ -129,10 +129,10 @@
       let key =
         AppConstants.platform == "macosx"
           ? `<key phase="capturing"
-            oncommand="document.documentElement.openHelp(event)"
+            oncommand="document.querySelector('dialog').openHelp(event)"
             key="&openHelpMac.commandkey;" modifiers="accel"/>`
           : `<key phase="capturing"
-            oncommand="document.documentElement.openHelp(event)"
+            oncommand="document.querySelector('dialog').openHelp(event)"
             keycode="&openHelp.commandkey;"/>`;
 
       return `
@@ -164,6 +164,8 @@
         return;
       }
 
+      document.documentElement.setAttribute("role", "dialog");
+
       this.shadowRoot.textContent = "";
       this.shadowRoot.appendChild(
         MozXULElement.parseXULToFragment(this._markup, [
@@ -279,14 +281,13 @@
     }
 
     postLoadInit(aEvent) {
-      function focusInit() {
-        const dialog = document.documentElement;
-        const defaultButton = dialog.getButton(dialog.defaultButton);
+      let focusInit = () => {
+        const defaultButton = this.getButton(this.defaultButton);
 
         // give focus to the first focusable element in the dialog
         let focusedElt = document.commandDispatcher.focusedElement;
         if (!focusedElt) {
-          document.commandDispatcher.advanceFocusIntoSubtree(dialog);
+          document.commandDispatcher.advanceFocusIntoSubtree(this);
 
           focusedElt = document.commandDispatcher.focusedElement;
           if (focusedElt) {
@@ -328,7 +329,7 @@
             window.notifyDefaultButtonLoaded(defaultButton);
           }
         } catch (e) {}
-      }
+      };
 
       // Give focus after onload completes, see bug 103197.
       setTimeout(focusInit, 0);
@@ -341,7 +342,7 @@
     }
 
     openHelp(event) {
-      var helpButton = document.documentElement.getButton("help");
+      var helpButton = this.getButton("help");
       if (helpButton.disabled || helpButton.hidden) {
         return;
       }
@@ -378,7 +379,11 @@
       // add the label and oncommand handler to each button
       for (dlgtype in buttons) {
         var button = buttons[dlgtype];
-        button.addEventListener("command", this._handleButtonCommand, true);
+        button.addEventListener(
+          "command",
+          this._handleButtonCommand.bind(this),
+          true
+        );
 
         // don't override custom labels with pre-defined labels on explicit buttons
         if (!button.hasAttribute("label")) {
@@ -501,9 +506,7 @@
     }
 
     _handleButtonCommand(aEvent) {
-      return document.documentElement._doButtonCommand(
-        aEvent.target.getAttribute("dlgtype")
-      );
+      return this._doButtonCommand(aEvent.target.getAttribute("dlgtype"));
     }
 
     _doButtonCommand(aDlgType) {
diff --git a/toolkit/content/xul.css b/toolkit/content/xul.css
--- a/toolkit/content/xul.css
+++ b/toolkit/content/xul.css
@@ -531,6 +531,7 @@
 /********** dialog **********/
 
 dialog {
+  -moz-box-flex: 1;
   -moz-box-orient: vertical;
 }
 
diff --git a/toolkit/mozapps/downloads/HelperAppDlg.jsm b/toolkit/mozapps/downloads/HelperAppDlg.jsm
--- a/toolkit/mozapps/downloads/HelperAppDlg.jsm
+++ b/toolkit/mozapps/downloads/HelperAppDlg.jsm
@@ -506,6 +506,8 @@
       this.mLauncher.MIMEInfo.MIMEType;
     this.dialogElement("contentTypeImage").setAttribute("src", iconString);
 
+    let dialog = this.mDialog.document.getElementById("unknownContentType");
+
     // if always-save and is-executable and no-handler
     // then set up simple ui
     var mimeType = this.mLauncher.MIMEInfo.MIMEType;
@@ -523,16 +525,14 @@
       this.dialogElement("basicBox").collapsed = false;
       // change button labels and icons; use "save" icon for the accept
       // button since it's the only action possible
-      let acceptButton = this.mDialog.document.documentElement.getButton(
-        "accept"
-      );
+      let acceptButton = dialog.getButton("accept");
       acceptButton.label = this.dialogElement("strings").getString(
         "unknownAccept.label"
       );
       acceptButton.setAttribute("icon", "save");
-      this.mDialog.document.documentElement.getButton(
-        "cancel"
-      ).label = this.dialogElement("strings").getString("unknownCancel.label");
+      dialog.getButton("cancel").label = this.dialogElement(
+        "strings"
+      ).getString("unknownCancel.label");
       // hide other handler
       this.dialogElement("openHandler").collapsed = true;
       // set save as the selected option
@@ -589,14 +589,10 @@
 
     this.delayHelper = new EnableDelayHelper({
       disableDialog: () => {
-        this.mDialog.document.documentElement.getButton(
-          "accept"
-        ).disabled = true;
+        dialog.getButton("accept").disabled = true;
       },
       enableDialog: () => {
-        this.mDialog.document.documentElement.getButton(
-          "accept"
-        ).disabled = false;
+        dialog.getButton("accept").disabled = false;
       },
       focusTarget: this.mDialog,
     });
@@ -893,7 +889,8 @@
     }
 
     // Enable Ok button if ok to press.
-    this.mDialog.document.documentElement.getButton("accept").disabled = !ok;
+    let dialog = this.mDialog.document.getElementById("unknownContentType");
+    dialog.getButton("accept").disabled = !ok;
   },
 
   // Returns true iff the user-specified helper app has been modified.
@@ -996,9 +993,8 @@
         );
 
         // Disable the OK button.
-        this.mDialog.document.documentElement.getButton(
-          "accept"
-        ).disabled = true;
+        let dialog = this.mDialog.document.getElementById("unknownContentType");
+        dialog.getButton("accept").disabled = true;
         this.dialogElement("mode").focus();
 
         // Clear chosen application.
diff --git a/toolkit/mozapps/downloads/content/unknownContentType.xul b/toolkit/mozapps/downloads/content/unknownContentType.xul
--- a/toolkit/mozapps/downloads/content/unknownContentType.xul
+++ b/toolkit/mozapps/downloads/content/unknownContentType.xul
@@ -7,7 +7,7 @@
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 <?xml-stylesheet href="chrome://mozapps/skin/downloads/unknownContentType.css" type="text/css"?>
 
-<!DOCTYPE dialog [
+<!DOCTYPE window [
   <!ENTITY % brandDTD SYSTEM "chrome://branding/locale/brand.dtd" >
   %brandDTD;
   <!ENTITY % uctDTD SYSTEM "chrome://mozapps/locale/downloads/unknownContentType.dtd" >
@@ -16,7 +16,7 @@
   %scDTD;
 ]>
 
-<dialog id="unknownContentType"
+<window id="unknownContentTypeWindow"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         onload="dialog.initDialog();" onunload="if (dialog) dialog.onCancel();"
@@ -28,6 +28,7 @@
         screenX="" screenY=""
         persist="screenX screenY"
         aria-describedby="intro location whichIs type from source unknownPrompt">
+<dialog id="unknownContentType">
 
   <stringbundle id="strings" src="chrome://mozapps/locale/downloads/unknownContentType.properties"/>
 
@@ -106,3 +107,4 @@
     </menupopup>
   </menulist>
 </dialog>
+</window>
diff --git a/toolkit/mozapps/extensions/content/blocklist.js b/toolkit/mozapps/extensions/content/blocklist.js
--- a/toolkit/mozapps/extensions/content/blocklist.js
+++ b/toolkit/mozapps/extensions/content/blocklist.js
@@ -30,7 +30,9 @@
   let bundle = Services.strings.createBundle(
     "chrome://mozapps/locale/update/updates.properties"
   );
-  let cancelButton = document.documentElement.getButton("cancel");
+  let cancelButton = document
+    .getElementById("BlocklistDialog")
+    .getButton("cancel");
   cancelButton.setAttribute(
     "label",
     bundle.GetStringFromName("restartLaterButton")
diff --git a/toolkit/mozapps/extensions/content/blocklist.xul b/toolkit/mozapps/extensions/content/blocklist.xul
--- a/toolkit/mozapps/extensions/content/blocklist.xul
+++ b/toolkit/mozapps/extensions/content/blocklist.xul
@@ -7,17 +7,19 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://mozapps/skin/extensions/blocklist.css"?>
 
-<!DOCTYPE dialog [
+<!DOCTYPE window [
 <!ENTITY % brandDTD SYSTEM "chrome://branding/locale/brand.dtd">
 %brandDTD;
 <!ENTITY % extensionsDTD SYSTEM "chrome://mozapps/locale/extensions/blocklist.dtd">
 %extensionsDTD;
 ]>
 
-<dialog windowtype="Addons:Blocklist" title="&blocklist.title;" align="stretch"
+<window windowtype="Addons:Blocklist" title="&blocklist.title;" align="stretch"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         onload="init();"
-        buttons="accept,cancel" style="&blocklist.style;"
+        style="&blocklist.style;">
+<dialog id="BlocklistDialog"
+        buttons="accept,cancel"
         buttonlabelaccept="&blocklist.accept.label;"
         buttonaccesskeyaccept="&blocklist.accept.accesskey;">
 
@@ -42,3 +44,4 @@
     </vbox>
   </hbox>
 </dialog>
+</window>
diff --git a/toolkit/mozapps/handling/content/dialog.js b/toolkit/mozapps/handling/content/dialog.js
--- a/toolkit/mozapps/handling/content/dialog.js
+++ b/toolkit/mozapps/handling/content/dialog.js
@@ -114,7 +114,7 @@
       (window.opener && PrivateBrowsingUtils.isWindowPrivate(window.opener));
 
     this._itemChoose = document.getElementById("item-choose");
-    this._okButton = document.documentElement.getButton("extra1");
+    this._okButton = document.getElementById("handling").getButton("extra1");
 
     var description = {
       image: document.getElementById("description-image"),
diff --git a/toolkit/mozapps/handling/content/dialog.xul b/toolkit/mozapps/handling/content/dialog.xul
--- a/toolkit/mozapps/handling/content/dialog.xul
+++ b/toolkit/mozapps/handling/content/dialog.xul
@@ -6,15 +6,15 @@
    - License, v. 2.0. If a copy of the MPL was not distributed with this
    - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
 
-<!DOCTYPE dialog SYSTEM "chrome://mozapps/locale/handling/handling.dtd">
+<!DOCTYPE window SYSTEM "chrome://mozapps/locale/handling/handling.dtd">
 
-<dialog id="handling"
-        onload="dialog.initialize();"
+<window onload="dialog.initialize();"
         style="min-width: &window.emWidth;; min-height: &window.emHeight;;"
         persist="width height screenX screenY"
         aria-describedby="description-text"
-        buttons="cancel,extra1"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
+<dialog id="handling"
+        buttons="cancel,extra1">
 
   <script src="chrome://mozapps/content/handling/dialog.js" type="application/javascript"/>
 
@@ -55,3 +55,4 @@
   </hbox>
 
 </dialog>
+</window>
diff --git a/toolkit/mozapps/preferences/changemp.js b/toolkit/mozapps/preferences/changemp.js
--- a/toolkit/mozapps/preferences/changemp.js
+++ b/toolkit/mozapps/preferences/changemp.js
@@ -188,7 +188,7 @@
 function checkPasswords() {
   var pw1 = document.getElementById("pw1").value;
   var pw2 = document.getElementById("pw2").value;
-  var ok = document.documentElement.getButton("accept");
+  var ok = document.getElementById("changemp").getButton("accept");
 
   var oldpwbox = document.getElementById("oldpw");
   if (oldpwbox) {
diff --git a/toolkit/mozapps/preferences/changemp.xhtml b/toolkit/mozapps/preferences/changemp.xhtml
--- a/toolkit/mozapps/preferences/changemp.xhtml
+++ b/toolkit/mozapps/preferences/changemp.xhtml
@@ -6,12 +6,12 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<dialog id="changemp"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         style="width: 40em;"
         onload="init()"
         data-l10n-id="set-password">
+<dialog id="changemp">
 
   <script src="chrome://mozapps/content/preferences/changemp.js"/>
 
@@ -52,3 +52,4 @@
   <description control="pw2" class="header" data-l10n-id="master-password-warning"></description>
 
 </dialog>
+</window>
diff --git a/toolkit/mozapps/preferences/removemp.js b/toolkit/mozapps/preferences/removemp.js
--- a/toolkit/mozapps/preferences/removemp.js
+++ b/toolkit/mozapps/preferences/removemp.js
@@ -11,7 +11,7 @@
   _okButton: null,
   _password: null,
   init() {
-    this._okButton = document.documentElement.getButton("accept");
+    this._okButton = document.getElementById("removemp").getButton("accept");
     document.l10n.setAttributes(this._okButton, "pw-remove-button");
 
     this._password = document.getElementById("password");
diff --git a/toolkit/mozapps/preferences/removemp.xhtml b/toolkit/mozapps/preferences/removemp.xhtml
--- a/toolkit/mozapps/preferences/removemp.xhtml
+++ b/toolkit/mozapps/preferences/removemp.xhtml
@@ -6,12 +6,12 @@
 
 <?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
 
-<dialog id="removemp"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         style="width: 35em;"
         onload="gRemovePasswordDialog.init()"
         data-l10n-id="remove-password">
+<dialog id="removemp">
 
   <script src="chrome://mozapps/content/preferences/removemp.js"/>
 
@@ -40,3 +40,4 @@
   <separator/>
 
 </dialog>
+</window>
diff --git a/toolkit/mozapps/update/content/history.js b/toolkit/mozapps/update/content/history.js
--- a/toolkit/mozapps/update/content/history.js
+++ b/toolkit/mozapps/update/content/history.js
@@ -71,7 +71,7 @@
         this._view.appendChild(element);
       }
     }
-    var cancelbutton = document.documentElement.getButton("cancel");
+    var cancelbutton = document.getElementById("history").getButton("cancel");
     cancelbutton.focus();
   },
 
diff --git a/toolkit/mozapps/update/content/history.xhtml b/toolkit/mozapps/update/content/history.xhtml
--- a/toolkit/mozapps/update/content/history.xhtml
+++ b/toolkit/mozapps/update/content/history.xhtml
@@ -4,20 +4,23 @@
    - License, v. 2.0. If a copy of the MPL was not distributed with this
    - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
 
-<!DOCTYPE dialog>
+<!DOCTYPE window>
 
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://mozapps/skin/update/updates.css"?>
 
-<dialog id="history" windowtype="Update:History"
+<window windowtype="Update:History"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
         style="width: 35em;"
+        data-l10n-id="close-button-label"
+        data-l10n-attrs="title"
+        onload="gUpdateHistory.onLoad();">
+<dialog id="history"
         buttons="cancel"
         defaultButton="cancel"
         data-l10n-id="close-button-label"
-        data-l10n-attrs="buttonlabelcancel"
-        onload="gUpdateHistory.onLoad();">
+        data-l10n-attrs="buttonlabelcancel">
 
   <linkset>
     <html:link rel="localization" href="toolkit/updates/history.ftl"/>
@@ -32,3 +35,4 @@
   </richlistbox>
   <separator class="thin"/>
 </dialog>
+</window>
diff --git a/toolkit/mozapps/update/content/updateElevation.xul b/toolkit/mozapps/update/content/updateElevation.xul
--- a/toolkit/mozapps/update/content/updateElevation.xul
+++ b/toolkit/mozapps/update/content/updateElevation.xul
@@ -9,7 +9,7 @@
 <?xml-stylesheet href="chrome://global/skin/"?>
 <?xml-stylesheet href="chrome://mozapps/skin/update/updates.css"?>
 
-<!DOCTYPE dialog [
+<!DOCTYPE window [
 <!ENTITY % updateDTD SYSTEM "chrome://mozapps/locale/update/updates.dtd">
 <!ENTITY % brandDTD SYSTEM "chrome://branding/locale/brand.dtd">
 %updateDTD;
@@ -19,16 +19,15 @@
 #endif
 ]>
 
-<dialog id="updates"
-        windowtype="Update:Elevation"
+<window windowtype="Update:Elevation"
         type="child"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         xmlns:html="http://www.w3.org/1999/xhtml"
-        buttons="extra2,extra1,accept"
-        role="dialog"
         title="&updateWizard.title;"
         style="width: auto; height: auto"
         onload="gUpdateElevationDialog.onLoad();">
+<dialog id="updates"
+        buttons="extra2,extra1,accept">
 
   <script src="chrome://mozapps/content/update/updateElevation.js"/>
   <script src="chrome://global/content/contentAreaUtils.js"/>
@@ -82,3 +81,4 @@
 	        oncommand="gUpdateElevationDialog.onRestartNow();" default="true"/>
   </hbox>
 </dialog>
+</window>
diff --git a/toolkit/profile/content/profileDowngrade.xul b/toolkit/profile/content/profileDowngrade.xul
--- a/toolkit/profile/content/profileDowngrade.xul
+++ b/toolkit/profile/content/profileDowngrade.xul
@@ -6,7 +6,7 @@
 <?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
 <?xml-stylesheet href="chrome://mozapps/skin/profile/profileDowngrade.css" type="text/css"?>
 
-<!DOCTYPE dialog [
+<!DOCTYPE window [
 <!ENTITY % brandDTD SYSTEM "chrome://branding/locale/brand.dtd">
 %brandDTD;
 #ifdef MOZ_SERVICES_SYNC
@@ -17,15 +17,15 @@
 %profileDTD;
 ]>
 
-<dialog xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        title="&window.title;" onload="init()" style="&window.style;"
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
+        title="&window.title;" onload="init()" style="&window.style;">
+<dialog buttons="accept,extra1" buttonpack="end"
         buttonlabelextra1="&window.create;"
 #ifdef XP_WIN
         buttonlabelaccept="&window.quit-win;"
 #else
         buttonlabelaccept="&window.quit-nonwin;"
 #endif
-        buttons="accept,extra1" buttonpack="end"
         nobuttonspacer="true">
 
   <script src="profileDowngrade.js"/>
@@ -42,3 +42,4 @@
   </hbox>
 
 </dialog>
+</window>
diff --git a/toolkit/profile/content/profileSelection.js b/toolkit/profile/content/profileSelection.js
--- a/toolkit/profile/content/profileSelection.js
+++ b/toolkit/profile/content/profileSelection.js
@@ -31,7 +31,7 @@
     gProfileManagerBundle = document.getElementById("bundle_profileManager");
     gBrandBundle = document.getElementById("bundle_brand");
 
-    document.documentElement.centerWindowOnScreen();
+    document.getElementById("profileWindow").centerWindowOnScreen();
 
     var profilesElement = document.getElementById("profiles");
 
@@ -200,7 +200,7 @@
 
 function onProfilesDblClick(aEvent) {
   if (aEvent.target.closest("richlistitem")) {
-    document.documentElement.acceptDialog();
+    document.getElementById("profileWindow").acceptDialog();
   }
 }
 
diff --git a/toolkit/profile/content/profileSelection.xul b/toolkit/profile/content/profileSelection.xul
--- a/toolkit/profile/content/profileSelection.xul
+++ b/toolkit/profile/content/profileSelection.xul
@@ -15,15 +15,15 @@
 %profileDTD;
 ]>
 
-<dialog
-  id="profileWindow"
+<window
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   class="non-resizable"
   title="&windowtitle.label;"
   orient="vertical"
+  style="width: 30em;"
+  onload="startup();">
+<dialog id="profileWindow"
   buttons="accept,cancel"
-  style="width: 30em;"
-  onload="startup();"
   buttonlabelaccept="&start.label;"
   buttonlabelcancel="&exit.label;">
 
@@ -68,3 +68,4 @@
 
   </hbox>
 </dialog>
+</window>

