# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  933f9cd9b3b9030399a11c19cb4e5117b29e2772
Bug 1403977 - Show taller toolbox for tool-specific screenshots;r=MattN

MozReview-Commit-ID: 27O0YDdFbzr

diff --git a/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/DevTools.jsm b/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/DevTools.jsm
--- a/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/DevTools.jsm
+++ b/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/DevTools.jsm
@@ -29,26 +29,28 @@ this.DevTools = {
   init(libDir) {
     let panels = ["options", "webconsole", "jsdebugger", "styleeditor",
                   "performance", "netmonitor"];
 
     panels.forEach(panel => {
       this.configurations[panel] = {};
       this.configurations[panel].selectors = [selectToolbox];
       this.configurations[panel].applyConfig = async function() {
+        Services.prefs.setIntPref("devtools.toolbox.footer.height", 800);
         await gDevTools.showToolbox(getTargetForSelectedTab(), panel, "bottom");
         await new Promise(resolve => setTimeout(resolve, 500));
       };
     });
   },
 
   configurations: {
     bottomToolbox: {
       selectors: [selectToolbox],
       async applyConfig() {
+        Services.prefs.clearUserPref("devtools.toolbox.footer.height");
         await gDevTools.showToolbox(getTargetForSelectedTab(), "inspector", "bottom");
         await new Promise(resolve => setTimeout(resolve, 1000));
       },
     },
     sideToolbox: {
       selectors: [selectToolbox],
       async applyConfig() {
         await gDevTools.showToolbox(getTargetForSelectedTab(), "inspector", "side");
diff --git a/browser/tools/mozscreenshots/mozscreenshots/extension/lib/mozscreenshots-script.js b/browser/tools/mozscreenshots/mozscreenshots/extension/lib/mozscreenshots-script.js
--- a/browser/tools/mozscreenshots/mozscreenshots/extension/lib/mozscreenshots-script.js
+++ b/browser/tools/mozscreenshots/mozscreenshots/extension/lib/mozscreenshots-script.js
@@ -6,8 +6,14 @@ console.log(document, document.body);
 console.assert(false, "Failing mozscreenshots assertion");
 
 console.group("Grouped Message");
 console.log("group message 1");
 console.groupEnd();
 
 console.count("counter");
 console.count("counter");
+
+console.log("first", {a: 1}, "second", {b: "hello"}, "third", {c: new Map()});
+console.log("first", {a: 1}, "second", {b: "hello"});
+console.log("first", {a: 1}, "\nsecond", {b: "hello"});
+console.log("first", "\nsecond");
+console.log("\nfirst", "second");
