# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  f96600e489495df188aeb3fa9e9d42cca241b95c
Bug 1457278 - Show the accessibility tool and hide the performance tool by default in the Browser Toolbox

The performance tool for browser chrome has been replaced by Gecko Profiler and perf-html,
and the accessibility tool is a useful new tool that will be better found in the default
tool set.

MozReview-Commit-ID: 88yFNLnZPXJ

diff --git a/devtools/client/framework/toolbox-process-window.js b/devtools/client/framework/toolbox-process-window.js
--- a/devtools/client/framework/toolbox-process-window.js
+++ b/devtools/client/framework/toolbox-process-window.js
@@ -98,17 +98,21 @@ function setPrefDefaults() {
   Services.prefs.setBoolPref("devtools.inspector.showAllAnonymousContent", true);
   Services.prefs.setBoolPref("browser.dom.window.dump.enabled", true);
   Services.prefs.setBoolPref("devtools.command-button-noautohide.enabled", true);
   // Bug 1225160 - Using source maps with browser debugging can lead to a crash
   Services.prefs.setBoolPref("devtools.debugger.source-maps-enabled", false);
   Services.prefs.setBoolPref("devtools.debugger.new-debugger-frontend", true);
   Services.prefs.setBoolPref("devtools.preference.new-panel-enabled", false);
   Services.prefs.setBoolPref("layout.css.emulate-moz-box-with-flex", false);
+
+  Services.prefs.setBoolPref("devtools.accessibility.enabled", true);
+  Services.prefs.setBoolPref("devtools.performance.enabled", false);
 }
+
 window.addEventListener("load", async function() {
   let cmdClose = document.getElementById("toolbox-cmd-close");
   cmdClose.addEventListener("command", onCloseCommand);
   setPrefDefaults();
   // Reveal status message if connecting is slow or if an error occurs.
   let delayedStatusReveal = setTimeout(revealStatusMessage, STATUS_REVEAL_TIME);
   try {
     await connect();
