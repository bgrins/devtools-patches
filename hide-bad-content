# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  a93603951c5476d9f7976ecdaf008d7479820b86
Bug 1184312 - Remove the bad-content notification

diff --git a/browser/base/content/browser.css b/browser/base/content/browser.css
--- a/browser/base/content/browser.css
+++ b/browser/base/content/browser.css
@@ -741,20 +741,16 @@ window[chromehidden~="toolbar"] toolbar:
 #addon-progress-notification {
   -moz-binding: url("chrome://browser/content/urlbarBindings.xml#addon-progress-notification");
 }
 
 #identity-request-notification {
   -moz-binding: url("chrome://browser/content/urlbarBindings.xml#identity-request-notification");
 }
 
-#bad-content-notification {
-  -moz-binding: url("chrome://browser/content/urlbarBindings.xml#bad-content-notification");
-}
-
 #click-to-play-plugins-notification {
   -moz-binding: url("chrome://browser/content/urlbarBindings.xml#click-to-play-plugins-notification");
 }
 
 #login-fill-notification {
   -moz-binding: url("chrome://browser/content/urlbarBindings.xml#login-fill-notification");
 }
 
@@ -1307,26 +1303,16 @@ toolbarpaletteitem[place="palette"][hidd
 }
 
 /* Combined context-menu items */
 #context-navigation > .menuitem-iconic > .menu-iconic-text,
 #context-navigation > .menuitem-iconic > .menu-accel-container {
   display: none;
 }
 
-/* Tracking protection doorhanger */
-.popup-notification-footer[popupid="bad-content"] {
-  display: none;
-}
-
-.popup-notification-footer[popupid="bad-content"][mixedblockdisabled],
-.popup-notification-footer[popupid="bad-content"][trackingblockdisabled] {
-  display: block;
-}
-
 #login-fill-doorhanger:not([inDetailView]) > #login-fill-clickcapturer {
   pointer-events: none;
 }
 
 .popup-notification-invalid-input {
   box-shadow: 0 0 1.5px 1px red;
 }
 
diff --git a/browser/base/content/browser.js b/browser/base/content/browser.js
--- a/browser/base/content/browser.js
+++ b/browser/base/content/browser.js
@@ -6851,56 +6851,23 @@ var gIdentityHandler = {
       gBrowser.securityUI.QueryInterface(Ci.nsISSLStatusProvider).SSLStatus;
 
     // Update the identity block.
     if (this._identityBox) {
       this._identityBox.className = mode;
       this.refreshIdentityBlock(mode);
     }
 
-    // Show the doorhanger when:
-    // - mixed active content is blocked
-    // - mixed active content is loaded (detected but not blocked)
-    // - tracking content is blocked
-    // - tracking content is not blocked
-    if (state &
-        (nsIWebProgressListener.STATE_BLOCKED_MIXED_ACTIVE_CONTENT |
-         nsIWebProgressListener.STATE_LOADED_MIXED_ACTIVE_CONTENT  |
-         nsIWebProgressListener.STATE_BLOCKED_TRACKING_CONTENT     |
-         nsIWebProgressListener.STATE_LOADED_TRACKING_CONTENT)) {
-      this.showBadContentDoorhanger(state);
-    }
-  },
-
-  showBadContentDoorhanger : function(state) {
-    var currentNotification =
-      PopupNotifications.getNotification("bad-content",
-        gBrowser.selectedBrowser);
-
-    // Avoid showing the same notification (same state) repeatedly.
-    if (currentNotification && currentNotification.options.state == state)
-      return;
-
-    let options = {
-      /* keep doorhanger collapsed */
-      dismissed: true,
-      state: state
-    };
-
-    // default
-    let iconState = "bad-content-blocked-notification-icon";
-
-    if (state &
-        (Ci.nsIWebProgressListener.STATE_LOADED_MIXED_ACTIVE_CONTENT |
-         Ci.nsIWebProgressListener.STATE_LOADED_TRACKING_CONTENT)) {
-      iconState = "bad-content-unblocked-notification-icon";
-    }
-
-    PopupNotifications.show(gBrowser.selectedBrowser, "bad-content",
-                            "", iconState, null, null, options);
+<<<<<<< found
+||||||| expected
+    this.setMode(mode, secState);
+
+=======
+    this.setMode(mode, secState);
+>>>>>>> replacement
   },
 
   /**
    * Return the eTLD+1 version of the current hostname
    */
   getEffectiveHost : function() {
     if (!this._IDNService)
       this._IDNService = Cc["@mozilla.org/network/idn-service;1"]
diff --git a/browser/base/content/browser.xul b/browser/base/content/browser.xul
--- a/browser/base/content/browser.xul
+++ b/browser/base/content/browser.xul
@@ -735,18 +735,16 @@
                 <image id="push-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="addons-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="indexedDB-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="login-fill-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="password-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="webapps-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="plugins-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="web-notifications-notification-icon" class="notification-anchor-icon" role="button"/>
-                <image id="bad-content-blocked-notification-icon" class="notification-anchor-icon" role="button"/>
-                <image id="bad-content-unblocked-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="webRTC-shareDevices-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="webRTC-sharingDevices-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="webRTC-shareMicrophone-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="webRTC-sharingMicrophone-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="webRTC-shareScreen-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="webRTC-sharingScreen-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="pointerLock-notification-icon" class="notification-anchor-icon" role="button"/>
                 <image id="servicesInstall-notification-icon" class="notification-anchor-icon" role="button"/>
diff --git a/browser/base/content/urlbarBindings.xml b/browser/base/content/urlbarBindings.xml
--- a/browser/base/content/urlbarBindings.xml
+++ b/browser/base/content/urlbarBindings.xml
@@ -2198,269 +2198,16 @@ file, You can obtain one at http://mozil
         <setter><!-- This should be used only in automated tests -->
           document.getAnonymousElementByAttribute(this, "anonid",
                     "center-item-menulist").value = val;
         </setter>
       </property>
     </implementation>
   </binding>
 
-  <binding id="bad-content-notification" extends="chrome://global/content/bindings/notification.xml#popup-notification">
-    <content>
-      <xul:hbox align="start">
-        <xul:image class="popup-notification-icon" xbl:inherits="popupid,mixedblockdisabled,trackingblockdisabled"/>
-        <xul:vbox>
-          <!-- header -->
-          <xul:vbox>
-            <xul:description anonid="badContentBlocked.title"
-              class="popup-notification-item-title" xbl:inherits="popupid">
-            </xul:description>
-            <xul:description class="popup-notification-item-message"
-              xbl:inherits="popupid">
-              &badContentBlocked.moreinfo;
-            </xul:description>
-          </xul:vbox>
-          <!-- mixed content -->
-          <xul:vbox anonid="mixedContent" hidden="true">
-            <xul:separator class="groove"/>
-            <xul:hbox align="start">
-              <xul:vbox>
-                <xul:description class="popup-notification-item-title"
-                  xbl:inherits="popupid">
-                  &mixedContentBlocked2.message;
-                </xul:description>
-                <xul:description class="popup-notification-item-message"
-                  xbl:inherits="popupid,mixedblockdisabled">
-                  &mixedContentBlocked2.moreinfo;
-                </xul:description>
-                <xul:label anonid="mixedContent.helplink"
-                  class="text-link" href=""
-                  value="&mixedContentBlocked2.learnMore;"/>
-              </xul:vbox>
-              <xul:button
-                type="menu" label="&mixedContentBlocked2.options;"
-                sizetopopup="none">
-                <xul:menupopup>
-                  <xul:menuitem anonid="mixedContentAction.unblock"
-                    hidden="true" label="&mixedContentBlocked2.unblock.label;"
-                    accesskey="&mixedContentBlocked2.unblock.accesskey;"
-                    oncommand="document.getBindingParent(this).disableMixedContentProtection();"/>
-                  <xul:menuitem anonid="mixedContentAction.block"
-                    hidden="true" label="&mixedContentBlocked2.block.label;"
-                    accesskey="&mixedContentBlocked2.block.accesskey;"
-                    oncommand="document.getBindingParent(this).enableMixedContentProtection();"/>
-                </xul:menupopup>
-              </xul:button>
-            </xul:hbox>
-            <xul:hbox class="popup-notification-footer" xbl:inherits="popupid,mixedblockdisabled">
-              <xul:description class="popup-notification-item-message popup-notification-item-message-critical" xbl:inherits="popupid">
-                  &mixedContentBlocked2.disabled.message;
-              </xul:description>
-            </xul:hbox>
-          </xul:vbox>
-          <!-- tracking content -->
-          <xul:vbox anonid="trackingContent" hidden="true">
-            <xul:separator class="groove"/>
-            <xul:hbox align="start">
-              <xul:vbox>
-                <xul:description class="popup-notification-item-title"
-                  xbl:inherits="popupid">
-                  &trackingContentBlocked.message;
-                </xul:description>
-                <xul:description class="popup-notification-item-message"
-                  xbl:inherits="popupid,trackingblockdisabled">
-                  &trackingContentBlocked.moreinfo;
-                </xul:description>
-                <xul:label anonid="trackingContent.helplink"
-                  class="text-link" href=""
-                  value="&trackingContentBlocked.learnMore;"/>
-              </xul:vbox>
-              <xul:button
-                type="menu" label="&trackingContentBlocked.options;"
-                sizetopopup="none">
-                <xul:menupopup>
-                  <xul:menuitem anonid="trackingContentAction.unblock"
-                    hidden="true" label="&trackingContentBlocked.unblock2.label;"
-                    accesskey="&trackingContentBlocked.unblock2.accesskey;"
-                    oncommand="document.getBindingParent(this).disableTrackingContentProtection();"/>
-                  <xul:menuitem anonid="trackingContentAction.block"
-                    hidden="true" label="&trackingContentBlocked.block.label;"
-                    accesskey="&trackingContentBlocked.block.accesskey;"
-                    oncommand="document.getBindingParent(this).enableTrackingContentProtection();"/>
-                </xul:menupopup>
-              </xul:button>
-            </xul:hbox>
-            <xul:hbox class="popup-notification-footer" xbl:inherits="popupid,trackingblockdisabled">
-              <xul:description class="popup-notification-item-message popup-notification-item-message-critical" xbl:inherits="popupid">
-                &trackingContentBlocked.disabled.message;
-                </xul:description>
-            </xul:hbox>
-          </xul:vbox>
-        </xul:vbox>
-        <xul:vbox pack="start">
-          <xul:toolbarbutton anonid="closebutton"
-                             class="messageCloseButton popup-notification-closebutton tabbable close-icon"
-                             xbl:inherits="oncommand=closebuttoncommand"
-                             tooltiptext="&closeNotification.tooltip;"/>
-        </xul:vbox>
-      </xul:hbox>
-    </content>
-    <resources>
-      <stylesheet src="chrome://global/skin/notification.css"/>
-    </resources>
-    <implementation>
-      <field name="_brandShortName">
-        document.getElementById("bundle_brand").getString("brandShortName")
-      </field>
-      <field name="_doorhangerTitle">
-        document.getAnonymousElementByAttribute(this, "anonid",
-          "badContentBlocked.title")
-      </field>
-      <field name="_mixedContent">
-        document.getAnonymousElementByAttribute(this, "anonid",
-            "mixedContent")
-      </field>
-      <field name="_mixedContentUnblock">
-        document.getAnonymousElementByAttribute(this, "anonid",
-          "mixedContentAction.unblock")
-      </field>
-      <field name="_mixedContentBlock">
-        document.getAnonymousElementByAttribute(this, "anonid",
-          "mixedContentAction.block");
-      </field>
-      <field name="_mixedContentHelpLink">
-        document.getAnonymousElementByAttribute(this, "anonid",
-          "mixedContent.helplink")
-      </field>
-      <property name="isMixedContentBlocked" readonly="true">
-        <getter><![CDATA[
-          return this.notification.options.state &
-            Ci.nsIWebProgressListener.STATE_BLOCKED_MIXED_ACTIVE_CONTENT;
-        ]]></getter>
-      </property>
-      <field name="_trackingContent">
-        document.getAnonymousElementByAttribute(this, "anonid",
-          "trackingContent")
-      </field>
-      <field name="_trackingContentUnblock">
-        document.getAnonymousElementByAttribute(this, "anonid",
-          "trackingContentAction.unblock")
-      </field>
-      <field name="_trackingContentBlock">
-        document.getAnonymousElementByAttribute(this, "anonid",
-          "trackingContentAction.block");
-      </field>
-      <field name="_trackingContentHelpLink">
-        document.getAnonymousElementByAttribute(this, "anonid",
-          "trackingContent.helplink")
-      </field>
-      <property name="isTrackingContentBlocked" readonly="true">
-        <getter><![CDATA[
-          return !!(this.notification.options.state &
-            Ci.nsIWebProgressListener.STATE_BLOCKED_TRACKING_CONTENT);
-        ]]></getter>
-      </property>
-      <constructor><![CDATA[
-        // default title
-        _doorhangerTitle.value =
-          gNavigatorBundle.getFormattedString(
-            "badContentBlocked.notblocked.message", [this._brandShortName]);
-        if (this.notification.options.state &
-            Ci.nsIWebProgressListener.STATE_BLOCKED_MIXED_ACTIVE_CONTENT) {
-          _doorhangerTitle.value =
-            gNavigatorBundle.getFormattedString(
-              "badContentBlocked.blocked.message", [this._brandShortName]);
-          _mixedContent.hidden = false;
-          _mixedContentUnblock.hidden = false;
-          _mixedContentHelpLink.href =
-            Services.urlFormatter.formatURLPref("app.support.baseURL")
-              + "mixed-content";
-        }
-        if (this.notification.options.state &
-            Ci.nsIWebProgressListener.STATE_LOADED_MIXED_ACTIVE_CONTENT) {
-          this.setAttribute("mixedblockdisabled", true);
-          _mixedContent.hidden = false;
-          _mixedContentBlock.hidden = false;
-          _mixedContentHelpLink.href =
-            Services.urlFormatter.formatURLPref("app.support.baseURL")
-              + "mixed-content";
-        }
-        if (this.notification.options.state &
-            Ci.nsIWebProgressListener.STATE_BLOCKED_TRACKING_CONTENT) {
-          _doorhangerTitle.value =
-            gNavigatorBundle.getFormattedString(
-              "badContentBlocked.blocked.message", [this._brandShortName]);
-          _trackingContent.hidden = false;
-          _trackingContentUnblock.hidden = false;
-          _trackingContentHelpLink.href =
-            Services.urlFormatter.formatURLPref("app.support.baseURL")
-              + "tracking-protection";
-        }
-        if (this.notification.options.state &
-            Ci.nsIWebProgressListener.STATE_LOADED_TRACKING_CONTENT) {
-          this.setAttribute("trackingblockdisabled", true);
-          _trackingContent.hidden = false;
-          _trackingContentBlock.hidden = false;
-          _trackingContentHelpLink.href =
-            Services.urlFormatter.formatURLPref("app.support.baseURL")
-              + "tracking-protection";
-        }
-      ]]></constructor>
-      <method name="disableMixedContentProtection">
-        <body><![CDATA[
-          // Use telemetry to measure how often unblocking happens
-          const kMIXED_CONTENT_UNBLOCK_EVENT = 2;
-          let histogram =
-            Services.telemetry.getHistogramById(
-              "MIXED_CONTENT_UNBLOCK_COUNTER");
-          histogram.add(kMIXED_CONTENT_UNBLOCK_EVENT);
-          // Reload the page with the content unblocked
-          BrowserReloadWithFlags(
-            nsIWebNavigation.LOAD_FLAGS_ALLOW_MIXED_CONTENT);
-        ]]></body>
-      </method>
-      <method name="enableMixedContentProtection">
-        <body><![CDATA[
-          gBrowser.selectedBrowser.messageManager.sendAsyncMessage(
-            "MixedContent:ReenableProtection", {});
-          BrowserReload();
-        ]]></body>
-      </method>
-      <method name="disableTrackingContentProtection">
-        <body><![CDATA[
-          // convert document URI into the format used by
-          // nsChannelClassifier::ShouldEnableTrackingProtection
-          // (any scheme turned into https is correct)
-          let normalizedUrl = Services.io.newURI(
-            "https://" + gBrowser.selectedBrowser.currentURI.hostPort,
-            null, null);
-          // Add the current host/port combination in the 'trackingprotection' consumer of
-          // the permission manager using a normalized URI. This effectively
-          // places this host/port combination on the tracking protection allowlist.
-          Services.perms.add(normalizedUrl,
-            "trackingprotection", Services.perms.ALLOW_ACTION);
-          BrowserReload();
-        ]]></body>
-      </method>
-      <method name="enableTrackingContentProtection">
-        <body><![CDATA[
-          // Remove the current host/port combination from the 'trackingprotection' consumer
-          // of the permission manager. This effectively removes this host/port combination
-          // from the tracking protection allowlist.
-          let normalizedUrl = Services.io.newURI(
-            "https://" + gBrowser.selectedBrowser.currentURI.hostPort,
-            null, null);
-          Services.perms.remove(normalizedUrl,
-            "trackingprotection");
-          BrowserReload();
-        ]]></body>
-      </method>
-    </implementation>
-  </binding>
-
   <binding id="click-to-play-plugins-notification" extends="chrome://global/content/bindings/notification.xml#popup-notification">
     <content align="start" style="width: &pluginNotification.width;;">
       <xul:vbox flex="1" align="stretch" class="popup-notification-main-box"
                 xbl:inherits="popupid">
         <xul:hbox class="click-to-play-plugins-notification-description-box" flex="1" align="start">
           <xul:description class="click-to-play-plugins-outer-description" flex="1">
             <html:span anonid="click-to-play-plugins-notification-description" />
             <xul:label class="text-link click-to-play-plugins-notification-link" anonid="click-to-play-plugins-notification-link" />
diff --git a/browser/locales/en-US/chrome/browser/browser.dtd b/browser/locales/en-US/chrome/browser/browser.dtd
--- a/browser/locales/en-US/chrome/browser/browser.dtd
+++ b/browser/locales/en-US/chrome/browser/browser.dtd
@@ -780,29 +780,16 @@ you can use these alternative items. Oth
 
 <!ENTITY getUserMedia.selectCamera.label "Camera to share:">
 <!ENTITY getUserMedia.selectCamera.accesskey "C">
 <!ENTITY getUserMedia.selectMicrophone.label "Microphone to share:">
 <!ENTITY getUserMedia.selectMicrophone.accesskey "M">
 <!ENTITY getUserMedia.audioCapture.label "Audio from the tab will be shared.">
 <!ENTITY getUserMedia.allWindowsShared.message "All visible windows on your screen will be shared.">
 
-<!-- Bad Content Blocker Doorhanger Notification -->
-<!ENTITY badContentBlocked.moreinfo "Most websites will work properly even if content is blocked.">
-
-<!ENTITY mixedContentBlocked2.message "Insecure content">
-<!ENTITY mixedContentBlocked2.moreinfo "Some unencrypted elements on this website have been blocked.">
-<!ENTITY mixedContentBlocked2.learnMore "Learn More">
-<!ENTITY mixedContentBlocked2.options "Options">
-<!ENTITY mixedContentBlocked2.unblock.label "Disable protection for now">
-<!ENTITY mixedContentBlocked2.unblock.accesskey "D">
-<!ENTITY mixedContentBlocked2.block.label "Enable protection">
-<!ENTITY mixedContentBlocked2.block.accesskey "E">
-<!ENTITY mixedContentBlocked2.disabled.message "Protection is disabled">
-
 <!ENTITY trackingProtection.title "Tracking Protection">
 <!ENTITY trackingProtection.detectedBlocked2 "&brandShortName; is blocking attempts to track your browsing.">
 <!ENTITY trackingProtection.detectedNotBlocked2 "This site includes content that tracks your browsing. You have disabled protection.">
 <!ENTITY trackingProtection.notDetected2 "This site doesn’t include any content that tracks your browsing.">
 <!-- LOCALIZATION NOTE (trackingProtection.unblock.label, trackingProtection.unblock.accesskey):
      The associated button with this label and accesskey is only shown when opening the control
      center while looking at a site with trackers in NON-private browsing mode. -->
 <!ENTITY trackingProtection.unblock.label "Disable protection for this site">
diff --git a/browser/themes/linux/browser.css b/browser/themes/linux/browser.css
--- a/browser/themes/linux/browser.css
+++ b/browser/themes/linux/browser.css
@@ -1738,17 +1738,16 @@ toolbarbutton.chevron > .toolbarbutton-i
 
 #full-screen-domain-text {
   font-size: 300%;
 }
 
 %include ../shared/devtools/responsivedesign.inc.css
 %include ../shared/devtools/commandline.inc.css
 %include ../shared/plugin-doorhanger.inc.css
-%include ../shared/badcontent-doorhanger.inc.css
 %include ../shared/login-doorhanger.inc.css
 
 %include downloads/indicator.css
 
 .gcli-panel {
   padding: 0;
 }
 
diff --git a/browser/themes/osx/browser.css b/browser/themes/osx/browser.css
--- a/browser/themes/osx/browser.css
+++ b/browser/themes/osx/browser.css
@@ -3343,17 +3343,16 @@ notification[value="loop-sharing-notific
 
 #full-screen-domain-text {
   font-size: 300%;
 }
 
 %include ../shared/devtools/responsivedesign.inc.css
 %include ../shared/devtools/commandline.inc.css
 %include ../shared/plugin-doorhanger.inc.css
-%include ../shared/badcontent-doorhanger.inc.css
 %include ../shared/login-doorhanger.inc.css
 
 %include downloads/indicator.css
 
 /* On mac, the popup notification contents are indented by default and so
   the default closebutton margins from notification.css require adjustment */
 
 .click-to-play-plugins-notification-description-box > .popup-notification-closebutton {
diff --git a/browser/themes/shared/badcontent-doorhanger.inc.css b/browser/themes/shared/badcontent-doorhanger.inc.css
deleted file mode 100644
--- a/browser/themes/shared/badcontent-doorhanger.inc.css
+++ /dev/null
@@ -1,21 +0,0 @@
-.popup-notification-item-title[popupid="bad-content"] {
-  font-weight: bold;
-}
-
-.popup-notification-item-message[popupid="bad-content"] {
-  width: 17em;
-}
-
-.popup-notification-item-message[popupid="bad-content"][mixedblockdisabled]:not(.popup-notification-item-message-critical),
-.popup-notification-item-message[popupid="bad-content"][trackingblockdisabled]:not(.popup-notification-item-message-critical) {
-  color: GrayText;
-}
-
-.popup-notification-item-message-critical[popupid="bad-content"] {
-  color: #d74345;
-  font-style: italic;
-}
-
-.popup-notification-footer[popupid="bad-content"] {
-  padding-top: 1em;
-}
diff --git a/browser/themes/shared/notification-icons.inc.css b/browser/themes/shared/notification-icons.inc.css
--- a/browser/themes/shared/notification-icons.inc.css
+++ b/browser/themes/shared/notification-icons.inc.css
@@ -65,25 +65,16 @@
   list-style-image: url(chrome://mozapps/skin/passwordmgr/key-64.png);
 }
 
 .popup-notification-icon[popupid="webapps-install-progress"],
 .popup-notification-icon[popupid="webapps-install"] {
   list-style-image: url(chrome://global/skin/icons/webapps-64.png);
 }
 
-.popup-notification-icon[popupid="bad-content"] {
-  list-style-image: url(chrome://browser/skin/bad-content-blocked-64.png);
-}
-
-.popup-notification-icon[popupid="bad-content"][mixedblockdisabled],
-.popup-notification-icon[popupid="bad-content"][trackingblockdisabled] {
-  list-style-image: url(chrome://browser/skin/bad-content-unblocked-64.png);
-}
-
 .popup-notification-icon[popupid="webRTC-sharingDevices"],
 .popup-notification-icon[popupid="webRTC-shareDevices"] {
   list-style-image: url(chrome://browser/skin/webRTC-shareDevice-64.png);
 }
 
 .popup-notification-icon[popupid="webRTC-sharingMicrophone"],
 .popup-notification-icon[popupid="webRTC-shareMicrophone"] {
   list-style-image: url(chrome://browser/skin/webRTC-shareMicrophone-64.png);
@@ -216,26 +207,16 @@
   from {
     opacity: 0;
   }
   to {
     opacity: 1;
   }
 }
 
-.bad-content-blocked-notification-icon,
-#bad-content-blocked-notification-icon {
-  list-style-image: url(chrome://browser/skin/bad-content-blocked-16.png);
-}
-
-.bad-content-unblocked-notification-icon,
-#bad-content-unblocked-notification-icon {
-  list-style-image: url(chrome://browser/skin/bad-content-unblocked-16.png);
-}
-
 .webRTC-shareDevices-notification-icon,
 #webRTC-shareDevices-notification-icon {
   list-style-image: url(chrome://browser/skin/webRTC-shareDevice-16.png);
 }
 
 .webRTC-sharingDevices-notification-icon,
 #webRTC-sharingDevices-notification-icon {
   list-style-image: url(chrome://browser/skin/webRTC-sharingDevice-16.png);
@@ -416,24 +397,16 @@
   #plugins-notification-icon:hover {
     -moz-image-region: rect(0, 64px, 32px, 32px);
   }
 
   #plugins-notification-icon:active {
     -moz-image-region: rect(0, 96px, 32px, 64px);
   }
 
-  #bad-content-blocked-notification-icon {
-    list-style-image: url(chrome://browser/skin/bad-content-blocked-16@2x.png);
-  }
-
-  #bad-content-unblocked-notification-icon {
-    list-style-image: url(chrome://browser/skin/bad-content-unblocked-16@2x.png);
-  }
-
   .web-notifications-notification-icon,
   #web-notifications-notification-icon {
     list-style-image: url(chrome://browser/skin/notification-16@2x.png);
   }
 
   .pointerLock-notification-icon,
   #pointerLock-notification-icon {
     list-style-image: url(chrome://browser/skin/pointerLock-16@2x.png);
@@ -458,25 +431,16 @@
   .popup-notification-icon[popupid="push"] {
     list-style-image: url(chrome://browser/skin/Push-64@2x.png);
   }
 
   .popup-notification-icon[popupid="web-notifications"] {
     list-style-image: url(chrome://browser/skin/notification-64@2x.png);
   }
 
-  .popup-notification-icon[popupid="bad-content"] {
-    list-style-image: url(chrome://browser/skin/bad-content-blocked-64@2x.png);
-  }
-
-  .popup-notification-icon[popupid="bad-content"][mixedblockdisabled],
-  .popup-notification-icon[popupid="bad-content"][trackingblockdisabled] {
-    list-style-image: url(chrome://browser/skin/bad-content-unblocked-64@2x.png);
-  }
-
   .popup-notification-icon[popupid="pointerLock"] {
     list-style-image: url(chrome://browser/skin/pointerLock-64@2x.png);
   }
 
   .popup-notification-icon[popupid="servicesInstall"] {
     list-style-image: url(chrome://browser/skin/social/services-64@2x.png);
   }
 
diff --git a/browser/themes/windows/browser.css b/browser/themes/windows/browser.css
--- a/browser/themes/windows/browser.css
+++ b/browser/themes/windows/browser.css
@@ -2581,17 +2581,16 @@ notification[value="loop-sharing-notific
 
 #full-screen-domain-text {
   font-size: 300%;
 }
 
 %include ../shared/devtools/responsivedesign.inc.css
 %include ../shared/devtools/commandline.inc.css
 %include ../shared/plugin-doorhanger.inc.css
-%include ../shared/badcontent-doorhanger.inc.css
 %include ../shared/login-doorhanger.inc.css
 
 %include downloads/indicator.css
 
 /* Error counter */
 
 #developer-toolbar-toolbox-button[error-count]:before {
   color: #FDF3DE;
