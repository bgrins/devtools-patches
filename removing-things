# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  122432d0a915e2a07301ab6d3030e7ac4c300976
Removing things until try stops leaking

diff --git a/browser/base/content/test/general/browser_devedition.js b/browser/base/content/test/general/browser_devedition.js
--- a/browser/base/content/test/general/browser_devedition.js
+++ b/browser/base/content/test/general/browser_devedition.js
@@ -121,24 +121,25 @@ add_task(function* testLightweightThemeP
   Services.prefs.setBoolPref(PREF_DEVEDITION_THEME, true);
   ok (DevEdition.styleSheet, "The devedition stylesheet is enabled.");
   LightweightThemeManager.previewTheme(null);
   ok (DevEdition.styleSheet, "The devedition stylesheet is still enabled after the default theme is applied.");
   LightweightThemeManager.resetPreview();
   ok (DevEdition.styleSheet, "The devedition stylesheet is still enabled after resetting the preview.");
 });
 
-// Use a mutation observer to wait for the brighttitlebarforeground
-// attribute to change.  Using this instead of waiting for the load
-// event on the DevEdition styleSheet.
+// // Use a mutation observer to wait for the brighttitlebarforeground
+// // attribute to change.  Using this instead of waiting for the load
+// // event on the DevEdition styleSheet.
 function waitForBrightTitlebarAttribute() {
   return new Promise((resolve, reject) => {
     let mutationObserver = new MutationObserver(function (mutations) {
       for (let mutation of mutations) {
         if (mutation.attributeName == "brighttitlebarforeground") {
           mutationObserver.disconnect();
+          mutationObserver = null;
           resolve();
         }
       }
     });
     mutationObserver.observe(document.documentElement, { attributes: true });
   });
 }
