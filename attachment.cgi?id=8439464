# HG changeset patch
# Parent 2cb7a1c95803fab764ac251dcc28e19e08013f29
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 942292 - NO CANVAS CHANGES DevTools themes - make the toolbars thinner;r=vporof

diff --git a/browser/devtools/canvasdebugger/canvasdebugger.xul b/browser/devtools/canvasdebugger/canvasdebugger.xul
--- a/browser/devtools/canvasdebugger/canvasdebugger.xul
+++ b/browser/devtools/canvasdebugger/canvasdebugger.xul
@@ -15,60 +15,63 @@
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
   <script src="chrome://browser/content/devtools/theme-switching.js"/>
   <script type="application/javascript" src="canvasdebugger.js"/>
 
   <hbox class="theme-body" flex="1">
     <vbox id="snapshots-pane">
       <toolbar id="snapshots-toolbar"
                class="devtools-toolbar">
-        <hbox id="snapshots-controls"
-              class="devtools-toolbarbutton-group">
+        <hbox id="snapshots-controls">
           <toolbarbutton id="record-snapshot"
                          class="devtools-toolbarbutton"
                          oncommand="SnapshotsListView._onRecordButtonClick()"
                          tooltiptext="&canvasDebuggerUI.recordSnapshot.tooltip;"
                          hidden="true"/>
-          <toolbarbutton id="import-snapshot"
-                         class="devtools-toolbarbutton"
-                         oncommand="SnapshotsListView._onImportButtonClick()"
-                         label="&canvasDebuggerUI.importSnapshot;"/>
-          <toolbarbutton id="clear-snapshots"
-                         class="devtools-toolbarbutton"
-                         oncommand="SnapshotsListView._onClearButtonClick()"
-                         label="&canvasDebuggerUI.clearSnapshots;"/>
+          <hbox class="devtools-toolbarbutton-group">
+            <toolbarbutton id="import-snapshot"
+                           class="devtools-toolbarbutton"
+                           oncommand="SnapshotsListView._onImportButtonClick()"
+                           label="&canvasDebuggerUI.importSnapshot;"/>
+            <toolbarbutton id="clear-snapshots"
+                           class="devtools-toolbarbutton"
+                           oncommand="SnapshotsListView._onClearButtonClick()"
+                           label="&canvasDebuggerUI.clearSnapshots;"/>
+           </hbox>
         </hbox>
       </toolbar>
       <vbox id="snapshots-list" flex="1"/>
     </vbox>
 
     <vbox id="debugging-pane" flex="1">
       <hbox id="reload-notice"
             class="notice-container"
             align="center"
             pack="center"
             flex="1">
         <button id="reload-notice-button"
                 class="devtools-toolbarbutton"
+                standalone="true"
                 label="&canvasDebuggerUI.reloadNotice1;"
                 oncommand="gFront.setup({ reload: true })"/>
         <label id="reload-notice-label"
                class="plain"
                value="&canvasDebuggerUI.reloadNotice2;"/>
       </hbox>
 
       <hbox id="empty-notice"
             class="notice-container"
             align="center"
             pack="center"
             flex="1"
             hidden="true">
         <label value="&canvasDebuggerUI.emptyNotice1;"/>
         <button id="canvas-debugging-empty-notice-button"
                 class="devtools-toolbarbutton"
+                standalone="true"
                 oncommand="SnapshotsListView._onRecordButtonClick()"/>
         <label value="&canvasDebuggerUI.emptyNotice2;"/>
       </hbox>
 
       <hbox id="import-notice"
             class="notice-container"
             align="center"
             pack="center"
diff --git a/browser/devtools/debugger/debugger.xul b/browser/devtools/debugger/debugger.xul
--- a/browser/devtools/debugger/debugger.xul
+++ b/browser/devtools/debugger/debugger.xul
@@ -331,17 +331,17 @@
       <vbox id="stackframes" flex="1"/>
       <textbox id="searchbox"
                class="devtools-searchinput" type="search"/>
       <toolbarbutton id="instruments-pane-toggle"
                      class="devtools-toolbarbutton"
                      tooltiptext="&debuggerUI.panesButton.tooltip;"
                      tabindex="0"/>
       <toolbarbutton id="debugger-options"
-                     class="devtools-option-toolbarbutton"
+                     class="devtools-toolbarbutton devtools-option-toolbarbutton"
                      tooltiptext="&debuggerUI.optsButton.tooltip;"
                      popup="debuggerPrefsContextMenu"
                      tabindex="0"/>
     </toolbar>
     <vbox id="globalsearch" orient="vertical" hidden="true"/>
     <splitter class="devtools-horizontal-splitter" hidden="true"/>
     <hbox id="debugger-widgets" flex="1">
       <tabbox id="sources-pane"
@@ -358,21 +358,23 @@
               <hbox id="sources-controls"
                     class="devtools-toolbarbutton-group">
                 <toolbarbutton id="black-box"
                                class="devtools-toolbarbutton"
                                tooltiptext="&debuggerUI.sources.blackBoxTooltip;"
                                command="blackBoxCommand"/>
                 <toolbarbutton id="pretty-print"
                                class="devtools-toolbarbutton devtools-monospace"
+                               text-as-image="true"
                                label="{}"
                                tooltiptext="&debuggerUI.sources.prettyPrint;"
                                command="prettyPrintCommand"
                                hidden="true"/>
               </hbox>
+              <vbox class="devtools-separator"/>
               <toolbarbutton id="toggle-breakpoints"
                              class="devtools-toolbarbutton"
                              tooltiptext="&debuggerUI.sources.toggleBreakpoints;"
                              command="toggleBreakpointsCommand"/>
             </toolbar>
           </tabpanel>
           <tabpanel id="callstack-tabpanel">
             <vbox id="callstack-list" flex="1"/>
diff --git a/browser/devtools/framework/toolbox.xul b/browser/devtools/framework/toolbox.xul
--- a/browser/devtools/framework/toolbox.xul
+++ b/browser/devtools/framework/toolbox.xul
@@ -65,17 +65,17 @@
          modifiers="accel"/>
   </keyset>
 
   <notificationbox id="toolbox-notificationbox" flex="1">
     <toolbar class="devtools-tabbar">
       <hbox id="toolbox-picker-container" />
       <hbox id="toolbox-tabs" flex="1" />
       <hbox id="toolbox-buttons" pack="end"/>
-      <vbox id="toolbox-controls-separator"/>
+      <vbox id="toolbox-controls-separator" class="devtools-separator"/>
       <hbox id="toolbox-option-container"/>
       <hbox id="toolbox-controls">
         <hbox id="toolbox-dock-buttons"/>
         <toolbarbutton id="toolbox-close"
                        class="devtools-closebutton"
                        tooltiptext="&toolboxCloseButton.tooltip;"/>
       </hbox>
     </toolbar>
diff --git a/browser/devtools/netmonitor/netmonitor.xul b/browser/devtools/netmonitor/netmonitor.xul
--- a/browser/devtools/netmonitor/netmonitor.xul
+++ b/browser/devtools/netmonitor/netmonitor.xul
@@ -134,22 +134,24 @@
           </toolbar>
 
           <vbox id="requests-menu-empty-notice"
                 class="side-menu-widget-empty-text">
             <hbox id="notice-reload-message" align="center">
               <label value="&netmonitorUI.reloadNotice1;"/>
               <button id="requests-menu-reload-notice-button"
                       class="devtools-toolbarbutton"
+                      standalone="true"
                       label="&netmonitorUI.reloadNotice2;"/>
               <label value="&netmonitorUI.reloadNotice3;"/>
             </hbox>
             <hbox id="notice-perf-message" align="center">
               <label value="&netmonitorUI.perfNotice1;"/>
               <button id="requests-menu-perf-notice-button"
+                      standalone="true"
                       class="devtools-toolbarbutton"/>
               <label value="&netmonitorUI.perfNotice2;"/>
             </hbox>
           </vbox>
 
           <vbox id="requests-menu-contents" flex="1" context="network-request-popup">
             <hbox id="requests-menu-item-template" hidden="true">
               <hbox class="requests-menu-subitem requests-menu-status-and-method"
@@ -192,17 +194,18 @@
         <deck id="details-pane"
               hidden="true">
           <vbox id="custom-pane"
                 class="tabpanel-content">
             <hbox align="baseline">
               <label value="&netmonitorUI.custom.newRequest;"
                      class="plain tabpanel-summary-label
                             custom-header"/>
-              <hbox flex="1" pack="end">
+              <hbox flex="1" pack="end"
+                    class="devtools-toolbarbutton-group">
                 <button id="custom-request-send-button"
                         class="devtools-toolbarbutton"
                         label="&netmonitorUI.custom.send;"/>
                 <button id="custom-request-close-button"
                         class="devtools-toolbarbutton"
                         label="&netmonitorUI.custom.cancel;"/>
               </hbox>
             </hbox>
diff --git a/browser/devtools/profiler/profiler.xul b/browser/devtools/profiler/profiler.xul
--- a/browser/devtools/profiler/profiler.xul
+++ b/browser/devtools/profiler/profiler.xul
@@ -19,18 +19,17 @@
 
   <script type="application/javascript;version=1.8"
           src="chrome://browser/content/devtools/theme-switching.js"/>
   <script type="text/javascript" src="sidebar.js"/>
   <box flex="1" id="profiler-chrome"
     class="devtools-responsive-container theme-body">
     <vbox class="profiler-sidebar theme-sidebar">
       <toolbar class="devtools-toolbar">
-        <hbox id="profiler-controls"
-              class="devtools-toolbarbutton-group">
+        <hbox id="profiler-controls">
           <toolbarbutton id="profiler-start"
             tooltiptext="&startProfiler.tooltip;"
             class="devtools-toolbarbutton"
             disabled="true"/>
           <toolbarbutton id="profiler-import"
             class="devtools-toolbarbutton"
             disabled="true"
             label="&importProfile.label;"/>
diff --git a/browser/devtools/shadereditor/shadereditor.xul b/browser/devtools/shadereditor/shadereditor.xul
--- a/browser/devtools/shadereditor/shadereditor.xul
+++ b/browser/devtools/shadereditor/shadereditor.xul
@@ -22,16 +22,17 @@
   <vbox class="theme-body" flex="1">
     <hbox id="reload-notice"
           class="notice-container"
           align="center"
           pack="center"
           flex="1">
       <button id="requests-menu-reload-notice-button"
               class="devtools-toolbarbutton"
+              standalone="true"
               label="&shaderEditorUI.reloadNotice1;"
               oncommand="gFront.setup({ reload: true });"/>
       <label id="requests-menu-reload-notice-label"
              class="plain"
              value="&shaderEditorUI.reloadNotice2;"/>
     </hbox>
     <hbox id="waiting-notice"
           class="notice-container"
diff --git a/browser/devtools/styleeditor/styleeditor.xul b/browser/devtools/styleeditor/styleeditor.xul
--- a/browser/devtools/styleeditor/styleeditor.xul
+++ b/browser/devtools/styleeditor/styleeditor.xul
@@ -85,24 +85,26 @@
   <xul:keyset id="sourceEditorKeys"/>
 
   <xul:stack id="style-editor-chrome" class="loading theme-body">
 
     <xul:box class="splitview-root" context="sidebar-context">
       <xul:box class="splitview-controller">
         <xul:box class="splitview-main">
           <xul:toolbar class="devtools-toolbar">
-            <xul:toolbarbutton class="style-editor-newButton devtools-toolbarbutton"
-                        accesskey="&newButton.accesskey;"
-                        tooltiptext="&newButton.tooltip;"
-                        label="&newButton.label;"/>
-            <xul:toolbarbutton class="style-editor-importButton devtools-toolbarbutton"
-                        accesskey="&importButton.accesskey;"
-                        tooltiptext="&importButton.tooltip;"
-                        label="&importButton.label;"/>
+             <xul:hbox class="devtools-toolbarbutton-group">
+              <xul:toolbarbutton class="style-editor-newButton devtools-toolbarbutton"
+                          accesskey="&newButton.accesskey;"
+                          tooltiptext="&newButton.tooltip;"
+                          label="&newButton.label;"/>
+              <xul:toolbarbutton class="style-editor-importButton devtools-toolbarbutton"
+                          accesskey="&importButton.accesskey;"
+                          tooltiptext="&importButton.tooltip;"
+                          label="&importButton.label;"/>
+            </xul:hbox>
             <xul:spacer/>
             <xul:toolbarbutton id="style-editor-options"
                         class="devtools-option-toolbarbutton"
                         tooltiptext="&optionsButton.tooltip;"
                         popup="style-editor-options-popup"/>
           </xul:toolbar>
         </xul:box>
         <xul:box id="splitview-resizer-target" class="theme-sidebar splitview-nav-container"
diff --git a/browser/devtools/webaudioeditor/webaudioeditor.xul b/browser/devtools/webaudioeditor/webaudioeditor.xul
--- a/browser/devtools/webaudioeditor/webaudioeditor.xul
+++ b/browser/devtools/webaudioeditor/webaudioeditor.xul
@@ -25,16 +25,17 @@
   <vbox class="theme-body" flex="1">
     <hbox id="reload-notice"
           class="notice-container"
           align="center"
           pack="center"
           flex="1">
       <button id="requests-menu-reload-notice-button"
               class="devtools-toolbarbutton"
+              standalone="true"
               label="&webAudioEditorUI.reloadNotice1;"
               oncommand="gFront.setup({ reload: true });"/>
       <label id="requests-menu-reload-notice-label"
              class="plain"
              value="&webAudioEditorUI.reloadNotice2;"/>
     </hbox>
     <hbox id="waiting-notice"
           class="notice-container"
diff --git a/browser/devtools/webconsole/webconsole.xul b/browser/devtools/webconsole/webconsole.xul
--- a/browser/devtools/webconsole/webconsole.xul
+++ b/browser/devtools/webconsole/webconsole.xul
@@ -79,91 +79,92 @@ function goUpdateConsoleCommands() {
     </menupopup>
   </popupset>
 
   <tooltip id="aHTMLTooltip" page="true"/>
 
   <box class="hud-outer-wrapper devtools-responsive-container theme-body" flex="1">
     <vbox class="hud-console-wrapper" flex="1">
       <toolbar class="hud-console-filter-toolbar devtools-toolbar" mode="full">
-        <toolbarbutton label="&btnPageNet.label;" type="menu-button"
-                       category="net" class="devtools-toolbarbutton webconsole-filter-button"
-                       tooltiptext="&btnPageNet.tooltip;"
-                       accesskeyMacOSX="&btnPageNet.accesskeyMacOSX;"
-                       accesskey="&btnPageNet.accesskey;"
-                       tabindex="3">
-          <menupopup>
-            <menuitem label="&btnConsoleErrors;" type="checkbox" autocheck="false"
-                      prefKey="network"/>
-            <menuitem label="&btnConsoleWarnings;" type="checkbox" autocheck="false"
-                      prefKey="netwarn"/>
-            <menuitem label="&btnConsoleLog;" type="checkbox" autocheck="false"
-                      prefKey="networkinfo"/>
-            <menuseparator id="saveBodiesSeparator" />
-            <menuitem id="saveBodies" type="checkbox" label="&saveBodies.label;"
-                      accesskey="&saveBodies.accesskey;"/>
-          </menupopup>
-        </toolbarbutton>
-        <toolbarbutton label="&btnPageCSS.label;" type="menu-button"
-                       category="css" class="devtools-toolbarbutton webconsole-filter-button"
-                       tooltiptext="&btnPageCSS.tooltip2;"
-                       accesskey="&btnPageCSS.accesskey;"
-                       tabindex="4">
-          <menupopup>
-            <menuitem label="&btnConsoleErrors;" type="checkbox" autocheck="false"
-                      prefKey="csserror"/>
-            <menuitem label="&btnConsoleWarnings;" type="checkbox"
-                      autocheck="false" prefKey="cssparser"/>
-            <menuitem label="&btnConsoleReflows;" type="checkbox"
-                      autocheck="false" prefKey="csslog"/>
-          </menupopup>
-        </toolbarbutton>
-        <toolbarbutton label="&btnPageJS.label;" type="menu-button"
-                       category="js" class="devtools-toolbarbutton webconsole-filter-button"
-                       tooltiptext="&btnPageJS.tooltip;"
-                       accesskey="&btnPageJS.accesskey;"
-                       tabindex="5">
-          <menupopup>
-            <menuitem label="&btnConsoleErrors;" type="checkbox"
-                      autocheck="false" prefKey="exception"/>
-            <menuitem label="&btnConsoleWarnings;" type="checkbox"
-                      autocheck="false" prefKey="jswarn"/>
-            <menuitem label="&btnConsoleLog;" type="checkbox"
-                      autocheck="false" prefKey="jslog"/>
-          </menupopup>
-        </toolbarbutton>
-        <toolbarbutton label="&btnPageSecurity.label;" type="menu-button"
-                       category="security" class="devtools-toolbarbutton webconsole-filter-button"
-                       tooltiptext="&btnPageSecurity.tooltip;"
-                       accesskey="&btnPageSecurity.accesskey;"
-                       tabindex="6">
-          <menupopup>
-            <menuitem label="&btnConsoleErrors;" type="checkbox"
-                      autocheck="false" prefKey="secerror"/>
-            <menuitem label="&btnConsoleWarnings;" type="checkbox"
-                      autocheck="false" prefKey="secwarn"/>
-          </menupopup>
-        </toolbarbutton>
-        <toolbarbutton label="&btnPageLogging.label;" type="menu-button"
-                       category="logging" class="devtools-toolbarbutton webconsole-filter-button"
-                       tooltiptext="&btnPageLogging.tooltip;"
-                       accesskey="&btnPageLogging.accesskey3;"
-                       tabindex="7">
-          <menupopup>
-            <menuitem label="&btnConsoleErrors;" type="checkbox"
-                      autocheck="false" prefKey="error"/>
-            <menuitem label="&btnConsoleWarnings;" type="checkbox"
-                      autocheck="false" prefKey="warn"/>
-            <menuitem label="&btnConsoleInfo;" type="checkbox" autocheck="false"
-                      prefKey="info"/>
-            <menuitem label="&btnConsoleLog;" type="checkbox" autocheck="false"
-                      prefKey="log"/>
-          </menupopup>
-        </toolbarbutton>
-
+        <hbox class="devtools-toolbarbutton-group">
+          <toolbarbutton label="&btnPageNet.label;" type="menu-button"
+                         category="net" class="devtools-toolbarbutton webconsole-filter-button"
+                         tooltiptext="&btnPageNet.tooltip;"
+                         accesskeyMacOSX="&btnPageNet.accesskeyMacOSX;"
+                         accesskey="&btnPageNet.accesskey;"
+                         tabindex="3">
+            <menupopup>
+              <menuitem label="&btnConsoleErrors;" type="checkbox" autocheck="false"
+                        prefKey="network"/>
+              <menuitem label="&btnConsoleWarnings;" type="checkbox" autocheck="false"
+                        prefKey="netwarn"/>
+              <menuitem label="&btnConsoleLog;" type="checkbox" autocheck="false"
+                        prefKey="networkinfo"/>
+              <menuseparator id="saveBodiesSeparator" />
+              <menuitem id="saveBodies" type="checkbox" label="&saveBodies.label;"
+                        accesskey="&saveBodies.accesskey;"/>
+            </menupopup>
+          </toolbarbutton>
+          <toolbarbutton label="&btnPageCSS.label;" type="menu-button"
+                         category="css" class="devtools-toolbarbutton webconsole-filter-button"
+                         tooltiptext="&btnPageCSS.tooltip2;"
+                         accesskey="&btnPageCSS.accesskey;"
+                         tabindex="4">
+            <menupopup>
+              <menuitem label="&btnConsoleErrors;" type="checkbox" autocheck="false"
+                        prefKey="csserror"/>
+              <menuitem label="&btnConsoleWarnings;" type="checkbox"
+                        autocheck="false" prefKey="cssparser"/>
+              <menuitem label="&btnConsoleReflows;" type="checkbox"
+                        autocheck="false" prefKey="csslog"/>
+            </menupopup>
+          </toolbarbutton>
+          <toolbarbutton label="&btnPageJS.label;" type="menu-button"
+                         category="js" class="devtools-toolbarbutton webconsole-filter-button"
+                         tooltiptext="&btnPageJS.tooltip;"
+                         accesskey="&btnPageJS.accesskey;"
+                         tabindex="5">
+            <menupopup>
+              <menuitem label="&btnConsoleErrors;" type="checkbox"
+                        autocheck="false" prefKey="exception"/>
+              <menuitem label="&btnConsoleWarnings;" type="checkbox"
+                        autocheck="false" prefKey="jswarn"/>
+              <menuitem label="&btnConsoleLog;" type="checkbox"
+                        autocheck="false" prefKey="jslog"/>
+            </menupopup>
+          </toolbarbutton>
+          <toolbarbutton label="&btnPageSecurity.label;" type="menu-button"
+                         category="security" class="devtools-toolbarbutton webconsole-filter-button"
+                         tooltiptext="&btnPageSecurity.tooltip;"
+                         accesskey="&btnPageSecurity.accesskey;"
+                         tabindex="6">
+            <menupopup>
+              <menuitem label="&btnConsoleErrors;" type="checkbox"
+                        autocheck="false" prefKey="secerror"/>
+              <menuitem label="&btnConsoleWarnings;" type="checkbox"
+                        autocheck="false" prefKey="secwarn"/>
+            </menupopup>
+          </toolbarbutton>
+          <toolbarbutton label="&btnPageLogging.label;" type="menu-button"
+                         category="logging" class="devtools-toolbarbutton webconsole-filter-button"
+                         tooltiptext="&btnPageLogging.tooltip;"
+                         accesskey="&btnPageLogging.accesskey3;"
+                         tabindex="7">
+            <menupopup>
+              <menuitem label="&btnConsoleErrors;" type="checkbox"
+                        autocheck="false" prefKey="error"/>
+              <menuitem label="&btnConsoleWarnings;" type="checkbox"
+                        autocheck="false" prefKey="warn"/>
+              <menuitem label="&btnConsoleInfo;" type="checkbox" autocheck="false"
+                        prefKey="info"/>
+              <menuitem label="&btnConsoleLog;" type="checkbox" autocheck="false"
+                        prefKey="log"/>
+            </menupopup>
+          </toolbarbutton>
+        </hbox>
         <toolbarbutton class="webconsole-clear-console-button devtools-toolbarbutton"
                        label="&btnClear.label;" tooltiptext="&btnClear.tooltip;"
                        accesskey="&btnClear.accesskey;"
                        tabindex="8"/>
 
         <spacer flex="1"/>
 
         <textbox class="compact hud-filter-box devtools-searchinput" type="search"
diff --git a/browser/themes/shared/devtools/debugger.inc.css b/browser/themes/shared/devtools/debugger.inc.css
--- a/browser/themes/shared/devtools/debugger.inc.css
+++ b/browser/themes/shared/devtools/debugger.inc.css
@@ -594,21 +594,16 @@
 }
 
 .theme-light .dbg-results-line-contents-string[match=true] {
   color: #18191a; /* Dark foreground text */
 }
 
 /* Toolbar controls */
 
-.devtools-sidebar-tabs > tabs > tab {
-  min-height: 24px !important;
-  padding: 0 !important;
-}
-
 #debugger-toolbar .devtools-toolbarbutton:not([label]) > .toolbarbutton-icon,
 #sources-toolbar .devtools-toolbarbutton:not([label]) > .toolbarbutton-icon {
   width: 16px;
   height: 16px;
 }
 
 #resume {
   list-style-image: url(debugger-pause.png);
diff --git a/browser/themes/shared/devtools/inspector.css b/browser/themes/shared/devtools/inspector.css
--- a/browser/themes/shared/devtools/inspector.css
+++ b/browser/themes/shared/devtools/inspector.css
@@ -1,20 +1,15 @@
 /* vim:set ts=2 sw=2 sts=2 et: */
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 %ifdef XP_MACOSX
 
-#inspector-toolbar {
-  padding-top: 4px;
-  padding-bottom: 4px;
-}
-
 #inspector-toolbar:-moz-locale-dir(ltr) {
   padding-left: 2px;
   padding-right: 16px; /* use -moz-padding-end when/if bug 631729 gets fixed */
 }
 
 #inspector-toolbar:-moz-locale-dir(rtl) {
   padding-left: 4px;
   padding-right: 18px; /* use -moz-padding-end when/if bug 631729 gets fixed */
diff --git a/browser/themes/shared/devtools/netmonitor.inc.css b/browser/themes/shared/devtools/netmonitor.inc.css
--- a/browser/themes/shared/devtools/netmonitor.inc.css
+++ b/browser/themes/shared/devtools/netmonitor.inc.css
@@ -79,17 +79,17 @@
 .theme-light .requests-menu-subitem:not(:last-child):-moz-locale-dir(rtl) {
   box-shadow: -1px 0 0 @table_itemLightEndBorder@;
 }
 
 .requests-menu-header-button {
   -moz-appearance: none;
   background: none;
   min-width: 1px;
-  min-height: 32px;
+  min-height: 24px;
   margin: 0;
   border: none;
   padding: 0;
   color: inherit;
   font-weight: inherit !important;
   transition: background-color 0.1s ease-in-out;
 }
 
diff --git a/browser/themes/shared/devtools/shadereditor.inc.css b/browser/themes/shared/devtools/shadereditor.inc.css
--- a/browser/themes/shared/devtools/shadereditor.inc.css
+++ b/browser/themes/shared/devtools/shadereditor.inc.css
@@ -30,20 +30,16 @@
   display: inline-block;
   content: "";
   background: url("chrome://global/skin/icons/loading_16.png") center no-repeat;
   width: 16px;
   height: 16px;
   -moz-margin-end: 6px;
 }
 
-#requests-menu-reload-notice-button {
-  min-height: 2em;
-}
-
 /* Shaders pane */
 
 #shaders-pane {
   min-width: 150px;
 }
 
 #shaders-pane + .devtools-side-splitter {
   border-color: transparent;
diff --git a/browser/themes/shared/devtools/toolbars.inc.css b/browser/themes/shared/devtools/toolbars.inc.css
--- a/browser/themes/shared/devtools/toolbars.inc.css
+++ b/browser/themes/shared/devtools/toolbars.inc.css
@@ -4,209 +4,201 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 %endif
 %filter substitution
 %define smallSeparatorDark linear-gradient(transparent 15%, #5a6169 15%, #5a6169 85%, transparent 85%)
 %define smallSeparatorLight linear-gradient(transparent 15%, #aaa 15%, #aaa 85%, transparent 85%)
 %define solidSeparatorDark linear-gradient(#2d5b7d, #2d5b7d)
 %define solidSeparatorLight linear-gradient(#aaa, #aaa)
 
+/* Toolbars */
+.devtools-toolbar,
+.devtools-sidebar-tabs > tabs {
+  -moz-appearance: none;
+  padding: 0;
+  border-bottom-width: 1px;
+  border-bottom-style: solid;
+  height: 24px;
+  line-height: 24px;
+  box-sizing: border-box;
+}
 
 .devtools-toolbar {
-  -moz-appearance: none;
-  padding: 4px 3px;
-  border-bottom-width: 1px;
-  border-bottom-style: solid;
+  padding: 0 3px;
 }
 
+/* Toolbar buttons */
 .devtools-menulist,
 .devtools-toolbarbutton {
   -moz-appearance: none;
   -moz-box-align: center;
+  background: transparent;
   min-width: 78px;
-  min-height: 22px;
+  min-height: 18px;
+  padding: 1px;
   text-shadow: none;
-  border: 1px solid hsla(210,8%,5%,.45);
-  border-radius: 3px;
-  margin: 0 3px;
+  border: none;
+  border-radius: 0;
+  margin: 2px 3px;
 }
 
 .devtools-menulist:-moz-focusring,
 .devtools-toolbarbutton:-moz-focusring {
   outline: 1px dotted hsla(210,30%,85%,0.7);
   outline-offset: -4px;
 }
 
-.devtools-toolbarbutton > .toolbarbutton-icon {
-  margin: 0;
+.devtools-toolbarbutton[standalone] {
+  -moz-margin-end: 5px;
+  border-width: 1px;
+  border-style: solid;
+}
+.devtools-toolbarbutton[label][standalone] {
+  min-height: 2em;
 }
 
-.devtools-toolbarbutton:not([label]) {
+.devtools-toolbarbutton:not([label]),
+.devtools-toolbarbutton[text-as-image] {
   min-width: 32px;
 }
 
 .devtools-toolbarbutton:not([label]) > .toolbarbutton-text {
   display: none;
 }
 
+.devtools-toolbar .devtools-toolbarbutton {
+  border-width: 0;
+}
+
+.devtools-toolbarbutton > .toolbarbutton-icon {
+  margin: 0;
+}
+
 .devtools-toolbarbutton > .toolbarbutton-menubutton-button {
   -moz-box-orient: horizontal;
+  padding: 0;
+}
+
+.devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-button {
+  -moz-appearance: none;
+  color: inherit;
+  border-width: 0;
+}
+
+.devtools-toolbarbutton[type=menu-button] {
+  padding: 0 1px;
+  -moz-box-align: stretch;
+}
+
+.devtools-menulist > .menulist-dropmarker {
+  -moz-appearance: none;
+  display: -moz-box;
+  list-style-image: url("chrome://browser/skin/devtools/dropmarker.svg");
+  -moz-box-align: center;
+  min-width: 16px;
+}
+
+.devtools-toolbarbutton[type=menu] > .toolbarbutton-menu-dropmarker,
+.devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-dropmarker {
+  -moz-appearance: none !important;
+  list-style-image: url("chrome://browser/skin/devtools/dropmarker.svg");
+  -moz-box-align: center;
+  padding: 0 3px;
 }
 
 .theme-dark .devtools-menulist,
 .theme-dark .devtools-toolbarbutton {
-  background: linear-gradient(hsla(212,7%,57%,.35), hsla(212,7%,57%,.1)) padding-box;
+  color: #a9bacb; /* Body text - high contrast */
+  background-color: #343c45; /* Toolbars */
+  border-color: rgba(0, 0, 0, .4); /* Splitters */
   color: inherit;
-  box-shadow: 0 1px 0 hsla(210,16%,76%,.15) inset, 0 0 0 1px hsla(210,16%,76%,.15) inset, 0 1px 0 hsla(210,16%,76%,.15);
+}
+.theme-light .devtools-menulist,
+.theme-light .devtools-toolbarbutton {
+  color: #292e33; /* Body text - high contrast */
+  background-color: #f0f1f2; /* Toolbars */
+  border-color: rgba(170, 170, 170, .5); /* Splitters */
 }
 
-.theme-light .devtools-menulist,
-.theme-light .devtools-toolbarbutton {
-  background: #f7f7f7;
-  color: #18191a;
-  border-color: #bbb;
+/* Text-only buttons */
+.theme-light .devtools-toolbarbutton[label]:not([text-as-image]):not([type=menu-button]) {
+  background-color: rgba(170, 170, 170, .2); /* Splitter */
+}
+.theme-dark .devtools-toolbarbutton[label]:not([text-as-image]):not([type=menu-button]) {
+  background-color: rgba(0, 0, 0, .2); /* Splitter */
 }
 
+/* Button States */
+.theme-dark .devtools-toolbarbutton:hover,
+.theme-dark .devtools-toolbarbutton[label]:not([text-as-image]):not([type=menu-button]):hover {
+  background: rgba(0, 0, 0, .3); /* Splitters */
+}
+.theme-light .devtools-toolbarbutton:hover,
+.theme-light .devtools-toolbarbutton[label]:not([text-as-image]):not([type=menu-button]):hover {
+  background: rgba(170, 170, 170, .3); /* Splitters */
+}
+
+.theme-dark .devtools-toolbarbutton:hover:active,
+.theme-dark .devtools-toolbarbutton[label]:not([text-as-image]):not([type=menu-button]):hover:active {
+  background: rgba(0, 0, 0, .4); /* Splitters */
+}
+.theme-light .devtools-toolbarbutton:hover:active,
+.theme-light .devtools-toolbarbutton[label]:not([text-as-image]):not([type=menu-button]):hover:active {
+  background: rgba(170, 170, 170, .4); /* Splitters */
+}
+
+/* Menu type buttons and checked states */
+.theme-dark .devtools-menulist[open=true],
+.theme-dark .devtools-toolbarbutton[open=true],
+.theme-dark .devtools-toolbarbutton[open=true]:hover,
+.theme-dark .devtools-toolbarbutton[open=true]:hover:active,
+.theme-dark .devtools-toolbarbutton[checked=true],
+.theme-dark .devtools-toolbarbutton[checked=true]:hover {
+  background: rgba(29, 79, 115, .7); /* Select highlight blue */
+  color: #f5f7fa;
+}
 .theme-light .devtools-menulist[open=true],
 .theme-light .devtools-toolbarbutton[open=true],
 .theme-light .devtools-toolbarbutton[open=true]:hover,
 .theme-light .devtools-toolbarbutton[open=true]:hover:active,
 .theme-light .devtools-toolbarbutton[checked=true],
-.theme-light .devtools-toolbarbutton[checked=true]:hover  {
-  background: #ddd;
-}
-
-.theme-light .devtools-toolbarbutton:hover {
-  background: #eee;
-}
-
-.theme-light .devtools-toolbarbutton:hover:active,
-.theme-light .devtools-toolbarbutton[checked=true]:hover:active {
-  background: #e8e8e8;
-}
-
-.theme-light .devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-button {
-  color: #667380;
-}
-
-.theme-light .devtools-toolbarbutton[type=menu-button][checked=true] > .toolbarbutton-menubutton-button {
-  color: #18191a;
-}
-
-.theme-dark .devtools-toolbarbutton:not([checked]):hover:active {
-  border-color: hsla(210,8%,5%,.6);
-  background: linear-gradient(hsla(220,6%,10%,.3), hsla(212,7%,57%,.15) 65%, hsla(212,7%,57%,.3));
-  box-shadow: 0 0 3px hsla(210,8%,5%,.25) inset, 0 1px 3px hsla(210,8%,5%,.25) inset, 0 1px 0 hsla(210,16%,76%,.15);
-}
-
-.theme-dark .devtools-menulist[open=true],
-.theme-dark .devtools-toolbarbutton[open=true],
-.theme-dark .devtools-toolbarbutton[checked=true] {
-  border-color: hsla(210,8%,5%,.6) !important;
-  background: linear-gradient(hsla(220,6%,10%,.6), hsla(210,11%,18%,.45) 75%, hsla(210,11%,30%,.4));
-  box-shadow: 0 1px 3px hsla(210,8%,5%,.25) inset, 0 1px 3px hsla(210,8%,5%,.25) inset, 0 1px 0 hsla(210,16%,76%,.15);
-}
-
-.theme-dark .devtools-toolbarbutton[checked=true] {
-  color: hsl(208,100%,60%);
-}
-
-.theme-dark .devtools-toolbarbutton[checked=true]:hover {
-  background-color: transparent !important;
-}
-
-.theme-dark .devtools-toolbarbutton[checked=true]:hover:active {
-  background-color: hsla(210,8%,5%,.2) !important;
+.theme-light .devtools-toolbarbutton[checked=true]:hover {
+  background: rgba(76, 158, 217, .2); /* Select highlight blue */
 }
 
 .devtools-option-toolbarbutton {
   -moz-appearance: none;
   list-style-image: url("chrome://browser/skin/devtools/tool-options.svg");
   background: none;
   opacity: .8;
   border: none;
 }
 
 .devtools-option-toolbarbutton[open=true] {
   opacity: 1;
 }
 
-.devtools-menulist > .menulist-label-box {
-  text-align: center;
+/* Toolbar button groups */
+.devtools-toolbarbutton-group > .devtools-toolbarbutton {
+  margin-left: 1px;
+  margin-right: 1px;
+  outline-offset: -3px;
+  box-shadow: none;
 }
 
-.devtools-menulist > .menulist-dropmarker {
-  -moz-appearance: none;
-  display: -moz-box;
-  list-style-image: url("chrome://browser/skin/devtools/dropmarker.svg");
-  -moz-box-align: center;
-  min-width: 16px;
+.devtools-toolbarbutton-group > .devtools-toolbarbutton:last-child {
+  -moz-margin-end: 0;
 }
 
-.devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-button {
-  -moz-appearance: none;
-  color: inherit;
-  border-width: 0;
+.devtools-toolbarbutton-group + .devtools-toolbarbutton {
+  -moz-margin-start: 3px;
 }
 
-.theme-dark .devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-button {
-  -moz-border-end: 1px solid hsla(210,8%,5%,.45);
-  box-shadow: -1px 0 0 hsla(210,16%,76%,.15) inset, 1px 0 0 hsla(210,16%,76%,.15);
-}
-
-.theme-dark .devtools-toolbarbutton[type=menu-button]:-moz-locale-dir(rtl) > .toolbarbutton-menubutton-button {
-  box-shadow: 1px 0 0 hsla(210,16%,76%,.15) inset, -1px 0 0 hsla(210,16%,76%,.15);
-}
-
-.theme-light .devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-button {
-  -moz-border-end: 1px solid #bbb;
-}
-
-.devtools-toolbarbutton[type=menu-button] {
-  padding: 0 1px;
-  -moz-box-align: stretch;
-}
-
-.devtools-toolbarbutton[type=menu] > .toolbarbutton-menu-dropmarker,
-.devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-dropmarker {
-  -moz-appearance: none !important;
-  list-style-image: url("chrome://browser/skin/devtools/dropmarker.svg");
-  -moz-box-align: center;
-  padding: 0 3px;
-}
-
-/* Toolbar button groups */
-.theme-light .devtools-toolbarbutton-group > .devtools-toolbarbutton,
-.theme-dark .devtools-toolbarbutton-group > .devtools-toolbarbutton {
-  margin: 0;
-  box-shadow: none;
-  border-radius: 0;
-  border-width: 0;
-  -moz-border-end-width: 1px;
-  outline-offset: -3px;
-}
-
-.devtools-toolbarbutton-group > .devtools-toolbarbutton:last-of-type {
-  -moz-border-end-width: 0;
-}
-
-.devtools-toolbarbutton-group {
-  border-radius: 3px;
-  margin: 0 3px;
-}
-
-.theme-dark .devtools-toolbarbutton-group {
-  box-shadow: 0 1px 0 hsla(210,16%,76%,.15) inset,
-              0 0 0 1px hsla(210,16%,76%,.15) inset,
-              0 1px 0 hsla(210,16%,76%,.15);
-  border: 1px solid hsla(210,8%,5%,.45);
-}
-
-.theme-light .devtools-toolbarbutton-group {
-  border: 1px solid #bbb;
+.devtools-separator + .devtools-toolbarbutton {
+  -moz-margin-start: 1px;
 }
 
 /* Text input */
 
 .devtools-textinput,
 .devtools-searchinput {
   -moz-appearance: none;
   margin: 0 3px;
@@ -225,18 +217,19 @@
 }
 
 .theme-light .devtools-textinput,
 .theme-light .devtools-searchinput {
   border-color: #aaa; /* Match the splitter color */
 }
 
 .devtools-searchinput {
-  padding-top: 3px;
-  padding-bottom: 3px;
+  margin-top: 1px;
+  margin-bottom: 1px;
+  padding: 0;
   -moz-padding-start: 22px;
   -moz-padding-end: 12px;
   background-position: 8px center;
   background-size: 11px 11px;
   background-repeat: no-repeat;
   font-size: inherit;
 }
 
@@ -320,45 +313,37 @@
 }
 
 .theme-light .devtools-sidebar-tabs > tabpanels {
   background: #f7f7f7;
   color: #18191a;
 }
 
 .devtools-sidebar-tabs > tabs {
-  -moz-appearance: none;
   position: static;
   font: inherit;
   margin-bottom: 0;
-  padding: 0;
-  border-width: 0 0 1px 0;
-  border-style: solid;
   overflow: hidden;
 }
 
 .devtools-sidebar-tabs > tabs > .tabs-right,
 .devtools-sidebar-tabs > tabs > .tabs-left {
   display: none;
 }
 
 .devtools-sidebar-tabs > tabs > tab {
   -moz-appearance: none;
   /* We want to match the height of a toolbar with a toolbarbutton
    * First, we need to replicated the padding of toolbar (4px),
    * then we need to take the border of the buttons into account (1px).
    */
-  padding: 5px 3px;
+  padding: 0 3px;
   -moz-padding-start: 6px;
   margin: 0;
   min-width: 78px;
-  /* toolbar's min-height is button min-height (25px) + padding (2 * 4px): 33px.
-   * -1px because the parent element (<tabs>) comes with a 1px bottom border.
-   */
-  min-height: 32px;
   text-align: center;
   color: inherit;
   -moz-box-flex: 1;
   border-width: 0;
   border-radius: 0;
   position: static;
   -moz-margin-start: -1px;
   text-shadow: none;
@@ -496,31 +481,36 @@
 }
 
 #toolbox-dock-window:hover,
 #toolbox-dock-bottom:hover,
 #toolbox-dock-side:hover {
   opacity: 1;
 }
 
-#toolbox-controls-separator {
+.devtools-separator {
+  margin: 0 2px;
   width: 2px;
   background-image: linear-gradient(hsla(204,45%,98%,0), hsla(204,45%,98%,.1), hsla(204,45%,98%,0)),
                     linear-gradient(hsla(206,37%,4%,0), hsla(206,37%,4%,.6), hsla(206,37%,4%,0)),
                     linear-gradient(hsla(204,45%,98%,0), hsla(204,45%,98%,.1), hsla(204,45%,98%,0));
   background-size: 1px 100%;
   background-repeat: no-repeat;
   background-position: 0, 1px, 2px;
 }
 
-#toolbox-buttons:empty + #toolbox-controls-separator,
-#toolbox-controls-separator[invisible] {
+#toolbox-buttons:empty + .devtools-separator,
+.devtools-separator[invisible] {
   visibility: hidden;
 }
 
+#toolbox-controls-separator {
+  margin: 0;
+}
+
 /* Command buttons */
 
 .command-button {
   -moz-appearance: none;
   border: none;
   padding: 0 8px;
   margin: 0;
   width: 32px;
diff --git a/browser/themes/shared/devtools/webaudioeditor.inc.css b/browser/themes/shared/devtools/webaudioeditor.inc.css
--- a/browser/themes/shared/devtools/webaudioeditor.inc.css
+++ b/browser/themes/shared/devtools/webaudioeditor.inc.css
@@ -29,20 +29,16 @@
   display: inline-block;
   content: "";
   background: url("chrome://global/skin/icons/loading_16.png") center no-repeat;
   width: 16px;
   height: 16px;
   -moz-margin-end: 6px;
 }
 
-#requests-menu-reload-notice-button {
-  min-height: 2em;
-}
-
 /* Context Graph */
 svg {
   overflow: hidden;
   -moz-box-flex: 1;
 }
 
 /* Edges in graph */
 .edgePath path {
diff --git a/browser/themes/shared/devtools/webconsole.inc.css b/browser/themes/shared/devtools/webconsole.inc.css
--- a/browser/themes/shared/devtools/webconsole.inc.css
+++ b/browser/themes/shared/devtools/webconsole.inc.css
@@ -177,20 +177,16 @@ a {
 }
 
 /* WebConsole colored drops */
 
 .webconsole-filter-button {
   -moz-user-focus: normal;
 }
 
-.webconsole-filter-button[checked] {
-  color: white !important;
-}
-
 .webconsole-filter-button > .toolbarbutton-menubutton-button:before {
   content: "";
   display: inline-block;
   height: 8px;
   width: 8px;
   border-radius: 50%;
   margin-left: 5px;
   border-width: 1px;
@@ -530,28 +526,28 @@ a {
 .theme-light .stacktrace {
   border-color: #ccc;
 }
 
 @media (max-width: 500px) {
   .message > .timestamp {
     display: none;
   }
-  .toolbarbutton-text {
+  .hud-console-filter-toolbar .webconsole-filter-button .toolbarbutton-text {
     display: none;
   }
   .hud-console-filter-toolbar .webconsole-filter-button {
     min-width: 40px;
   }
   .hud-console-filter-toolbar .webconsole-clear-console-button {
     min-width: 25px;
   }
   .webconsole-filter-button > .toolbarbutton-menubutton-button:before {
-    width: 16px;
-    height: 16px;
+    width: 12px;
+    height: 12px;
     margin-left: 1px;
   }
   .toolbarbutton-menubutton-dropmarker {
     margin: 0px;
   }
 }
 
 @media (max-width: 300px) {
diff --git a/browser/themes/shared/devtools/widgets.inc.css b/browser/themes/shared/devtools/widgets.inc.css
--- a/browser/themes/shared/devtools/widgets.inc.css
+++ b/browser/themes/shared/devtools/widgets.inc.css
@@ -56,23 +56,18 @@
     max-height: 75vh;
   }
 }
 
 /* BreacrumbsWidget */
 
 .breadcrumbs-widget-container {
   -moz-margin-end: 3px;
-  max-height: 25px; /* Set max-height for proper sizing on linux */
-  height: 25px; /* Set height to prevent starting small waiting for content */
-  /* A fake 1px-shadow is included in the border-images of the
-     breadcrumbs-widget-items, to match toolbar-buttons style.
-     This negative margin compensates the extra row of pixels created
-     by the shadow.*/
-  margin-bottom: -1px;
+  max-height: 24px; /* Set max-height for proper sizing on linux */
+  height: 24px; /* Set height to prevent starting small waiting for content */
 }
 
 .scrollbutton-up,
 .scrollbutton-down {
   -moz-appearance: none;
   background: transparent;
   box-shadow: none;
   border: none;
@@ -147,17 +142,17 @@
   top: -1000px;
   left: -1000px;
 }
 
 #breadcrumb-separator-before,
 #breadcrumb-separator-after,
 #breadcrumb-separator-normal {
   width: 12px;
-  height: 25px;
+  height: 24px;
   overflow: hidden;
 }
 
 .theme-dark #breadcrumb-separator-before,
 .theme-dark #breadcrumb-separator-after:after {
   background: #1d4f73; /* Select Highlight Blue */
 }
 
@@ -186,25 +181,25 @@
 }
 
 /* Fake a triangle by rotating a rectangle inside the elements */
 #breadcrumb-separator-before:after,
 #breadcrumb-separator-after:after {
   content: "";
   display: block;
   width: 25px;
-  height: 25px;
+  height: 24px;
   transform: translateX(-18px) rotate(45deg);
   -moz-box-sizing: border-box;
 }
 
 .breadcrumbs-widget-item {
   background-color: transparent;
   -moz-appearance: none;
-  min-height: 25px;
+  min-height: 24px;
   min-width: 65px;
   margin: 0;
   padding: 0 8px 0 20px;
   border: none;
   outline: none;
   color: hsl(210,30%,85%);
 }
 
@@ -882,20 +877,16 @@
 .element-name-input {
   border: 1px solid rgba(128, 128, 128, .5) !important;
   border-radius: 0;
   color: inherit;
 }
 
 /* Variables and properties searching */
 
-.variables-view-searchinput {
-  min-height: 24px;
-}
-
 .variable-or-property[unmatched] {
   border: none;
   margin: 0;
 }
 
 /* Canvas graphs */
 
 .graph-widget-canvas {
