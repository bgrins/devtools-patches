# HG changeset patch
# User Victor Porof <vporof@mozilla.com>
# Date 1391099741 -7200
#      Thu Jan 30 18:35:41 2014 +0200
# Node ID bc2a7a6b66a7dfaec4c9a1949b0b94b7f5d07abb
# Parent  4c7af65dcaf0c6278c94db3161a99a640b4701f0
Bug 965814 - Make the shader editor look good on the light theme, r=bgrins

diff --git a/browser/devtools/shadereditor/shadereditor.xul b/browser/devtools/shadereditor/shadereditor.xul
--- a/browser/devtools/shadereditor/shadereditor.xul
+++ b/browser/devtools/shadereditor/shadereditor.xul
@@ -14,17 +14,17 @@
 
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
 
   <script type="application/javascript;version=1.8"
           src="chrome://browser/content/devtools/theme-switching.js"/>
 
   <script type="application/javascript" src="shadereditor.js"/>
 
-  <vbox id="body" flex="1">
+  <vbox id="body" class="theme-body" flex="1">
     <hbox id="reload-notice"
           class="notice-container"
           align="center"
           pack="center"
           flex="1">
       <button id="requests-menu-reload-notice-button"
               class="devtools-toolbarbutton"
               label="&shaderEditorUI.reloadNotice1;"
@@ -39,18 +39,20 @@
           pack="center"
           flex="1"
           hidden="true">
       <label id="requests-menu-waiting-notice-label"
              class="plain"
              value="&shaderEditorUI.emptyNotice;"/>
     </hbox>
 
-    <box id="content" flex="1" hidden="true"
-        class="devtools-responsive-container theme-body">
+    <box id="content"
+         class="devtools-responsive-container theme-body"
+         flex="1"
+         hidden="true">
       <vbox id="shaders-pane"/>
       <splitter class="devtools-side-splitter"/>
       <box id="shaders-editors" class="devtools-responsive-container" flex="1">
         <vbox flex="1">
           <vbox id="vs-editor" flex="1"/>
           <label id="vs-editor-label"
                  class="plain editor-label"
                  value="&shaderEditorUI.vertexShader;"/>
diff --git a/browser/themes/shared/devtools/debugger.inc.css b/browser/themes/shared/devtools/debugger.inc.css
--- a/browser/themes/shared/devtools/debugger.inc.css
+++ b/browser/themes/shared/devtools/debugger.inc.css
@@ -16,17 +16,17 @@
 
 #sources-pane .devtools-toolbar {
   border: none; /* Remove the devtools-toolbar bottom border. */
   -moz-border-end: 1px solid;
 }
 
 .theme-dark #sources-pane > tabs,
 .theme-dark #sources-pane .devtools-toolbar {
-  -moz-border-end-color: black; /* Match the splitter. */
+  -moz-border-end-color: black; /* Match the splitter color. */
 }
 
 .theme-light #sources-pane > tabs,
 .theme-light #sources-pane .devtools-toolbar {
   -moz-border-end-color: #aaa; /* Match the splitter color. */
 }
 
 /* Sources and breakpoints list */
diff --git a/browser/themes/shared/devtools/shadereditor.inc.css b/browser/themes/shared/devtools/shadereditor.inc.css
--- a/browser/themes/shared/devtools/shadereditor.inc.css
+++ b/browser/themes/shared/devtools/shadereditor.inc.css
@@ -1,22 +1,26 @@
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this file,
  * You can obtain one at http://mozilla.org/MPL/2.0/. */
 
-#body {
-  background: url(background-noise-toolbar.png), #343c45; /* Dark toolbars */
-}
-
 /* Reload and waiting notices */
 
 .notice-container {
-  background: transparent;
   margin-top: -50vh;
-  color: #fff;
+}
+
+.theme-dark .notice-container {
+  background: url(background-noise-toolbar.png), #343c45; /* Toolbars */
+  color: #f5f7fa; /* Light foreground text */
+}
+
+.theme-light .notice-container {
+  background: url(background-noise-toolbar.png), #f0f1f2; /* Toolbars */
+  color: #585959; /* Grey foreground text */
 }
 
 #reload-notice {
   font-size: 120%;
 }
 
 #waiting-notice {
   font-size: 110%;
@@ -75,44 +79,61 @@
   height: 16px;
   border: 0;
 }
 
 .side-menu-widget-item-checkbox[checked] .checkbox-check {
   background-position: 0 0;
 }
 
-.side-menu-widget-item-checkbox:not([checked]) ~ .side-menu-widget-item-contents {
-  color: rgba(255,255,255,0.4);
-}
-
 /* Shader source editors */
 
 .editor-label {
-  background: url(background-noise-toolbar.png), #343c45; /* Dark toolbars */
-  border-top: 1px solid #222426;
   padding: 1px 12px;
-  color: #fff;
+  border-top: 1px solid;
 }
 
-.editor-label[selected] {
-  background: linear-gradient(hsl(206,59%,39%), hsl(206,59%,29%)) repeat-x top left;
+.theme-dark .editor-label {
+  background: url(background-noise-toolbar.png), #343c45; /* Dark toolbars */
+  border-color: #222426; /* Match the splitter color. */
+  color: #f5f7fa; /* Light foreground text */
+}
+
+.theme-light .editor-label {
+  background: url(background-noise-toolbar.png), #f0f1f2; /* Light toolbars */
+  border-color: #aaa; /* Match the splitter color. */
+  color: #585959; /* Grey foreground text */
+}
+
+.theme-dark .editor-label[selected] {
+  background-color: #1d4f73; /* Select Highlight Blue */
+  color: #f5f7fa; /* Light foreground text */
+}
+
+.theme-light .editor-label[selected] {
+  background-color: #4c9ed9; /* Select Highlight Blue */
+  color: #f5f7fa; /* Light foreground text */
 }
 
 /* Responsive sidebar */
 
 @media (max-width: 700px) {
   #shaders-pane {
     max-height: 60vh;
   }
 
+  #editors-splitter {
+    border-color: transparent;
+  }
+
   .side-menu-widget-container {
     box-shadow: none !important;
   }
 
   .side-menu-widget-item-arrow {
     background-image: none !important;
   }
 
   .editor-label {
     -moz-box-ordinal-group: 0;
+    border-bottom: 1px solid;
   }
 }
