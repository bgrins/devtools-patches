# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1559852145 25200
#      Thu Jun 06 13:15:45 2019 -0700
# Node ID d37f9c2ed01b649896929cf4f113c069adda6d85
# Parent  9cd8af7a073c5c9bcdb33f0ef1e0e46523b766e6
Bug 1492582 - Fix test that expects getAttribute to return "" instead of null on documentElement without the attribute

This is a difference between HTML and XUL elements. Just matching the test to expect
the HTML behavior.

Differential Revision: https://phabricator.services.mozilla.com/D34020

diff --git a/toolkit/components/extensions/test/browser/browser_ext_themes_autocomplete_popup.js b/toolkit/components/extensions/test/browser/browser_ext_themes_autocomplete_popup.js
--- a/toolkit/components/extensions/test/browser/browser_ext_themes_autocomplete_popup.js
+++ b/toolkit/components/extensions/test/browser/browser_ext_themes_autocomplete_popup.js
@@ -139,17 +139,17 @@ add_task(async function test_popup_url()
                `Urlbar popup url color should be set to ${POPUP_URL_COLOR_DARK}`);
 
   Assert.equal(window.getComputedStyle(actionResult.element.action).color,
                `rgb(${hexToRGB(POPUP_ACTION_COLOR_DARK).join(", ")})`,
                `Urlbar popup action color should be set to ${POPUP_ACTION_COLOR_DARK}`);
 
   let root = document.documentElement;
   Assert.equal(root.getAttribute("lwt-popup-brighttext"),
-               "",
+               null,
                "brighttext should not be set!");
   Assert.equal(root.getAttribute("lwt-popup-darktext"),
                "true",
                "darktext should be set!");
 
   await extension.unload();
 
   Assert.equal(root.hasAttribute("lwt-popup-darktext"),
@@ -198,28 +198,28 @@ add_task(async function test_popup_url()
   Assert.equal(window.getComputedStyle(urlResult.element.separator, quantumbar ? ":before" : null).color,
                `rgba(${hexToRGB(POPUP_TEXT_COLOR_BRIGHT).join(", ")}, 0.5)`,
                `Urlbar popup separator color should be set to ${POPUP_TEXT_COLOR_BRIGHT} with alpha`);
 
   Assert.equal(root.getAttribute("lwt-popup-brighttext"),
                "true",
                "brighttext should be set to true!");
   Assert.equal(root.getAttribute("lwt-popup-darktext"),
-               "",
+               null,
                "darktext should not be set!");
 
   await extension.unload();
 
   // Check to see if popup-brighttext and secondary color are not set after
   // unload of theme
   Assert.equal(root.getAttribute("lwt-popup-brighttext"),
-               "",
+               null,
                "brighttext should not be set!");
   Assert.equal(root.getAttribute("lwt-popup-darktext"),
-               "",
+               null,
                "darktext should not be set!");
 
   // Calculate what GrayText should be. May differ between platforms.
   let span = document.createXULElement("span");
   span.style.color = "GrayText";
   document.documentElement.appendChild(span);
   let GRAY_TEXT = window.getComputedStyle(span).color;
   span.remove();
