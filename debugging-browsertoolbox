# HG changeset patch
# Parent 3d1d8af6a904b24d6041998089a6ca2459440fdf
# User Brian Grinstead <bgrinstead@mozilla.com>
Figuring out why this breaks the browser toolbox


diff --git a/toolkit/devtools/server/actors/inspector.js b/toolkit/devtools/server/actors/inspector.js
--- a/toolkit/devtools/server/actors/inspector.js
+++ b/toolkit/devtools/server/actors/inspector.js
@@ -1145,16 +1145,25 @@ var WalkerActor = protocol.ActorClass({
     },
   }),
 
   parentNode: function(node) {
     let walker = documentWalker(node.rawNode, this.rootWin);
     let parent = walker.parentNode();
     if (parent) {
       return this._ref(parent);
+    } else {
+      if (node && node.nodeType == Ci.nsIDOMNode.DOCUMENT_NODE    
+      && node.defaultView) {
+        let window = node.defaultView;   
+        let frame = this.layoutHelpers.getFrameElement(window);   
+        if (frame) {
+          console.log("THis is weird... the walker is not returning a parent node", node, frame);
+        }
+      }
     }
     return null;
   },
 
   /**
    * Mark a node as 'retained'.
    *
    * A retained node is not released when `releaseNode` is called on its
