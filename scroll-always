# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  2c8727f58c8dac9667ed2f9f81a51178d2400bcc
reset scrolltop

diff --git a/toolkit/content/widgets/menupopup.js b/toolkit/content/widgets/menupopup.js
--- a/toolkit/content/widgets/menupopup.js
+++ b/toolkit/content/widgets/menupopup.js
@@ -78,16 +78,19 @@
           this.dispatchEvent(new Event("scroll"))
         );
         this.scrollBox.addEventListener("overflow", ev =>
           this.dispatchEvent(new Event("overflow"))
         );
         this.scrollBox.addEventListener("underflow", ev =>
           this.dispatchEvent(new Event("underflow"))
         );
+        this.addEventListener("popuphidden", () => {
+          this.scrollBox.scrollbox.scrollTop = 0;
+        });
         this.scrollBox._scrollButtonUp.classList.add("menupopup-scrollbutton");
         this.scrollBox._scrollButtonDown.classList.add(
           "menupopup-scrollbutton"
         );
       }
       return super.shadowRoot;
     }
 
@@ -165,17 +168,16 @@
         // mousemove handler will remove it if the mouse isn't down.
         this._enableDragScrolling(false);
       });
 
       this.addEventListener("popuphidden", () => {
         this._draggingState = this.NOT_DRAGGING;
         this._clearScrollTimer();
         this.releaseCapture();
-        this.scrollBox.scrollbox.scrollTop = 0;
       });
 
       this.addEventListener("mousedown", event => {
         if (event.button != 0) {
           return;
         }
 
         if (
