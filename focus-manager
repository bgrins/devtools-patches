# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  a2bbfc46041e59a099cc991fb1b79ca1b2d59077

diff --git a/dom/base/nsFocusManager.cpp b/dom/base/nsFocusManager.cpp
--- a/dom/base/nsFocusManager.cpp
+++ b/dom/base/nsFocusManager.cpp
@@ -329,17 +329,22 @@ Element* nsFocusManager::GetRedirectedFo
             numberControlFrame->GetAnonTextControl();
         return textControl;
       }
     }
   }
 
 #ifdef MOZ_XUL
   if (aContent->IsXULElement()) {
+      nsAtomCString localName(aContent->NodeInfo()->NameAtom());
+      printf("In focus manager 1 %s\n", localName.get());
     if (aContent->IsXULElement(nsGkAtoms::textbox)) {
+      // if ()
+      printf("In focus manager 2\n");
+      // return aContent->GetFirstChild()->GetFirstChild()->GetNextSibling()->AsElement();
       return aContent->OwnerDoc()->GetAnonymousElementByAttribute(
           aContent, nsGkAtoms::anonid, NS_LITERAL_STRING("input"));
     } else {
       nsCOMPtr<nsIDOMXULMenuListElement> menulist =
           aContent->AsElement()->AsXULMenuList();
       if (menulist) {
         RefPtr<Element> inputField;
         menulist->GetInputField(getter_AddRefs(inputField));
