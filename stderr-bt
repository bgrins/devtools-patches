# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  02c78441c03d5d004e57596a130856861a30188a
Bug 1374837 - Pipe stderr to stdout to fix Browser Toolbox in certain Windows builds;r=kmag

This is working around an issue with Subprocess that affects some developers
using a 32 bit build on a 64 bit Windows

diff --git a/devtools/client/framework/ToolboxProcess.jsm b/devtools/client/framework/ToolboxProcess.jsm
--- a/devtools/client/framework/ToolboxProcess.jsm
+++ b/devtools/client/framework/ToolboxProcess.jsm
@@ -271,16 +271,17 @@ BrowserToolboxProcess.prototype = {
     if (!system.constants.MOZILLA_OFFICIAL) {
       args.push("-purgecaches");
     }
 
     this._dbgProcessPromise = Subprocess.call({
       command,
       arguments: args,
       environmentAppend: true,
+      stderr: "stdout",
       environment: {
         // Disable safe mode for the new process in case this was opened via the
         // keyboard shortcut.
         MOZ_DISABLE_SAFE_MODE_KEY: "1",
       },
     }).then(proc => {
       this._dbgProcess = proc;
 
