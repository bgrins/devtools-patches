# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  28a4562cb5173c543cce6b58480ac80fcce3763a

diff --git a/dom/base/Element.cpp b/dom/base/Element.cpp
--- a/dom/base/Element.cpp
+++ b/dom/base/Element.cpp
@@ -589,16 +589,22 @@ Element::WrapObject(JSContext *aCx, JS::
 
   nsIDocument* doc = GetComposedDoc();
   if (!doc) {
     // There's no baseclass that cares about this call so we just
     // return here.
     return obj;
   }
 
+  if (XRE_IsContentProcess()) {
+    // Disable in-content XBL wrapping
+    printf("Returning due to content process\n");
+    return obj;
+  }
+
   // We must ensure that the XBL Binding is installed before we hand
   // back this object.
 
   if (HasFlag(NODE_MAY_BE_IN_BINDING_MNGR) && GetXBLBinding()) {
     // There's already a binding for this element so nothing left to
     // be done here.
 
     // In theory we could call ExecuteAttachedHandler here when it's safe to
