# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  ed403ed12797327e1ad7cba799036cfe7d890039
Bug 1329262 - Enable compact themes in mozscreenshots;r=MattN

diff --git a/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/DevEdition.jsm b/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/DevEdition.jsm
deleted file mode 100644
--- a/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/DevEdition.jsm
+++ /dev/null
@@ -1,42 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this file,
- * You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-"use strict";
-
-this.EXPORTED_SYMBOLS = ["DevEdition"];
-
-const {classes: Cc, interfaces: Ci, utils: Cu} = Components;
-const THEME_ID = "firefox-devedition@mozilla.org";
-
-Cu.import("resource://gre/modules/LightweightThemeManager.jsm");
-Cu.import("resource://gre/modules/Services.jsm");
-Cu.import("resource://gre/modules/Task.jsm");
-
-this.DevEdition = {
-  init(libDir) {},
-
-  configurations: {
-    devEditionLight: {
-      applyConfig: Task.async(() => {
-        Services.prefs.setCharPref("devtools.theme", "light");
-        LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme(THEME_ID);
-        Services.prefs.setBoolPref("browser.devedition.theme.showCustomizeButton", true);
-      }),
-    },
-    devEditionDark: {
-      applyConfig: Task.async(() => {
-        Services.prefs.setCharPref("devtools.theme", "dark");
-        LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme(THEME_ID);
-        Services.prefs.setBoolPref("browser.devedition.theme.showCustomizeButton", true);
-      }),
-    },
-    devEditionOff: {
-      applyConfig: Task.async(() => {
-        Services.prefs.clearUserPref("devtools.theme");
-        LightweightThemeManager.currentTheme = null;
-        Services.prefs.clearUserPref("browser.devedition.theme.showCustomizeButton");
-      }),
-    },
-  },
-};
diff --git a/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/LightweightThemes.jsm b/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/LightweightThemes.jsm
--- a/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/LightweightThemes.jsm
+++ b/browser/tools/mozscreenshots/mozscreenshots/extension/configurations/LightweightThemes.jsm
@@ -71,16 +71,27 @@ this.LightweightThemes = {
             resolve("lightLWT");
           }, 500);
         });
       },
 
       verifyConfig: verifyConfigHelper,
     },
 
+    compactLight: {
+      applyConfig: Task.async(() => {
+        LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme("firefox-compact-light@mozilla.org");
+      }),
+    },
+
+    compactDark: {
+      applyConfig: Task.async(() => {
+        LightweightThemeManager.currentTheme = LightweightThemeManager.getUsedTheme("firefox-compact-dark@mozilla.org");
+      }),
+    },
   },
 };
 
 
 function verifyConfigHelper() {
   return new Promise((resolve, reject) => {
     let browserWindow = Services.wm.getMostRecentWindow("navigator:browser");
     if (browserWindow.document.documentElement.hasAttribute("lwtheme")) {
