# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  62cbbd42c94e70e2892c325fa535c10713975791
Bug 1183203 - Use dark urlbar-arrow icon for dark Dev Edition theme;r=paolo

diff --git a/browser/themes/linux/jar.mn b/browser/themes/linux/jar.mn
--- a/browser/themes/linux/jar.mn
+++ b/browser/themes/linux/jar.mn
@@ -262,16 +262,18 @@ browser.jar:
   skin/classic/browser/tabview/tabview.png            (tabview/tabview.png)
   skin/classic/browser/tabview/tabview.css            (tabview/tabview.css)
   skin/classic/browser/translating-16.png             (../shared/translation/translating-16.png)
   skin/classic/browser/translating-16@2x.png          (../shared/translation/translating-16@2x.png)
   skin/classic/browser/translation-16.png             (../shared/translation/translation-16.png)
   skin/classic/browser/translation-16@2x.png          (../shared/translation/translation-16@2x.png)
   skin/classic/browser/devedition/search.svg          (../shared/devedition/search.svg)
   skin/classic/browser/devedition/urlbar-history-dropmarker.svg            (../shared/devedition/urlbar-history-dropmarker.svg)
+  skin/classic/browser/devedition/urlbar-arrow.png    (../shared/devedition/urlbar-arrow.png)
+  skin/classic/browser/devedition/urlbar-arrow@2x.png (../shared/devedition/urlbar-arrow@2x.png)
 * skin/classic/browser/devtools/common.css            (../shared/devtools/common.css)
 * skin/classic/browser/devtools/dark-theme.css        (../shared/devtools/dark-theme.css)
 * skin/classic/browser/devtools/light-theme.css       (../shared/devtools/light-theme.css)
   skin/classic/browser/devtools/add.svg               (../shared/devtools/images/add.svg)
   skin/classic/browser/devtools/filters.svg           (../shared/devtools/filters.svg)
   skin/classic/browser/devtools/filter-swatch.svg     (../shared/devtools/images/filter-swatch.svg)
   skin/classic/browser/devtools/pseudo-class.svg      (../shared/devtools/images/pseudo-class.svg)
   skin/classic/browser/devtools/controls.png          (../shared/devtools/images/controls.png)
diff --git a/browser/themes/osx/jar.mn b/browser/themes/osx/jar.mn
--- a/browser/themes/osx/jar.mn
+++ b/browser/themes/osx/jar.mn
@@ -363,16 +363,18 @@ browser.jar:
   skin/classic/browser/tabview/tabview.png                  (tabview/tabview.png)
   skin/classic/browser/tabview/tabview.css                  (tabview/tabview.css)
   skin/classic/browser/translating-16.png                   (../shared/translation/translating-16.png)
   skin/classic/browser/translating-16@2x.png                (../shared/translation/translating-16@2x.png)
   skin/classic/browser/translation-16.png                   (../shared/translation/translation-16.png)
   skin/classic/browser/translation-16@2x.png                (../shared/translation/translation-16@2x.png)
   skin/classic/browser/devedition/search.svg                (../shared/devedition/search.svg)
   skin/classic/browser/devedition/urlbar-history-dropmarker.svg            (../shared/devedition/urlbar-history-dropmarker.svg)
+  skin/classic/browser/devedition/urlbar-arrow.png          (../shared/devedition/urlbar-arrow.png)
+  skin/classic/browser/devedition/urlbar-arrow@2x.png       (../shared/devedition/urlbar-arrow@2x.png)
 * skin/classic/browser/devtools/common.css                  (../shared/devtools/common.css)
 * skin/classic/browser/devtools/dark-theme.css              (../shared/devtools/dark-theme.css)
 * skin/classic/browser/devtools/light-theme.css             (../shared/devtools/light-theme.css)
   skin/classic/browser/devtools/add.svg                     (../shared/devtools/images/add.svg)
   skin/classic/browser/devtools/filters.svg                 (../shared/devtools/filters.svg)
   skin/classic/browser/devtools/filter-swatch.svg           (../shared/devtools/images/filter-swatch.svg)
   skin/classic/browser/devtools/pseudo-class.svg            (../shared/devtools/images/pseudo-class.svg)
   skin/classic/browser/devtools/controls.png                (../shared/devtools/images/controls.png)
diff --git a/browser/themes/shared/devedition.inc.css b/browser/themes/shared/devedition.inc.css
--- a/browser/themes/shared/devedition.inc.css
+++ b/browser/themes/shared/devedition.inc.css
@@ -236,20 +236,31 @@ toolbar[brighttext] #downloads-indicator
 }
 
 window:not([chromehidden~="toolbar"]) #urlbar-wrapper {
   overflow: -moz-hidden-unscrollable;
   clip-path: none;
   -moz-margin-start: 0;
 }
 
-/* Make the white notication box stick out less. */
+/* Swap out the white arrow with a dark one for the dark theme */
+:root[devtoolstheme="dark"] #notification-popup-box {
+  border-image: url("chrome://browser/skin/devedition/urlbar-arrow.png") 0 8 0 0 fill;
+}
+
+@media (min-resolution: 1.1dppx) {
+  :root[devtoolstheme="dark"] #notification-popup-box {
+    border-image: url("chrome://browser/skin/devedition/urlbar-arrow@2x.png") 0 16 0 0 fill;
+  }
+}
+
+/* Make the white notication box stick out less and squish it next to the
+ * identity box since the border image won't be taking up any space. */
 #notification-popup-box {
   border-radius: 0;
-  border: none;
   background: transparent;
 }
 
 /* Nav bar specific stuff */
 #nav-bar {
   margin-top: 0 !important;
   border-top: none !important;
   border-bottom: none !important;
diff --git a/browser/themes/shared/devedition/urlbar-arrow.png b/browser/themes/shared/devedition/urlbar-arrow.png
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..c14afc780b4a4941865209e2dc99542c383ce56c
GIT binary patch
literal 189
zc%17D@N?(olHy`uVBq!ia0vp^96&6_!3HG%UcQ?Eq*^>(978G?OD85v9d;0L-Q0D{
z?BDfmYeh?^-gSL@J><EY@yyS6)tB1Fyq&ajmcL@9^T*=N_V*PQm`0sn>GXHb>XK_5
zFV6NEx9wuw&hE_FurTC-a>xVm1p)F6EvLLS80?%*`t!6p7^pF{NECLQSGgF~a!qNA
p*ve}LI$OjRZsl0(x_(}>-ib+bQi6|KcmUnQ;OXk;vd$@?2>`?WN>%^>

diff --git a/browser/themes/shared/devedition/urlbar-arrow@2x.png b/browser/themes/shared/devedition/urlbar-arrow@2x.png
new file mode 100644
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..e6867a49898e503367172f98f5b78c7f9ccd17ce
GIT binary patch
literal 263
zc%17D@N?(olHy`uVBq!ia0vp^0zj<8!3-p$r=Dm9QpN#3A+A8$H#o-0Bf!?lD>5M~
zDlrSlh)T#3mzMVlijGOjF|~5^4UUdaD^O6?^a+jzDt;@_&kNMXQ4-`A%<#BJ>+fHU
zzXora?*qlEJzX3_D&kr%o#tvV;9<R(wff$#fB)BuJ~<>He(~vn%&SY*ICq{e>oI(h
zSIqOA-P4WbEhCUnKGdDX0i>D)4|XspHK+(MK4B<guxv=WaCH^)3-vE6m$et^D%6(R
z@lE)r(8gN8kkZU#@TNxgSJ39EMhX%t-M<;1GVW^TS$FcO%PpWY7(8A5T-G@yGywpN
Ckz0@e

diff --git a/browser/themes/windows/jar.mn b/browser/themes/windows/jar.mn
--- a/browser/themes/windows/jar.mn
+++ b/browser/themes/windows/jar.mn
@@ -359,16 +359,18 @@ browser.jar:
         skin/classic/browser/tabview/tabview-inverted.png           (tabview/tabview-inverted.png)
         skin/classic/browser/tabview/tabview.css                    (tabview/tabview.css)
         skin/classic/browser/translating-16.png                     (../shared/translation/translating-16.png)
         skin/classic/browser/translating-16@2x.png                  (../shared/translation/translating-16@2x.png)
         skin/classic/browser/translation-16.png                     (../shared/translation/translation-16.png)
         skin/classic/browser/translation-16@2x.png                  (../shared/translation/translation-16@2x.png)
         skin/classic/browser/devedition/search.svg                  (../shared/devedition/search.svg)
         skin/classic/browser/devedition/urlbar-history-dropmarker.svg            (../shared/devedition/urlbar-history-dropmarker.svg)
+        skin/classic/browser/devedition/urlbar-arrow.png            (../shared/devedition/urlbar-arrow.png)
+        skin/classic/browser/devedition/urlbar-arrow@2x.png         (../shared/devedition/urlbar-arrow@2x.png)
 *       skin/classic/browser/devtools/common.css                    (../shared/devtools/common.css)
 *       skin/classic/browser/devtools/dark-theme.css                (../shared/devtools/dark-theme.css)
 *       skin/classic/browser/devtools/light-theme.css               (../shared/devtools/light-theme.css)
         skin/classic/browser/devtools/add.svg                       (../shared/devtools/images/add.svg)
         skin/classic/browser/devtools/filters.svg                   (../shared/devtools/filters.svg)
         skin/classic/browser/devtools/filter-swatch.svg             (../shared/devtools/images/filter-swatch.svg)
         skin/classic/browser/devtools/pseudo-class.svg              (../shared/devtools/images/pseudo-class.svg)
         skin/classic/browser/devtools/controls.png                  (../shared/devtools/images/controls.png)
