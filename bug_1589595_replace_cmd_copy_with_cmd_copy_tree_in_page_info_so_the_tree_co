# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1571874321 25200
#      Wed Oct 23 16:45:21 2019 -0700
# Node ID c11c1f353348d4b5920551716c826189bee9924a
# Parent  782f341be605f1a30e8a9bfbfc13ce389e620a24
Bug 1589595 - Replace cmd_copy with cmd_copy_tree in page info so the tree copy handler doesn't override the input field copy handler

Previously when uing <xul:textbox> the context menu was handled by the moz-input-box and not cmd_copy.
Now that these are <html:input> they rely on the cmd_copy by name through a menuitem created in editmenuoverlay
at https://searchfox.org/mozilla-central/rev/088e2cf29c59d733d57af43903eb0267dbf72e2a/toolkit/content/editMenuOverlay.js#119.

This also changes cmd_selectall with cmd_selectall_tree for consistency, but since the casing was different
between that and the edit menu (cmd_selectAll), this issue didn't come up.

Differential Revision: https://phabricator.services.mozilla.com/D50390

diff --git a/browser/base/content/pageinfo/pageInfo.xul b/browser/base/content/pageinfo/pageInfo.xul
--- a/browser/base/content/pageinfo/pageInfo.xul
+++ b/browser/base/content/pageinfo/pageInfo.xul
@@ -43,36 +43,36 @@
   <stringbundleset id="pageinfobundleset">
     <stringbundle id="pkiBundle" src="chrome://pippki/locale/pippki.properties"/>
     <stringbundle id="browserBundle" src="chrome://browser/locale/browser.properties"/>
   </stringbundleset>
 
   <commandset id="pageInfoCommandSet">
     <command id="cmd_close"     oncommand="window.close();"/>
     <command id="cmd_help"      oncommand="doHelpButton();"/>
-    <command id="cmd_copy"      oncommand="doCopy();"/>
-    <command id="cmd_selectall" oncommand="doSelectAll();"/>
+    <command id="cmd_copy_tree"      oncommand="doCopy();"/>
+    <command id="cmd_selectall_tree" oncommand="doSelectAll();"/>
   </commandset>
 
   <keyset id="pageInfoKeySet">
     <key data-l10n-id="close-dialog" data-l10n-attrs="key" modifiers="accel" command="cmd_close"/>
     <key keycode="VK_ESCAPE" command="cmd_close"/>
 #ifdef XP_MACOSX
     <key key="." modifiers="meta"  command="cmd_close"/>
 #else
     <key keycode="VK_F1" command="cmd_help"/>
 #endif
-    <key data-l10n-id="copy"       data-l10n-attrs="key" modifiers="accel" command="cmd_copy"/>
-    <key data-l10n-id="select-all" data-l10n-attrs="key" modifiers="accel" command="cmd_selectall"/>
-    <key data-l10n-id="select-all" data-l10n-attrs="key" modifiers="alt"   command="cmd_selectall"/>
+    <key data-l10n-id="copy"       data-l10n-attrs="key" modifiers="accel" command="cmd_copy_tree"/>
+    <key data-l10n-id="select-all" data-l10n-attrs="key" modifiers="accel" command="cmd_selectall_tree"/>
+    <key data-l10n-id="select-all" data-l10n-attrs="key" modifiers="alt"   command="cmd_selectall_tree"/>
   </keyset>
 
   <menupopup id="picontext">
-    <menuitem id="menu_selectall" data-l10n-id="menu-select-all" command="cmd_selectall"/>
-    <menuitem id="menu_copy"      data-l10n-id="menu-copy"       command="cmd_copy"/>
+    <menuitem id="menu_selectall" data-l10n-id="menu-select-all" command="cmd_selectall_tree"/>
+    <menuitem id="menu_copy"      data-l10n-id="menu-copy"       command="cmd_copy_tree"/>
   </menupopup>
 
   <vbox id="topBar">
     <radiogroup id="viewGroup" class="chromeclass-toolbar" orient="horizontal">
       <radio id="generalTab"  data-l10n-id="general-tab"
            oncommand="showTab('general');"/>
       <radio id="mediaTab"    data-l10n-id="media-tab"
            oncommand="showTab('media');" hidden="true"/>
