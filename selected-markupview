# HG changeset patch
# Parent 5d020fa8466104695256e47f43ecd373812c3832
# User Brian Grinstead <bgrinstead@mozilla.com>
Bug 968315 - Current / hovered node highlighting colors need to be higher contrast

diff --git a/browser/themes/shared/devtools/dark-theme.css b/browser/themes/shared/devtools/dark-theme.css
--- a/browser/themes/shared/devtools/dark-theme.css
+++ b/browser/themes/shared/devtools/dark-theme.css
@@ -49,17 +49,18 @@
   background-position: -28px 0;
 }
 
 .theme-checkbox[checked] {
   background-position: -42px 0;
 }
 
 .theme-selected {
-  background: #26394D;
+  background-color: #1d4f73;
+  color: #f5f7fa; /* Light foreground text */
 }
 
 .theme-bg-darker {
   background-color: rgba(0,0,0,0.5);
 }
 
 .theme-bg-contrast,
 .variable-or-property:not([overridden])[changed] { /* contrast bg color to attract attention on a container */
diff --git a/browser/themes/shared/devtools/light-theme.css b/browser/themes/shared/devtools/light-theme.css
--- a/browser/themes/shared/devtools/light-theme.css
+++ b/browser/themes/shared/devtools/light-theme.css
@@ -33,33 +33,43 @@
 .theme-twisty:-moz-focusring {
   outline-style: none;
 }
 
 .theme-twisty[open] {
   background-position: -14px -14px;
 }
 
+/* Use white twisty when next to a selected item in markup view */
+.theme-selected ~ .theme-twisty {
+  background-position: -28px -14px;
+}
+
+.theme-selected ~ .theme-twisty[open] {
+  background-position: -42px -14px;
+}
+
 .theme-checkbox {
   display: inline-block;
   border: 0;
   width: 14px;
   height: 14px;
   padding: 0;
   outline: none;
   background-image: url("chrome://browser/skin/devtools/controls.png");
   background-position: 0 0;
 }
 
 .theme-checkbox[checked] {
   background-position: -14px 0;
 }
 
 .theme-selected {
-  background-color: #CCC;
+  background-color: #4c9ed9;
+  color: #f5f7fa; /* Light foreground text */
 }
 
 .theme-bg-darker {
   background: #EFEFEF;
 }
 
 .theme-bg-contrast,
 .variable-or-property:not([overridden])[changed] { /* contrast bg color to attract attention on a container */
diff --git a/browser/themes/shared/devtools/markup-view.css b/browser/themes/shared/devtools/markup-view.css
--- a/browser/themes/shared/devtools/markup-view.css
+++ b/browser/themes/shared/devtools/markup-view.css
@@ -9,8 +9,23 @@
 
 .more-nodes {
   padding-left: 16px;
 }
 
 .styleinspector-propertyeditor {
   border: 1px solid #CCC;
 }
+
+
+/* Selected nodes in the tree should have light selected text.
+   theme-selected doesn't work in this case since the text is a
+   sibling of the class, not a child. */
+.theme-selected ~ .editor,
+.theme-selected ~ .editor .theme-fg-color1,
+.theme-selected ~ .editor .theme-fg-color2,
+.theme-selected ~ .editor .theme-fg-color3,
+.theme-selected ~ .editor .theme-fg-color4,
+.theme-selected ~ .editor .theme-fg-color5,
+.theme-selected ~ .editor .theme-fg-color6,
+.theme-selected ~ .editor .theme-fg-color7 {
+  color: #f5f7fa; /* Light foreground text */
+}
