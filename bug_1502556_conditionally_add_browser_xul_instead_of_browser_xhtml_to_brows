# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1540596427 25200
#      Fri Oct 26 16:27:07 2018 -0700
# Node ID bf62991e6ca7dafa9415685f0e58e470b3392a61
# Parent  28a4562cb5173c543cce6b58480ac80fcce3763a
Bug 1502556 - Conditionally add browser.xul instead of browser.xhtml to browser_all_files_referenced.js;r=Gijs

Differential Revision: https://phabricator.services.mozilla.com/D9980

diff --git a/browser/base/content/test/static/browser_all_files_referenced.js b/browser/base/content/test/static/browser_all_files_referenced.js
--- a/browser/base/content/test/static/browser_all_files_referenced.js
+++ b/browser/base/content/test/static/browser_all_files_referenced.js
@@ -165,17 +165,18 @@ var whitelist = [
   // Bug 1378173 (warning: still used by devtools)
   {file: "resource://gre/modules/Promise.jsm"},
   // Still used by WebIDE, which is going away but not entirely gone.
   {file: "resource://gre/modules/ZipUtils.jsm"},
   // Bug 1463225 (on Mac and Windows this is only used by a test)
   {file: "chrome://global/content/bindings/toolbar.xml",
    platforms: ["macosx", "win"]},
   // Bug 1483277 (temporarily unreferenced)
-  {file: "chrome://browser/content/browser.xhtml"},
+  {file: AppConstants.BROWSER_CHROME_URL == "chrome://browser/content/browser.xul" ?
+    "chrome://browser/content/browser.xhtml" : "chrome://browser/content/browser.xul" },
   // Bug 1494170
   // (The references to these files are dynamically generated, so the test can't
   // find the references)
   {file: "chrome://devtools/skin/images/aboutdebugging-firefox-aurora.svg",
    isFromDevTools: true},
   {file: "chrome://devtools/skin/images/aboutdebugging-firefox-beta.svg",
    isFromDevTools: true},
   {file: "chrome://devtools/skin/images/aboutdebugging-firefox-release.svg",
