# HG changeset patch
# Parent a3921b55535249b6fb55c95d66af7f9fd72b3177
shadowroot should not be in doc

diff --git a/content/base/src/ShadowRoot.cpp b/content/base/src/ShadowRoot.cpp
--- a/content/base/src/ShadowRoot.cpp
+++ b/content/base/src/ShadowRoot.cpp
@@ -68,18 +68,17 @@ ShadowRoot::ShadowRoot(nsIContent* aCont
                        already_AddRefed<nsINodeInfo>&& aNodeInfo,
                        nsXBLPrototypeBinding* aProtoBinding)
   : DocumentFragment(aNodeInfo), mPoolHost(aContent),
     mProtoBinding(aProtoBinding), mShadowElement(nullptr),
     mInsertionPointChanged(false)
 {
   SetHost(aContent);
   SetFlags(NODE_IS_IN_SHADOW_TREE);
-  // ShadowRoot isn't really in the document but it behaves like it is.
-  SetInDocument();
+
   DOMSlots()->mBindingParent = aContent;
   DOMSlots()->mContainingShadow = this;
 
   // Add the ShadowRoot as a mutation observer on the host to watch
   // for mutations because the insertion points in this ShadowRoot
   // may need to be updated when the host children are modified.
   mPoolHost->AddMutationObserver(this);
 }
