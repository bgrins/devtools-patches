# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  7691b5b3ed87093dce6839c1888eba5c0b30fc34

diff --git a/toolkit/content/widgets/search-textbox.js b/toolkit/content/widgets/search-textbox.js
--- a/toolkit/content/widgets/search-textbox.js
+++ b/toolkit/content/widgets/search-textbox.js
@@ -132,16 +132,38 @@ class MozSearchTextbox extends MozXULEle
     }
 
     if (this._timer) {
       clearTimeout(this._timer);
     }
     return val;
   }
 
+  get editor() {
+    return this.inputField.editor;
+  }
+
+  set defaultValue(val) {
+    this.inputField.defaultValue = val;
+    return val;
+  }
+
+  get defaultValue() {
+    return this.inputField.defaultValue;
+  }
+
+  reset() {
+    this.value = this.defaultValue;
+    try {
+      this.editor.transactionManager.clear();
+      return true;
+    } catch (e) {}
+    return false;
+  }
+
   get value() {
     return this.inputField.value;
   }
 
   _fireCommand(me) {
     if (me._timer) {
       clearTimeout(me._timer);
     }
