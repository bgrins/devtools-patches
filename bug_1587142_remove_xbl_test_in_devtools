# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Date 1572032773 25200
#      Fri Oct 25 12:46:13 2019 -0700
# Node ID 53b7303e29486cd84114f6d6542003a1ddba6a37
# Parent  488a645239f7509d2a7be03e67306a9b4627700a
Bug 1587142 - Remove XBL test in devtools/

Differential Revision: https://phabricator.services.mozilla.com/D50655

diff --git a/devtools/client/inspector/markup/test/browser.ini b/devtools/client/inspector/markup/test/browser.ini
--- a/devtools/client/inspector/markup/test/browser.ini
+++ b/devtools/client/inspector/markup/test/browser.ini
@@ -3,17 +3,16 @@ prefs =
   # Bug 1520383 - Force devtools.chrome.enabled to false regardless of whether
   # we're in an official build so we don't show event bubbles from chrome event
   # listeners in the inspector on unprivileged test pages.
   devtools.chrome.enabled=false
 tags = devtools
 subsuite = devtools
 support-files =
   doc_markup_anonymous.html
-  doc_markup_anonymous_xul.xul
   doc_markup_dragdrop.html
   doc_markup_dragdrop_autoscroll_01.html
   doc_markup_dragdrop_autoscroll_02.html
   doc_markup_edit.html
   doc_markup_events_01.html
   doc_markup_events_02.html
   doc_markup_events_03.html
   doc_markup_events_04.html
@@ -93,18 +92,16 @@ support-files =
 skip-if = os == "mac" # Full keyboard navigation on OSX only works if Full Keyboard Access setting is set to All Control in System Keyboard Preferences
 [browser_markup_accessibility_navigation.js]
 skip-if = os == "mac" # Full keyboard navigation on OSX only works if Full Keyboard Access setting is set to All Control in System Keyboard Preferences
 [browser_markup_accessibility_new_selection.js]
 [browser_markup_accessibility_navigation_after_edit.js]
 skip-if = os == "mac" # Full keyboard navigation on OSX only works if Full Keyboard Access setting is set to All Control in System Keyboard Preferences
 [browser_markup_accessibility_semantics.js]
 [browser_markup_anonymous_01.js]
-[browser_markup_anonymous_02.js]
-skip-if = !xbl || (os == 'win' && processor == 'aarch64') # bug 1531584
 [browser_markup_anonymous_03.js]
 skip-if = (os == 'win' && processor == 'aarch64') # bug 1531584
 [browser_markup_anonymous_04.js]
 skip-if = (os == 'win' && processor == 'aarch64') # bug 1531584
 [browser_markup_copy_html.js]
 tags = clipboard
 [browser_markup_copy_image_data.js]
 tags = clipboard
diff --git a/devtools/client/inspector/markup/test/browser_markup_anonymous_02.js b/devtools/client/inspector/markup/test/browser_markup_anonymous_02.js
deleted file mode 100644
--- a/devtools/client/inspector/markup/test/browser_markup_anonymous_02.js
+++ /dev/null
@@ -1,29 +0,0 @@
-/* Any copyright is dedicated to the Public Domain.
- http://creativecommons.org/publicdomain/zero/1.0/ */
-
-"use strict";
-
-requestLongerTimeout(2);
-
-// Test XBL anonymous content in the markupview
-const TEST_URL = URL_ROOT + "doc_markup_anonymous_xul.xul";
-
-add_task(async function() {
-  const { inspector } = await openInspectorForURL(TEST_URL);
-
-  const boundNode = await getNodeFront("#xbl-host", inspector);
-  const children = await inspector.walker.children(boundNode);
-
-  is(boundNode.numChildren, 2, "Correct number of children");
-  is(children.nodes.length, 2, "Children returned from walker");
-
-  is(boundNode.isAnonymous, false, "Node with XBL binding is not anonymous");
-  await isEditingMenuEnabled(boundNode, inspector);
-
-  for (const node of children.nodes) {
-    ok(node.isAnonymous, "Child is anonymous");
-    ok(!node._form.isShadowAnonymous, "Child is not shadow anonymous");
-    ok(!node._form.isNativeAnonymous, "Child is not native anonymous");
-    await isEditingMenuDisabled(node, inspector);
-  }
-});
diff --git a/devtools/client/inspector/markup/test/doc_markup_anonymous_xul.xul b/devtools/client/inspector/markup/test/doc_markup_anonymous_xul.xul
deleted file mode 100644
--- a/devtools/client/inspector/markup/test/doc_markup_anonymous_xul.xul
+++ /dev/null
@@ -1,17 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-
-<xul:window xmlns="http://www.w3.org/1999/xhtml"
-            xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-            title="Test anonymous xul nodes.">
-  <xbl:bindings xmlns:xbl="http://www.mozilla.org/xbl"
-                xmlns:xul="http://www.mozilla.org/keymaster/gaktekeeper/there.is.only.xul">
-    <xbl:binding id="test">
-      <xbl:content>
-        <xul:box anonid="xbl-anon1">Anonymous</xul:box>
-        <xul:box anonid="xbl-anon2">Anonymous</xul:box>
-      </xbl:content>
-    </xbl:binding>
-  </xbl:bindings>
-  <box id="xbl-host" style="-moz-binding: url(#test)"/>
-</xul:window>
-
