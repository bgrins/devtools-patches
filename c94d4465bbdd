
# HG changeset patch
# User Julian Descottes <jdescottes@mozilla.com>
# Date 1476724013 -7200
# Node ID c94d4465bbdd76bb370fb7c06d3acdcc3684d672
# Parent  885ea657cf57e371e4f7ed865efd61a9b09a09c1
Bug 1291049 - Use relative urls for images in inspector stylesheets

This is a temporary workaround to have images when loading the inspector
in a content tab but can't be committed as is (see Bug 1310337)

MozReview-Commit-ID: FMr65ynW53h

diff --git a/devtools/client/themes/common.css b/devtools/client/themes/common.css
--- a/devtools/client/themes/common.css
+++ b/devtools/client/themes/common.css
@@ -347,7 +347,7 @@
 .devtools-menulist > .menulist-dropmarker {
   -moz-appearance: none;
   display: -moz-box;
-  list-style-image: url("chrome://devtools/skin/images/dropmarker.svg");
+  list-style-image: url(images/dropmarker.svg);
   -moz-box-align: center;
   min-width: 16px;
 }
@@ -355,7 +355,7 @@
 .devtools-toolbarbutton[type=menu] > .toolbarbutton-menu-dropmarker,
 .devtools-toolbarbutton[type=menu-button] > .toolbarbutton-menubutton-dropmarker {
   -moz-appearance: none !important;
-  list-style-image: url("chrome://devtools/skin/images/dropmarker.svg");
+  list-style-image: url(images/dropmarker.svg);
   -moz-box-align: center;
   padding: 0 3px;
 }
@@ -450,7 +450,7 @@
 }
 
 :root {
-  --clear-icon-url: url("chrome://devtools/skin/images/clear.svg");
+  --clear-icon-url: url(images/clear.svg);
 }
 
 .devtools-button.devtools-clear-icon::before {
@@ -664,15 +664,15 @@
 }
 
 .theme-dark .devtools-searchinput-clear {
-  background-image: url("chrome://devtools/skin/images/search-clear-dark.svg");
+  background-image: url(images/search-clear-dark.svg);
 }
 
 .theme-light .devtools-searchinput-clear {
-  background-image: url("chrome://devtools/skin/images/search-clear-light.svg");
+  background-image: url(images/search-clear-light.svg);
 }
 
 .devtools-style-searchbox-no-match + .devtools-searchinput-clear {
-  background-image: url("chrome://devtools/skin/images/search-clear-failed.svg") !important;
+  background-image: url(images/search-clear-failed.svg) !important;
 }
 
 .devtools-searchinput-clear:hover {
@@ -681,13 +681,13 @@
 
 .theme-dark .devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-clear,
 .theme-dark .devtools-filterinput > .textbox-input-box > .textbox-search-icons > .textbox-search-clear {
-  list-style-image: url("chrome://devtools/skin/images/search-clear-dark.svg");
+  list-style-image: url(images/search-clear-dark.svg);
   -moz-image-region: rect(0, 16px, 16px, 0);
 }
 
 .theme-light .devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-clear,
 .theme-light .devtools-filterinput > .textbox-input-box > .textbox-search-icons > .textbox-search-clear {
-  list-style-image: url("chrome://devtools/skin/images/search-clear-light.svg");
+  list-style-image: url(images/search-clear-light.svg);
   -moz-image-region: rect(0, 16px, 16px, 0);
 }
 
@@ -706,7 +706,7 @@
   width: 14px;
   height: 14px;
   background-repeat: no-repeat;
-  background-image: url("chrome://devtools/skin/images/controls.png");
+  background-image: url(images/controls.png);
   background-size: 56px 28px;
 }
 
@@ -765,7 +765,7 @@
 
 @media (min-resolution: 1.1dppx) {
   .theme-twisty, .theme-checkbox {
-    background-image: url("chrome://devtools/skin/images/controls@2x.png");
+    background-image: url(images/controls@2x.png);
   }
 }
 
diff --git a/devtools/client/themes/inspector.css b/devtools/client/themes/inspector.css
--- a/devtools/client/themes/inspector.css
+++ b/devtools/client/themes/inspector.css
@@ -91,8 +91,8 @@
 
 /* Add element toolbar button */
 #inspector-element-add-button::before {
-  background-image: url("chrome://devtools/skin/images/add.svg");
-  list-style-image: url("chrome://devtools/skin/images/add.svg");
+  background-image: url(images/add.svg);
+  list-style-image: url(images/add.svg);
   -moz-user-focus: normal;
 }
 
diff --git a/devtools/client/themes/rules.css b/devtools/client/themes/rules.css
--- a/devtools/client/themes/rules.css
+++ b/devtools/client/themes/rules.css
@@ -397,23 +397,23 @@
 }
 
 .ruleview-bezierswatch {
-  background: url("chrome://devtools/skin/images/cubic-bezier-swatch.png");
+  background: url(images/cubic-bezier-swatch.png);
   background-size: 1em;
 }
 
 .ruleview-filterswatch {
-  background: url("chrome://devtools/skin/images/filter-swatch.svg");
+  background: url(images/filter-swatch.svg);
   background-size: 1em;
 }
 
 .ruleview-angleswatch {
-  background: url("chrome://devtools/skin/images/angle-swatch.svg");
+  background: url(images/angle-swatch.svg);
   background-size: 1em;
 }
 
 @media (min-resolution: 1.1dppx) {
   .ruleview-bezierswatch {
-    background: url("chrome://devtools/skin/images/cubic-bezier-swatch@2x.png");
+    background: url(images/cubic-bezier-swatch@2x.png);
     background-size: 1em;
   }
 }
@@ -494,7 +494,7 @@
 }
 
 .ruleview-selectorhighlighter {
-  background: url("chrome://devtools/skin/images/vview-open-inspector.png") no-repeat 0 0;
+  background: url(images/vview-open-inspector.png) no-repeat 0 0;
   padding-left: 16px;
   margin-left: 5px;
   cursor: pointer;
@@ -510,12 +510,12 @@
 }
 
 #ruleview-add-rule-button::before {
-  background-image: url("chrome://devtools/skin/images/add.svg");
+  background-image: url(images/add.svg);
   background-size: cover;
 }
 
 #pseudo-class-panel-toggle::before {
-  background-image: url("chrome://devtools/skin/images/pseudo-class.svg");
+  background-image: url(images/pseudo-class.svg);
   background-size: cover;
 }
 
@@ -536,7 +536,7 @@
 .theme-firebug .ruleview-rule .theme-checkbox {
   background-repeat: no-repeat;
   background-size: 12px 12px;
-  background-image: url(chrome://devtools/skin/images/firebug/disable.svg);
+  background-image: url(images/firebug/disable.svg);
   background-position: 0 0;
 }
 

